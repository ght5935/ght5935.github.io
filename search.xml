<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å°†setStateå¼‚æ­¥æ“ä½œæ”¹ä¸ºåŒæ­¥</title>
      <link href="/2021/04/06/react-1/"/>
      <url>/2021/04/06/react-1/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼‚æ­¥çš„æƒ…å†µ"><a href="#å¼‚æ­¥çš„æƒ…å†µ" class="headerlink" title="å¼‚æ­¥çš„æƒ…å†µ"></a>å¼‚æ­¥çš„æƒ…å†µ</h2><p>ç”±Reactæ§åˆ¶çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»¥åŠç”Ÿå‘½å‘¨æœŸå‡½æ•°è°ƒç”¨setStateæ—¶è¡¨ç°ä¸ºå¼‚æ­¥ ã€‚å¤§éƒ¨åˆ†å¼€å‘ä¸­ç”¨åˆ°çš„éƒ½æ˜¯Reactå°è£…çš„äº‹ä»¶ï¼Œæ¯”å¦‚onChangeã€onClickã€onTouchMoveç­‰ï¼ˆåˆæˆäº‹ä»¶ä¸­ï¼‰ä»¥åŠé’©å­å‡½æ•°ä¸­ï¼Œè¿™äº›äº‹ä»¶å¤„ç†å‡½æ•°ä¸­çš„setStateéƒ½æ˜¯å¼‚æ­¥å¤„ç†çš„ã€‚</p><h2 id="åŒæ­¥çš„æƒ…å†µï¼š"><a href="#åŒæ­¥çš„æƒ…å†µï¼š" class="headerlink" title="åŒæ­¥çš„æƒ…å†µï¼š"></a>åŒæ­¥çš„æƒ…å†µï¼š</h2><p>Reactæ§åˆ¶ä¹‹å¤–çš„äº‹ä»¶ä¸­è°ƒç”¨setStateæ˜¯åŒæ­¥æ›´æ–°çš„ã€‚æ¯”å¦‚åŸç”Ÿjsç»‘å®šçš„äº‹ä»¶ï¼ŒsetTimeout/setIntervalï¼Œajaxï¼Œpromise.thenå†…ç­‰ React æ— æ³•æŒæ§çš„ APIsæƒ…å†µä¸‹ï¼ŒsetStateæ˜¯åŒæ­¥æ›´æ–°stateçš„ã€‚</p><h2 id="å°†setStateå¼‚æ­¥æ“ä½œæ”¹ä¸ºåŒæ­¥"><a href="#å°†setStateå¼‚æ­¥æ“ä½œæ”¹ä¸ºåŒæ­¥" class="headerlink" title="å°†setStateå¼‚æ­¥æ“ä½œæ”¹ä¸ºåŒæ­¥"></a>å°†setStateå¼‚æ­¥æ“ä½œæ”¹ä¸ºåŒæ­¥</h2><h3 id="1-async-awaitæ–¹æ³•"><a href="#1-async-awaitæ–¹æ³•" class="headerlink" title="1.async awaitæ–¹æ³•"></a>1.async awaitæ–¹æ³•</h3><p><code>setState</code>æœ¬èº«ä¸ºå¼‚æ­¥ï¼Œå¯ä»¥æ¨¡ä»¿promiseå¤„ç†å¼‚æ­¥çš„æ–¹æ³•ï¼Œå¤–å±‚åŒ…è£¹<strong>åŒ¿åå‡½æ•°</strong>åŠ <code>async</code>ï¼Œå¹¶<code>await setState</code>æ–¹æ³•çš„ç»“æœï¼›</p><h3 id="2-Promiseæ–¹æ³•"><a href="#2-Promiseæ–¹æ³•" class="headerlink" title="2.Promiseæ–¹æ³•"></a>2.Promiseæ–¹æ³•</h3><p>å°†å¼‚æ­¥åŒ…å«åœ¨<code>Promise</code>å¯¹è±¡ä¸­å†è¿”å›promiseå¯¹è±¡ï¼Œå†ç”¨asyncå’Œawaitç»„åˆè°ƒç”¨å®ç°ï¼ŒåŸç†å’Œ<code>async await</code>æ–¹æ³• ä¸€æ ·ï¼›</p><h3 id="3-setTimeoutæ–¹æ³•"><a href="#3-setTimeoutæ–¹æ³•" class="headerlink" title="3.setTimeoutæ–¹æ³•"></a>3.setTimeoutæ–¹æ³•</h3><p>åŸç†æš‚æ—¶æ²¡ææ¸…æ¥š/(ã„’oã„’)/~~ï¼ŒsetStateè¿›å¾®é˜Ÿåˆ—ï¼ŒsetTimeoutè¿›å®é˜Ÿåˆ—ï¼Œå®é˜Ÿåˆ—åœ¨å¾®é˜Ÿåˆ—ä¹‹åæ‰§è¡Œï¼Ÿ</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>    <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>            age<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 1.async awaitæ–¹æ³•</span>    update <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> age<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">/*  2.Promiseæ–¹æ³•     async update() {             await this.setStateAsync({ age: this.state.age + 1 })             console.log(this.state.age);     }     setStateAsync = (state) => {             return new Promise((resolve) => {             this.setState(state, resolve);         })     } */</span>    <span class="token comment" spellcheck="true">/* 3.setTimeoutæ–¹æ³•     update = (() => {        setTimeout(() => {            this.setState({ age: this.state.age + 1 })            console.log(this.state.age);        }, 0);    }    ) */</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">const</span> <span class="token punctuation">{</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>                <span class="token operator">&lt;</span>span<span class="token operator">></span><span class="token punctuation">{</span>age<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span><span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">></span>                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>update<span class="token punctuation">}</span><span class="token operator">></span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">></span>                <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* &lt;button onClick={this.update.bind(this)}>+1&lt;/button>&lt;br /> */</span><span class="token punctuation">}</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reactä¸­setStateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥çš„?</title>
      <link href="/2021/03/31/react-0/"/>
      <url>/2021/03/31/react-0/</url>
      
        <content type="html"><![CDATA[<h2 id="React-setStateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥çš„"><a href="#React-setStateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥çš„" class="headerlink" title="React setStateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥çš„?"></a>React setStateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥çš„?</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">IndexPage</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>      val<span class="token punctuation">:</span> <span class="token number">0</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// ç»„ä»¶æŒ‚è½½å‰è§¦å‘</span>  <span class="token punctuation">}</span>  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> val<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 0</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> val<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 0</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> val<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 2</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> val<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 3</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span>  <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span> nextState<span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">// ç»„ä»¶Propsæˆ–è€…stateæ”¹å˜æ—¶è§¦å‘ï¼Œtrueï¼šæ›´æ–°ï¼Œfalseï¼šä¸æ›´æ–°</span>    <span class="token keyword">return</span> <span class="token boolean">true</span>  <span class="token punctuation">}</span>  <span class="token function">componentWillUpdate</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span> nextState<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// ç»„ä»¶æ›´æ–°å‰è§¦å‘</span>  <span class="token punctuation">}</span>  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// ç»„ä»¶æ›´æ–°åè§¦å‘</span>  <span class="token punctuation">}</span>  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// ç»„ä»¶å¸è½½æ—¶è§¦å‘</span>  <span class="token punctuation">}</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> <span class="token punctuation">{</span> val <span class="token punctuation">}</span><span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token string">'å“ˆå“ˆ'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 0 1 2 3</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>div<span class="token operator">></span>        æˆ‘æ˜¯é¦–é¡µ<span class="token punctuation">{</span>val<span class="token punctuation">}</span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><blockquote><ul><li>reactå†…éƒ¨ä¸ºäº†ä¼˜åŒ–setState()çš„æ‰¹å¤„ç†ï¼Œä¼šå¯¹setState()è¿›è¡Œåˆå¹¶ï¼Œå¹¶ä¸”å¯¹ç›¸åŒå±æ€§çš„è®¾ç½®<code>åªä¿ç•™æœ€åä¸€æ¬¡</code>çš„è®¾ç½®ï¼Œç±»ä¼¼äºå‡½æ•°Object.assign()ã€‚</li></ul></blockquote><blockquote><ul><li>åœ¨ React çš„ setState å‡½æ•°å®ç°ä¸­ï¼Œä¼šæ ¹æ®ä¸€ä¸ªå˜é‡ <code>isBatchingUpdates</code> åˆ¤æ–­æ˜¯ç›´æ¥æ›´æ–° this.state è¿˜æ˜¯æ”¾åˆ°ä¸€ä¸ª<code>updateQueue</code>ä¸­å»¶æ—¶æ›´æ–°ï¼Œè€Œ <code>isBatchingUpdates</code> é»˜è®¤æ˜¯ <strong>false</strong>ï¼Œè¡¨ç¤º setState ä¼šåŒæ­¥æ›´æ–° this.stateï¼›ä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªå‡½æ•° <code>batchedUpdates</code>ï¼Œè¯¥å‡½æ•°ä¼šæŠŠ <code>isBatchingUpdates</code> ä¿®æ”¹ä¸º <strong>true</strong>ï¼Œè€Œå½“ React åœ¨è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°ä¹‹å‰å°±ä¼šå…ˆè°ƒç”¨è¿™ä¸ª <code>batchedUpdates</code>å°†<code>isBatchingUpdates</code>ä¿®æ”¹ä¸º<strong>true</strong>ï¼Œè¿™æ ·ç”± React æ§åˆ¶çš„äº‹ä»¶å¤„ç†è¿‡ç¨‹ setState ä¸ä¼šåŒæ­¥æ›´æ–° this.stateï¼Œè€Œæ˜¯å¼‚æ­¥çš„ã€‚</li></ul></blockquote><p>ç»“åˆä¸Šé¢åˆ†æçš„ï¼Œé’©å­å‡½æ•°ä¸­çš„ setState æ— æ³•ç«‹é©¬æ‹¿åˆ°æ›´æ–°åçš„å€¼ï¼Œæ‰€ä»¥å‰ä¸¤æ¬¡éƒ½æ˜¯è¾“å‡º0ï¼Œå½“æ‰§è¡Œåˆ° setTimeout é‡Œçš„æ—¶å€™ï¼Œå‰é¢ä¸¤ä¸ªstateçš„å€¼å·²ç»è¢«æ›´æ–°ï¼Œç”±äº setState æ‰¹é‡æ›´æ–°çš„ç­–ç•¥ï¼Œ this.state.val åªå¯¹æœ€åä¸€æ¬¡çš„ç”Ÿæ•ˆï¼Œä¸º1ï¼Œè€Œåœ¨ setTimmout ä¸­ setState æ˜¯å¯ä»¥åŒæ­¥æ‹¿åˆ°æ›´æ–°ç»“æœï¼Œæ‰€ä»¥ setTimeout ä¸­çš„ä¸¤æ¬¡è¾“å‡º2ï¼Œ3ï¼Œæœ€ç»ˆç»“æœå°±ä¸º 0, 0, 2, 3 ã€‚</p><h2 id="setState-gt-å‚æ•°"><a href="#setState-gt-å‚æ•°" class="headerlink" title="setState({},()=&gt;{})å‚æ•°"></a>setState({},()=&gt;{})å‚æ•°</h2><pre class=" language-js"><code class="language-js">  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> val<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val<span class="token punctuation">,</span> <span class="token string">'www'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 1</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 0</span>  <span class="token punctuation">}</span></code></pre><blockquote><ul><li>ä¼ é€’å¯¹è±¡ï¼šæ‰¹å¤„ç†ï¼Œå¯¹ç›¸åŒå˜é‡è¿›è¡Œçš„å¤šæ¬¡å¤„ç†ä¼šåˆå¹¶ä¸ºä¸€ä¸ªï¼Œå¹¶ä»¥æœ€åä¸€æ¬¡çš„å¤„ç†ç»“æœä¸ºå‡†ã€‚</li></ul></blockquote><blockquote><ul><li>ä¼ é€’å‡½æ•°ï¼šé“¾å¼è°ƒç”¨ï¼ŒReact ä¼šæŠŠæˆ‘ä»¬æ›´æ–° state çš„å‡½æ•°åŠ å…¥åˆ°ä¸€ä¸ªé˜Ÿåˆ—é‡Œé¢ï¼Œç„¶åï¼ŒæŒ‰ç…§å‡½æ•°çš„é¡ºåºä¾æ¬¡è°ƒç”¨ï¼Œä¸ä¼šåˆå¹¶ä¸ºä¸€æ¬¡ã€‚åŒæ—¶ï¼Œä¸ºæ¯ä¸ªå‡½æ•°ä¼ å…¥ state çš„å‰ä¸€ä¸ªçŠ¶æ€ï¼Œè¿™æ ·ï¼Œå°±èƒ½æ›´åˆç†çš„æ¥æ›´æ–°æˆ‘ä»¬çš„ state äº†,è¯¥å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°prevStateå’Œpropsã€‚</li></ul></blockquote><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><h3 id="å¼‚æ­¥çš„æƒ…å†µ"><a href="#å¼‚æ­¥çš„æƒ…å†µ" class="headerlink" title="å¼‚æ­¥çš„æƒ…å†µ"></a>å¼‚æ­¥çš„æƒ…å†µ</h3><p>ç”±Reactæ§åˆ¶çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»¥åŠç”Ÿå‘½å‘¨æœŸå‡½æ•°è°ƒç”¨setStateæ—¶è¡¨ç°ä¸ºå¼‚æ­¥ ã€‚å¤§éƒ¨åˆ†å¼€å‘ä¸­ç”¨åˆ°çš„éƒ½æ˜¯Reactå°è£…çš„äº‹ä»¶ï¼Œæ¯”å¦‚onChangeã€onClickã€onTouchMoveç­‰ï¼ˆåˆæˆäº‹ä»¶ä¸­ï¼‰ä»¥åŠé’©å­å‡½æ•°ä¸­ï¼Œè¿™äº›äº‹ä»¶å¤„ç†å‡½æ•°ä¸­çš„setStateéƒ½æ˜¯å¼‚æ­¥å¤„ç†çš„ã€‚</p><h3 id="åŒæ­¥çš„æƒ…å†µï¼š"><a href="#åŒæ­¥çš„æƒ…å†µï¼š" class="headerlink" title="åŒæ­¥çš„æƒ…å†µï¼š"></a>åŒæ­¥çš„æƒ…å†µï¼š</h3><p>Reactæ§åˆ¶ä¹‹å¤–çš„äº‹ä»¶ä¸­è°ƒç”¨setStateæ˜¯åŒæ­¥æ›´æ–°çš„ã€‚æ¯”å¦‚åŸç”Ÿjsç»‘å®šçš„äº‹ä»¶ï¼ŒsetTimeout/setIntervalï¼Œajaxï¼Œpromise.thenå†…ç­‰ React æ— æ³•æŒæ§çš„ APIsæƒ…å†µä¸‹ï¼ŒsetStateæ˜¯åŒæ­¥æ›´æ–°stateçš„ã€‚</p><h3 id="åŸç†ï¼š"><a href="#åŸç†ï¼š" class="headerlink" title="åŸç†ï¼š"></a>åŸç†ï¼š</h3><p>æ ¹æ®<code>isBatchingUpdates</code>æ¥åˆ¤æ–­æ˜¯å¦æ‰¹é‡æ›´æ–°ï¼Œå¦‚æœå½“å‰setStateå‘½ä¸­äº†<code>batchUpdate</code>æœºåˆ¶ï¼Œå°±ä¼š<strong>å¼‚æ­¥æ‰§è¡Œ</strong>ï¼Œå¦‚æœæœªèƒ½å‘½ä¸­ï¼Œåˆ™ä¼šåŒæ­¥æ‰§è¡Œ</p><h3 id="å‚è€ƒåœ°å€"><a href="#å‚è€ƒåœ°å€" class="headerlink" title="å‚è€ƒåœ°å€"></a>å‚è€ƒåœ°å€</h3><p><a href="https://juejin.cn/post/6942299319609327624" target="_blank" rel="noopener">æ˜é‡‘</a><br><a href="https://blog.csdn.net/fesfsefgs/article/details/108036605" target="_blank" rel="noopener">csdn</a></p>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>htmlä¸­å‰ç«¯é¡µé¢é¢„è§ˆpdfæ–‡æ¡£çš„6ç§æ–¹æ³•</title>
      <link href="/2021/03/30/Html-0/"/>
      <url>/2021/03/30/Html-0/</url>
      
        <content type="html"><![CDATA[<p>å‰ç«¯éœ€è¦æŸ¥çœ‹pdfæ–‡ä»¶çš„æ–¹æ³•ï¼š</p><h2 id="1-aé“¾æ¥æŸ¥çœ‹ã€‚"><a href="#1-aé“¾æ¥æŸ¥çœ‹ã€‚" class="headerlink" title="1. aé“¾æ¥æŸ¥çœ‹ã€‚"></a>1. aé“¾æ¥æŸ¥çœ‹ã€‚</h2><p>è¿™ç§æ–¹æ³•å°±éœ€è¦äººä¸ºç‚¹å‡»é“¾æ¥æ‰ä¼šæ˜¾ç¤ºpdfæ–‡ä»¶å†…å®¹ï¼Œæ˜¯æ˜¾ç¤ºè¿˜æ˜¯ä¸‹è½½å°±å†³å®šäºæµè§ˆå™¨çš„è§£é‡Šæ–¹æ³•äº†ã€‚</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Pdfé¢„è§ˆ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test.pdf<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Download PDF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="2-æ ‡ç­¾embedæŸ¥çœ‹pdfã€‚"><a href="#2-æ ‡ç­¾embedæŸ¥çœ‹pdfã€‚" class="headerlink" title="2. æ ‡ç­¾embedæŸ¥çœ‹pdfã€‚"></a>2. æ ‡ç­¾embedæŸ¥çœ‹pdfã€‚</h2><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Pdfé¢„è§ˆ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>embed</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test.pdf<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>application/pdf<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span>800</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span>800</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="3-æ ‡ç­¾objectæŸ¥çœ‹pdfã€‚"><a href="#3-æ ‡ç­¾objectæŸ¥çœ‹pdfã€‚" class="headerlink" title="3. æ ‡ç­¾objectæŸ¥çœ‹pdfã€‚"></a>3. æ ‡ç­¾objectæŸ¥çœ‹pdfã€‚</h2><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Pdfé¢„è§ˆ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>object</span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test.pdf<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>application/pdf<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span>800</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span>800</span><span class="token punctuation">></span></span>    This browser does not support PDFs. Please download the PDF to view it: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test.pdf<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Download PDF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>object</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="4-iframeæ ‡ç­¾æŸ¥çœ‹pdfã€‚"><a href="#4-iframeæ ‡ç­¾æŸ¥çœ‹pdfã€‚" class="headerlink" title="4. iframeæ ‡ç­¾æŸ¥çœ‹pdfã€‚"></a>4. iframeæ ‡ç­¾æŸ¥çœ‹pdfã€‚</h2><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Pdfé¢„è§ˆ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test.pdf<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span>900</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span>900</span><span class="token punctuation">></span></span>    This browser does not support PDFs. Please download the PDF to view it: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test.pdf<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Download PDF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="5-æ’ä»¶jquery-media-js"><a href="#5-æ’ä»¶jquery-media-js" class="headerlink" title="5. æ’ä»¶jquery.media.js"></a>5. æ’ä»¶jquery.media.js</h2><p><code>jQuery Media Plugin</code>æ˜¯ä¸€æ¬¾åŸºäºjQueryçš„ç½‘é¡µåª’ä½“æ’­æ”¾å™¨æ’ä»¶ï¼Œå®ƒæ”¯æŒå¤§éƒ¨åˆ†çš„ç½‘ç»œå¤šåª’ä½“æ’­æ”¾å™¨å’Œå¤šåª’ä½“æ ¼å¼ ã€‚â€œæ’ä»¶å¯ä»¥æ ¹æ®å½“å‰çš„è„šæœ¬é…ç½®ï¼Œè‡ªåŠ¨å°†aæ ‡ç­¾æ›¿æ¢æˆdivï¼Œå¹¶ç”Ÿæˆobject, embedç”šè‡³æ˜¯iframeä»£ç ï¼Œè‡³äºç”Ÿæˆobjectè¿˜æ˜¯embedï¼ŒjQuery Mediaä¼šæ ¹æ®å½“å‰å¹³å°è‡ªåŠ¨åˆ¤åˆ«ï¼Œå› æ­¤å…¼å®¹æ€§æ–¹é¢éå¸¸å‡ºè‰²ã€‚â€æ‰€ä»¥è¿™ä¸ªæ’ä»¶çš„å®ç°åŠŸèƒ½å°±æ˜¯ä¸Šé¢æ ‡ç­¾åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆåœ¨æµè§ˆå™¨ä¸Šé¢çš„æ˜¾ç¤ºä¹Ÿä¼šæ˜¯ä¸€æ ·ã€‚</p><p>åœ¨ä½¿ç”¨æ—¶éœ€è¦å¼•å…¥jsæ–‡ä»¶ï¼Œ <code>&lt;script type=&quot;text/javascript&quot;src=&quot;jquery.media.js&quot;&gt;&lt;/script&gt;</code></p><p>htmlç«¯é€šè¿‡hrefæ¥å®šä½åˆ°éœ€è¦æ‰“å¼€çš„pdfæ–‡ä»¶ã€‚</p><p><code>&lt;div&gt;&lt;a class=&quot;media&quot; href=&quot;pdf1.pdf&quot;&gt;&lt;/a&gt;&lt;/div&gt;</code></p><h2 id="6-pdf-jsæ¡†æ¶"><a href="#6-pdf-jsæ¡†æ¶" class="headerlink" title="6. pdf.jsæ¡†æ¶"></a>6. pdf.jsæ¡†æ¶</h2><p>å‰é¢ä¸‰ç§æ–¹æ³•æ˜¯åŸºäºæ ‡ç­¾ï¼Œå¯èƒ½æ¯ä¸ªæµè§ˆå™¨è§£é‡Šçš„æ•ˆæœä¸ä¸€æ ·ï¼Œé‚£ä¹ˆ<code>pdf.js</code>æ¡†æ¶åˆ©ç”¨jsè¯­è¨€ï¼Œå°±å¯ä»¥å…¼å®¹ç»Ÿä¸€çš„æ˜¾ç¤ºpdfæ–‡ä»¶ã€‚å¦‚æœæ–‡æ¡£ä¸æƒ³ä¸‹è½½çš„è¯ï¼Œå¯ä»¥åœ¨view.htmlä¸­å°†ä¸‹è½½æŒ‰é’®éšè—æˆ–åˆ é™¤ï¼Œè€Œæ ‡ç­¾çš„ä¸‹è½½æŒ‰é’®å°±æ— æ³•å–æ¶ˆã€‚</p><p>å®˜ç½‘æˆ–è€…<a href="https://github.com/mozilla/pdf.js" target="_blank" rel="noopener">github</a>ä¸Šä¸‹è½½<code>pdf.js</code>èµ„æºåŒ…ï¼Œé‡Œé¢æä¾›äº†ä¸€äº›ä½¿ç”¨<a href="https://mozilla.github.io/pdf.js/web/viewer.html" target="_blank" rel="noopener">demo</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å‰ç«¯éœ€è¦æŸ¥çœ‹pdfæ–‡ä»¶çš„æ–¹æ³•æ€»ç»“ã€‚ç¬”è€…ä»¥å‰åœ¨æ‰“å¼€pdfæ–‡ä»¶æ—¶ï¼Œæœ‰æ—¶å€™è®¾è®¡é€šè¿‡æµè§ˆå™¨æ¥æ‰“å¼€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æµè§ˆå™¨æœ¬èº«æ˜¯æ”¯æŒpdfæ–‡ä»¶æ ¼å¼ï¼ŒæŒ‰ç…§è¿™ä¸ªé€»è¾‘æ•´ç†äº†ä¸€ç‚¹èµ„æ–™æ¥æ€»ç»“ä¸€ä¸‹6ç§æ–¹æ³•åœ¨å‰ç«¯ç¼–ç¨‹æŸ¥çœ‹æœåŠ¡å™¨ç«¯çš„pdfæ–‡ä»¶</p><p>æ³¨ï¼š<a href="https://www.jianshu.com/p/61065b749ff8" target="_blank" rel="noopener">æ–‡ç« æ¥æº</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†™ä¸€ä¸ªæŸ¯é‡ŒåŒ–</title>
      <link href="/2021/03/29/write-1/"/>
      <url>/2021/03/29/write-1/</url>
      
        <content type="html"><![CDATA[<h2 id="æŸ¯é‡ŒåŒ–ğŸ"><a href="#æŸ¯é‡ŒåŒ–ğŸ" class="headerlink" title="æŸ¯é‡ŒåŒ–ğŸ"></a>æŸ¯é‡ŒåŒ–ğŸ</h2><p>æŸ¯é‡ŒåŒ–é€šå¸¸ä¹Ÿç§°éƒ¨åˆ†æ±‚å€¼ï¼Œå…¶å«ä¹‰æ˜¯ç»™å‡½æ•°åˆ†æ­¥ä¼ é€’å‚æ•°ï¼Œæ¯æ¬¡ä¼ é€’å‚æ•°åéƒ¨åˆ†åº”ç”¨å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ›´å…·ä½“çš„å‡½æ•°æ¥å—å‰©ä¸‹çš„å‚æ•°ï¼Œè¿™ä¸­é—´å¯åµŒå¥—å¤šå±‚è¿™æ ·çš„æ¥å—éƒ¨åˆ†å‚æ•°å‡½æ•°ï¼Œç›´è‡³è¿”å›æœ€åç»“æœã€‚<br>å¦‚æœè¦å®ç°ä¸‹é¢è¿™ä¸ªæ–¹æ³•:<br><code>add(1, 2)(3)(4)(5, 6, 7)(9)()</code><br>ä¸Šé¢è¿™ä¸ªå‡½æ•°å½“å‚æ•°ä¸ºç©ºçš„æ—¶å€™æ‰§è¡Œäº†å†…éƒ¨å‚æ•°æ‰€æœ‰å€¼çš„ç›¸åŠ ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥è€ƒè™‘å½“å‚æ•°ä¸ä¸ºç©ºçš„æ—¶å€™å°†ç¼“å­˜èµ·æ¥ï¼Œåœ¨ä¸ºç©ºçš„æ—¶å€™å†ç›¸åŠ ï¼Œè¿™æ ·çš„æ€è·¯ä¼šç”¨é—­åŒ…çš„æ–¹å¼æ¥å®ç°ã€‚ä¸‹é¢æ˜¯å®ç°æ–¹æ³•ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// ç¼“å­˜æ‰€æœ‰çš„argumentså€¼</span>    <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span>    <span class="token comment" spellcheck="true">// æ–°å»ºfnå‡½æ•°å®ç°æŸ¯é‡ŒåŒ–</span>    <span class="token keyword">let</span> fn <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// å¦‚æœå‚æ•°ä¸ºç©ºï¼Œé‚£ä¹ˆé€’å½’åœæ­¢ï¼Œè¿”å›æ‰§è¡Œç»“æœ</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>             <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">+</span> b<span class="token punctuation">)</span>         <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>             <span class="token comment" spellcheck="true">// å¦åˆ™å°†å‚æ•°ä¿å­˜åˆ°argsé‡Œé¢ï¼Œè¿”å›fnæ–¹æ³•</span>             args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span>             <span class="token keyword">return</span> fn         <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> fn<span class="token punctuation">}</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 37</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†™ç³»åˆ—ğŸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css ç›’å­æ¨¡å‹</title>
      <link href="/2021/03/25/css-1/"/>
      <url>/2021/03/25/css-1/</url>
      
        <content type="html"><![CDATA[<h2 id="css-ç›’å­æ¨¡å‹ï¼ˆbox-modelï¼‰"><a href="#css-ç›’å­æ¨¡å‹ï¼ˆbox-modelï¼‰" class="headerlink" title="css ç›’å­æ¨¡å‹ï¼ˆbox modelï¼‰"></a>css ç›’å­æ¨¡å‹ï¼ˆbox modelï¼‰</h2><blockquote><ul><li>æ‰€æœ‰çš„htmlå…ƒç´ éƒ½å¯ä»¥çœ‹ä½œç›’å­ï¼Œåœ¨cssä¸­ï¼Œâ€box modelâ€ è¿™ä¸€æœ¯è¯­æ˜¯ç”¨æ¥å¸ƒå±€çš„æ—¶å€™ç”¨çš„ï¼›css ç›’å­æ¨¡å‹æœ¬è´¨å°±æ˜¯ä¸€ä¸ªç›’å­ï¼Œå°è£…å‘¨å›´çš„htmlå…ƒç´ ï¼Œä»–åŒ…æ‹¬:å¤–è¾¹è·<code>margin</code>,è¾¹æ¡†ï¼ˆ<code>boder</code>ï¼‰,å†…è¾¹è·ï¼ˆ<code>padding</code>ï¼‰ï¼Œ å®é™…å†…å®¹ï¼ˆ<code>content</code>ï¼‰è¿™å››ä¸ªå±æ€§</li></ul></blockquote><h2 id="W3Cç›’å­æ¨¡å‹ï¼ˆæ ‡å‡†ç›’å­æ¨¡å‹ï¼‰å’ŒIEç›’å­æ¨¡å‹ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹ï¼‰"><a href="#W3Cç›’å­æ¨¡å‹ï¼ˆæ ‡å‡†ç›’å­æ¨¡å‹ï¼‰å’ŒIEç›’å­æ¨¡å‹ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹ï¼‰" class="headerlink" title="W3Cç›’å­æ¨¡å‹ï¼ˆæ ‡å‡†ç›’å­æ¨¡å‹ï¼‰å’ŒIEç›’å­æ¨¡å‹ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹ï¼‰"></a>W3Cç›’å­æ¨¡å‹ï¼ˆæ ‡å‡†ç›’å­æ¨¡å‹ï¼‰å’ŒIEç›’å­æ¨¡å‹ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹ï¼‰</h2><h3 id="æ ‡å‡†ç›’å­æ¨¡å‹"><a href="#æ ‡å‡†ç›’å­æ¨¡å‹" class="headerlink" title="æ ‡å‡†ç›’å­æ¨¡å‹"></a>æ ‡å‡†ç›’å­æ¨¡å‹</h3><blockquote><ul><li>å…ƒç´ çš„å†…å®¹å æ®çš„ç©ºé—´æ˜¯ç”±widthå±æ€§è®¾ç½®çš„ï¼Œè€Œå†…å®¹å‘¨å›´çš„paddingå’Œborderå€¼æ˜¯å¦å¤–è®¡ç®—çš„ï¼Œå³åœ¨æ ‡å‡†æ¨¡å¼ä¸‹çš„ç›’æ¨¡å‹</li><li>ç›’å­å®é™…å†…å®¹ï¼ˆcontentï¼‰çš„width/height=æˆ‘ä»¬è®¾ç½®çš„width/height</li><li>ç›’å­æ€»å®½åº¦/é«˜åº¦=width/height+padding+border+marginã€‚</li></ul></blockquote><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span></span><span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span><span class="token number">200</span>px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span><span class="token number">200</span>px<span class="token punctuation">;</span>  <span class="token property">border</span><span class="token punctuation">:</span><span class="token number">20</span>px solid black<span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span><span class="token number">50</span>px<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span><span class="token number">50</span>px<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><h3 id="IEç›’å­æ¨¡å‹ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹ï¼‰"><a href="#IEç›’å­æ¨¡å‹ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹ï¼‰" class="headerlink" title="IEç›’å­æ¨¡å‹ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹ï¼‰"></a>IEç›’å­æ¨¡å‹ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹ï¼‰</h3><blockquote><ul><li>åœ¨æ€ªå¼‚ç›’æ¨¡å‹çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨çš„widthå±æ€§ä¸æ˜¯å†…å®¹çš„å®½åº¦ï¼Œè€Œæ˜¯å†…å®¹ï¼Œå†…è¾¹è·å’Œè¾¹æ¡†çš„å®½åº¦çš„æ€»å’Œï¼Œå³ä½¿åœ¨æ€ªå¼‚æ¨¡å¼ä¸‹çš„ç›’æ¨¡å‹</li><li>ç›’å­çš„ï¼ˆcontentï¼‰å®½åº¦+å†…è¾¹è·padding+è¾¹æ¡†border å®½åº¦= æˆ‘ä»¬è®¾ç½®çš„widthï¼ˆheightä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ã€‚</li><li>ç›’å­æ€»å®½åº¦/é«˜åº¦=width/height +margin = å†…å®¹åŒºå®½åº¦/é«˜åº¦+padding+border+margin.</li></ul></blockquote><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span></span><span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span><span class="token number">200</span>px<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span><span class="token number">200</span>px<span class="token punctuation">;</span>  <span class="token property">border</span><span class="token punctuation">:</span><span class="token number">20</span>px solid black<span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span><span class="token number">50</span>px<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span><span class="token number">50</span>px<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><h2 id="æ€ªå¼‚ç›’æ¨¡å‹å’Œæ ‡å‡†å’Œæ¨¡å‹çš„å…¼å®¹æ€§é—®é¢˜"><a href="#æ€ªå¼‚ç›’æ¨¡å‹å’Œæ ‡å‡†å’Œæ¨¡å‹çš„å…¼å®¹æ€§é—®é¢˜" class="headerlink" title="æ€ªå¼‚ç›’æ¨¡å‹å’Œæ ‡å‡†å’Œæ¨¡å‹çš„å…¼å®¹æ€§é—®é¢˜"></a>æ€ªå¼‚ç›’æ¨¡å‹å’Œæ ‡å‡†å’Œæ¨¡å‹çš„å…¼å®¹æ€§é—®é¢˜</h2><p>å»ºè®®ä¸è¦ç»™å…ƒç´ æ·»åŠ å…·æœ‰æŒ‡å®šå®½åº¦çš„å†…è¾¹è·ï¼Œè€Œæ˜¯å°è¯•å°†å†…è¾¹è·æˆ–å¤–è¾¹è·æ·»åŠ åˆ°å…ƒç´ çš„çˆ¶å…ƒç´ å’Œå­å…ƒç´ </p><h2 id="css-æŒ‡å®šç›’å­æ¨¡å‹çš„ç§ç±»"><a href="#css-æŒ‡å®šç›’å­æ¨¡å‹çš„ç§ç±»" class="headerlink" title="css æŒ‡å®šç›’å­æ¨¡å‹çš„ç§ç±»"></a>css æŒ‡å®šç›’å­æ¨¡å‹çš„ç§ç±»</h2><blockquote><ul><li><code>box-sizing</code> å±æ€§å…ç‰¹å®šçš„æ–¹å¼å®šä¹‰åŒ¹é…æŸä¸ªåŒºåŸŸçš„ç‰¹å®šçš„å…ƒç´ ï¼›</li><li><code>box-sizing:content-box</code>//å®½åº¦å’Œé«˜åº¦åˆ†åˆ«åº”ç”¨åˆ°å…ƒç´ çš„å†…å®¹æ¡†ï¼Œåœ¨å®½åº¦å’Œé«˜åº¦ä¹‹å¤–ç»˜åˆ¶å…ƒç´ çš„å†…è¾¹è·å’Œè¾¹æ¡†ï¼›</li><li><code>box-sizing:border-box</code>// ä¸ºå…ƒç´ è®¾å®šçš„å®½åº¦å’Œé«˜åº¦å†³å®šäº†å…ƒç´ çš„è¾¹æ¡†ç›’ï¼Œä¹Ÿå°±è¯´ï¼šä¸ºå…ƒç´ æŒ‡å®šçš„ä»»ä½•å†…è¾¹è·å’Œè¾¹æ¡†éƒ½å°†åœ¨å·²è®¾å®šçš„å®½åº¦å’Œé«˜åº¦å†…è¿›è¡Œç»˜åˆ¶ï¼Œé€šè¿‡ä»å·²è®¾å®šçš„å®½åº¦å’Œé«˜åº¦åˆ†åˆ«å‡å»è¾¹æ¡†ç›’å†…è¾¹è·æ‰èƒ½å¾—åˆ°å†…å®¹çš„å®½åº¦å’Œé«˜åº¦</li><li><code>box-sizing:inherit</code>:// è§„å®šåº”ä»çˆ¶å…ƒç´ ç»§æ‰¿box-sizingå±æ€§å€¼ï¼›</li></ul></blockquote><p>box-sizingå±æ€§å¯ä»¥æŒ‡å®šç›’å­æ¨¡å‹ç§ç±»ï¼šcontent-boxæŒ‡å®šç›’å­æ¨¡å‹ä¸ºW3Cï¼ˆæ ‡å‡†å’Œæ¨¡å‹ï¼‰ï¼Œborder-boxä¸ºIEç›’å­æ¨¡å‹ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹ï¼‰</p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é—­åŒ…</title>
      <link href="/2021/03/24/js-12/"/>
      <url>/2021/03/24/js-12/</url>
      
        <content type="html"><![CDATA[<h2 id="é—­åŒ…æ˜¯ä»€ä¹ˆ"><a href="#é—­åŒ…æ˜¯ä»€ä¹ˆ" class="headerlink" title="é—­åŒ…æ˜¯ä»€ä¹ˆ"></a>é—­åŒ…æ˜¯ä»€ä¹ˆ</h2><blockquote><ul><li>åœ¨ JS å¿è€…ç§˜ç±(P90)ä¸­å¯¹é—­åŒ…çš„å®šä¹‰ï¼šé—­åŒ…å…è®¸å‡½æ•°è®¿é—®å¹¶æ“ä½œå‡½æ•°å¤–éƒ¨çš„å˜é‡ã€‚</li><li>çº¢å®ä¹¦ä¸Šå¯¹äºé—­åŒ…çš„å®šä¹‰ï¼šé—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦å¤–ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ã€‚</li><li>MDN å¯¹é—­åŒ…çš„å®šä¹‰ä¸ºï¼šé—­åŒ…æ˜¯æŒ‡é‚£äº›èƒ½å¤Ÿè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•°ã€‚è¿™é‡Œçš„è‡ªç”±å˜é‡æ˜¯å¤–éƒ¨å‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡</li></ul></blockquote><p>æ¦‚è¿°ä¸Šé¢çš„è¯ï¼Œ<code>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°</code></p><h2 id="å½¢æˆé—­åŒ…çš„åŸå› "><a href="#å½¢æˆé—­åŒ…çš„åŸå› " class="headerlink" title="å½¢æˆé—­åŒ…çš„åŸå› "></a>å½¢æˆé—­åŒ…çš„åŸå› </h2><p>å†…éƒ¨çš„å‡½æ•°å­˜åœ¨å¤–éƒ¨ä½œç”¨åŸŸçš„å¼•ç”¨å°±ä¼šå¯¼è‡´é—­åŒ…ã€‚ä»ä¸Šé¢ä»‹ç»çš„ä¸Šçº§ä½œç”¨åŸŸçš„æ¦‚å¿µä¸­å…¶å®å°±æœ‰é—­åŒ…çš„ä¾‹å­<br> <code>return fn</code>å°±æ˜¯ä¸€ä¸ªè¡¨ç°å½¢å¼ã€‚</p><pre class=" language-js"><code class="language-js"> <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> b <span class="token operator">=</span><span class="token number">14</span>    <span class="token keyword">function</span> <span class="token function">fo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token function">fo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>è¿™é‡Œçš„å­å‡½æ•°<code>fo</code>å†…å­˜å°±å­˜åœ¨å¤–éƒ¨ä½œç”¨åŸŸçš„å¼•ç”¨ <code>a</code>, <code>b</code>ï¼Œæ‰€ä»¥è¿™å°±ä¼šäº§ç”Ÿé—­åŒ…</p><h2 id="é—­åŒ…çš„ä½œç”¨"><a href="#é—­åŒ…çš„ä½œç”¨" class="headerlink" title="é—­åŒ…çš„ä½œç”¨"></a>é—­åŒ…çš„ä½œç”¨</h2><blockquote><ul><li>ä¿æŠ¤å‡½æ•°çš„ç§æœ‰å˜é‡ä¸å—å¤–éƒ¨çš„å¹²æ‰°ã€‚å½¢æˆä¸é”€æ¯çš„æ ˆå†…å­˜ã€‚</li><li>ä¿å­˜ï¼ŒæŠŠä¸€äº›å‡½æ•°å†…çš„å€¼ä¿å­˜ä¸‹æ¥ã€‚é—­åŒ…å¯ä»¥å®ç°æ–¹æ³•å’Œå±æ€§çš„ç§æœ‰åŒ–</li></ul></blockquote><h2 id="é—­åŒ…ç»å…¸ä½¿ç”¨åœºæ™¯"><a href="#é—­åŒ…ç»å…¸ä½¿ç”¨åœºæ™¯" class="headerlink" title="é—­åŒ…ç»å…¸ä½¿ç”¨åœºæ™¯"></a>é—­åŒ…ç»å…¸ä½¿ç”¨åœºæ™¯</h2><h3 id="1-return-ä¸€ä¸ªå‡½æ•°"><a href="#1-return-ä¸€ä¸ªå‡½æ•°" class="headerlink" title="1. return ä¸€ä¸ªå‡½æ•°"></a>1. <code>return</code> ä¸€ä¸ªå‡½æ•°</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> n <span class="token operator">=</span><span class="token number">20</span>    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       n<span class="token operator">++</span><span class="token punctuation">;</span>       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>     <span class="token punctuation">}</span>    <span class="token keyword">return</span> f<span class="token punctuation">}</span><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 21</span></code></pre><p>è¿™é‡Œçš„ return f, <strong>f()å°±æ˜¯ä¸€ä¸ªé—­åŒ…</strong>ï¼Œ<code>å­˜åœ¨ä¸Šçº§ä½œç”¨åŸŸçš„å¼•ç”¨</code>ã€‚</p><h3 id="2-å‡½æ•°ä½œä¸ºå‚æ•°"><a href="#2-å‡½æ•°ä½œä¸ºå‚æ•°" class="headerlink" title="2. å‡½æ•°ä½œä¸ºå‚æ•°"></a>2. å‡½æ•°ä½œä¸ºå‚æ•°</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'å°èœ'</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'èœèœ'</span>    <span class="token keyword">function</span> <span class="token function">fo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> fo<span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'f'</span>    <span class="token function">p</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token operator">*</span> è¾“å‡º<span class="token operator">*</span>   èœèœ<span class="token operator">/</span> </code></pre><p>ä½¿ç”¨ return fo è¿”å›å›æ¥ï¼Œ<strong>fo() å°±æ˜¯é—­åŒ…</strong>ï¼Œ<code>f(foo()) æ‰§è¡Œçš„å‚æ•°å°±æ˜¯å‡½æ•° fo</code>ï¼Œå› ä¸º fo() ä¸­çš„ a çš„ä¸Šçº§ä½œç”¨åŸŸå°±æ˜¯å‡½æ•°foo()ï¼Œæ‰€ä»¥è¾“å‡ºå°±æ˜¯<strong>èœèœ</strong></p><h3 id="3-IIFEï¼ˆè‡ªæ‰§è¡Œå‡½æ•°ï¼‰"><a href="#3-IIFEï¼ˆè‡ªæ‰§è¡Œå‡½æ•°ï¼‰" class="headerlink" title="3. IIFEï¼ˆè‡ªæ‰§è¡Œå‡½æ•°ï¼‰"></a>3. IIFEï¼ˆè‡ªæ‰§è¡Œå‡½æ•°ï¼‰</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'å°èœ'</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token operator">*</span> è¾“å‡º<span class="token operator">*</span>   å°èœ<span class="token operator">/</span> </code></pre><p>åŒæ ·ä¹Ÿæ˜¯äº§ç”Ÿäº†<code>é—­åŒ…f()</code>ï¼Œå­˜åœ¨ <code>window</code>ä¸‹çš„å¼•ç”¨ aã€‚</p><h3 id="4-å¾ªç¯èµ‹å€¼"><a href="#4-å¾ªç¯èµ‹å€¼" class="headerlink" title="4. å¾ªç¯èµ‹å€¼"></a>4. å¾ªç¯èµ‹å€¼</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>       <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p>å› ä¸ºå­˜åœ¨é—­åŒ…çš„åŸå› ä¸Šé¢èƒ½ä¾æ¬¡è¾“å‡º1~10ï¼Œé—­åŒ…å½¢æˆäº†10ä¸ªäº’ä¸å¹²æ‰°çš„ç§æœ‰ä½œç”¨åŸŸã€‚å°†å¤–å±‚çš„è‡ªæ‰§è¡Œå‡½æ•°å»æ‰åå°±ä¸å­˜åœ¨å¤–éƒ¨ä½œç”¨åŸŸçš„å¼•ç”¨äº†ï¼Œè¾“å‡ºçš„ç»“æœå°±æ˜¯è¿ç»­çš„ 10ã€‚ä¸ºä»€ä¹ˆä¼šè¿ç»­è¾“å‡º10ï¼Œå› ä¸º JS æ˜¯å•çº¿ç¨‹çš„é‡åˆ°å¼‚æ­¥çš„ä»£ç ä¸ä¼šå…ˆæ‰§è¡Œ(ä¼šå…¥æ ˆ)ï¼Œç­‰åˆ°åŒæ­¥çš„ä»£ç æ‰§è¡Œå®Œ <code>i++</code> åˆ° 10æ—¶ï¼Œå¼‚æ­¥ä»£ç æ‰å¼€å§‹æ‰§è¡Œæ­¤æ—¶çš„ <code>i=10</code> è¾“å‡ºçš„éƒ½æ˜¯ 10</p><h3 id="5-ä½¿ç”¨å›è°ƒå‡½æ•°å°±æ˜¯åœ¨ä½¿ç”¨é—­åŒ…"><a href="#5-ä½¿ç”¨å›è°ƒå‡½æ•°å°±æ˜¯åœ¨ä½¿ç”¨é—­åŒ…" class="headerlink" title="5. ä½¿ç”¨å›è°ƒå‡½æ•°å°±æ˜¯åœ¨ä½¿ç”¨é—­åŒ…"></a>5. ä½¿ç”¨å›è°ƒå‡½æ•°å°±æ˜¯åœ¨ä½¿ç”¨é—­åŒ…</h3><pre class=" language-js"><code class="language-js">window<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'å°èœ'</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timeFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span></code></pre><h2 id="ä½¿ç”¨é—­åŒ…éœ€è¦æ³¨æ„ä»€ä¹ˆ"><a href="#ä½¿ç”¨é—­åŒ…éœ€è¦æ³¨æ„ä»€ä¹ˆ" class="headerlink" title="ä½¿ç”¨é—­åŒ…éœ€è¦æ³¨æ„ä»€ä¹ˆ"></a>ä½¿ç”¨é—­åŒ…éœ€è¦æ³¨æ„ä»€ä¹ˆ</h2><p>å®¹æ˜“å¯¼è‡´å†…å­˜æ³„æ¼ã€‚é—­åŒ…ä¼šæºå¸¦åŒ…å«å…¶å®ƒçš„å‡½æ•°ä½œç”¨åŸŸï¼Œå› æ­¤ä¼šæ¯”å…¶ä»–å‡½æ•°å ç”¨æ›´å¤šçš„å†…å­˜ã€‚è¿‡åº¦ä½¿ç”¨é—­åŒ…ä¼šå¯¼è‡´å†…å­˜å ç”¨è¿‡å¤šï¼Œæ‰€ä»¥è¦è°¨æ…ä½¿ç”¨é—­åŒ…ã€‚</p><h2 id="ç»å…¸é¢è¯•é¢˜"><a href="#ç»å…¸é¢è¯•é¢˜" class="headerlink" title="ç»å…¸é¢è¯•é¢˜"></a>ç»å…¸é¢è¯•é¢˜</h2><blockquote><ul><li>for å¾ªç¯å’Œé—­åŒ…(å·ç§°å¿…åˆ·é¢˜)</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token operator">*</span> è¾“å‡º    <span class="token number">3</span>    <span class="token number">3</span>    <span class="token number">3</span><span class="token operator">/</span></code></pre><p>è¿™é‡Œçš„<code>i</code> æ˜¯å…¨å±€ä¸‹çš„ <code>i</code>ï¼Œå…±ç”¨ä¸€ä¸ªä½œç”¨åŸŸï¼Œå½“å‡½æ•°è¢«æ‰§è¡Œçš„æ—¶å€™è¿™æ—¶çš„ <code>i=3</code>ï¼Œå¯¼è‡´è¾“å‡ºçš„ç»“æ„éƒ½æ˜¯3ã€‚</p><h3 id="1-å†™æ³•1ï¼šè‡ªæ‰§è¡Œå‡½æ•°å’Œé—­åŒ…"><a href="#1-å†™æ³•1ï¼šè‡ªæ‰§è¡Œå‡½æ•°å’Œé—­åŒ…" class="headerlink" title="1. å†™æ³•1ï¼šè‡ªæ‰§è¡Œå‡½æ•°å’Œé—­åŒ…"></a>1. å†™æ³•1ï¼šè‡ªæ‰§è¡Œå‡½æ•°å’Œé—­åŒ…</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token function">setTimeout</span><span class="token punctuation">(</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="2-å†™æ³•2ï¼šä½¿ç”¨-let"><a href="#2-å†™æ³•2ï¼šä½¿ç”¨-let" class="headerlink" title="2. å†™æ³•2ï¼šä½¿ç”¨ let"></a>2. å†™æ³•2ï¼šä½¿ç”¨ let</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><code>let</code> å…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œå½¢æˆçš„3ä¸ªç§æœ‰ä½œç”¨åŸŸéƒ½æ˜¯äº’ä¸å¹²æ‰°çš„ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CommonJså’ŒEs ModuleåŠå®ƒä»¬çš„åŒºåˆ«</title>
      <link href="/2021/03/16/t-6/"/>
      <url>/2021/03/16/t-6/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆä¼šæœ‰CommonJså’ŒEs-Moduleå‘¢"><a href="#ä¸ºä»€ä¹ˆä¼šæœ‰CommonJså’ŒEs-Moduleå‘¢" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šæœ‰CommonJså’ŒEs Moduleå‘¢"></a>ä¸ºä»€ä¹ˆä¼šæœ‰CommonJså’ŒEs Moduleå‘¢</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“åœ¨æ—©æœŸJavaScriptæ¨¡å—è¿™ä¸€æ¦‚å¿µï¼Œéƒ½æ˜¯é€šè¿‡scriptæ ‡ç­¾å¼•å…¥jsæ–‡ä»¶ä»£ç ã€‚å½“ç„¶è¿™å†™åŸºæœ¬ç®€å•éœ€æ±‚æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†å½“æˆ‘ä»¬çš„é¡¹ç›®è¶Šæ¥è¶Šåºå¤§æ—¶ï¼Œæˆ‘ä»¬å¼•å…¥çš„jsæ–‡ä»¶å°±ä¼šè¶Šå¤šï¼Œè¿™æ—¶å°±ä¼šå‡ºç°ä»¥ä¸‹é—®é¢˜ï¼š</p><blockquote><ul><li>jsæ–‡ä»¶ä½œç”¨åŸŸéƒ½æ˜¯é¡¶å±‚ï¼Œè¿™ä¼šé€ æˆå˜é‡æ±¡æŸ“</li><li>jsæ–‡ä»¶å¤šï¼Œå˜å¾—ä¸å¥½ç»´æŠ¤</li><li>jsæ–‡ä»¶ä¾èµ–é—®é¢˜ï¼Œç¨å¾®ä¸æ³¨æ„é¡ºåºå¼•å…¥é”™ï¼Œä»£ç å…¨æŠ¥é”™</li></ul></blockquote><p>ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜JavaScriptç¤¾åŒºå‡ºç°äº†<code>CommonJs</code>ï¼Œ<code>CommonJs</code>æ˜¯ä¸€ç§æ¨¡å—åŒ–çš„è§„èŒƒï¼ŒåŒ…æ‹¬ç°åœ¨çš„NodeJsé‡Œé¢ä¹Ÿé‡‡ç”¨äº†éƒ¨åˆ†CommonJsè¯­æ³•åœ¨é‡Œé¢ã€‚é‚£ä¹ˆåœ¨åæ¥Es6ç‰ˆæœ¬æ­£å¼åŠ å…¥äº†<code>Es Module</code>æ¨¡å—ï¼Œè¿™ä¸¤ç§éƒ½æ˜¯è§£å†³ä¸Šé¢é—®é¢˜ï¼Œé‚£ä¹ˆéƒ½æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜å‘¢ã€‚</p><blockquote><ul><li>è§£å†³å˜é‡æ±¡æŸ“é—®é¢˜ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯ç‹¬ç«‹çš„ä½œç”¨åŸŸï¼Œæ‰€ä»¥ä¸å­˜åœ¨å˜é‡æ±¡æŸ“</li><li>è§£å†³ä»£ç ç»´æŠ¤é—®é¢˜ï¼Œä¸€ä¸ªæ–‡ä»¶é‡Œä»£ç éå¸¸æ¸…æ™°</li><li>è§£å†³æ–‡ä»¶ä¾èµ–é—®é¢˜ï¼Œä¸€ä¸ªæ–‡ä»¶é‡Œå¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ä¾èµ–äº†é‚£äº›å…¶å®ƒæ–‡ä»¶</li></ul></blockquote><h2 id="CommonJs-åŸºæœ¬è¯­æ³•"><a href="#CommonJs-åŸºæœ¬è¯­æ³•" class="headerlink" title="CommonJs åŸºæœ¬è¯­æ³•"></a>CommonJs åŸºæœ¬è¯­æ³•</h2><h3 id="å¯¼å‡º"><a href="#å¯¼å‡º" class="headerlink" title="å¯¼å‡º"></a>å¯¼å‡º</h3><p><code>CommonJs</code>ä¸­ä½¿ç”¨<code>module.exports</code>å¯¼å‡ºå˜é‡åŠå‡½æ•°ï¼Œä¹Ÿå¯ä»¥å¯¼å‡ºä»»æ„ç±»å‹çš„å€¼ï¼Œçœ‹å¦‚ä¸‹æ¡ˆä¾‹ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// å¯¼å‡ºä¸€ä¸ªå¯¹è±¡</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> <span class="token string">"å°èœ"</span><span class="token punctuation">,</span>    age<span class="token punctuation">:</span> <span class="token number">26</span><span class="token punctuation">,</span>    sex<span class="token punctuation">:</span> <span class="token string">"male"</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// å¯¼å‡ºä»»æ„å€¼</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"å°èœ"</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token keyword">null</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>age <span class="token operator">=</span> undefined</code></pre><h3 id="ç›´æ¥å¯¼å‡º"><a href="#ç›´æ¥å¯¼å‡º" class="headerlink" title="ç›´æ¥å¯¼å‡º"></a>ç›´æ¥å¯¼å‡º</h3><p>å¯¼å‡ºä¹Ÿå¯ä»¥çœç•¥<code>module</code>å…³é”®å­—ï¼Œç›´æ¥å†™<code>exports</code>å¯¼å‡ºä¹Ÿå¯ä»¥ï¼Œçœ‹å¦‚ä¸‹æ¡ˆä¾‹</p><pre class=" language-js"><code class="language-js">exports<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"å°èœ"</span>exports<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">"male"</span></code></pre><p>æ³¨æ„ï¼šå¦‚æœä½¿ç”¨exportså¯¼å‡ºå•ä¸ªå€¼ä¹‹åï¼Œå°±ä¸èƒ½åœ¨å¯¼å‡ºä¸€ä¸ªå¯¹è±¡å€¼ï¼Œè¿™åªä¼šä¿®æ”¹exportsçš„å¯¹è±¡æ”¹å˜ï¼Œç„¶è€Œä¿®æ”¹æ— æ•ˆï¼Œæœ€ç»ˆå¯¼å‡ºè¿˜æ˜¯nameï¼Œå’Œsexï¼Œå› ä¸ºæœ€ç»ˆçš„å¯¼å‡ºæ˜¯ç”±module.exportså†³å®šçš„ã€‚</p><pre class=" language-js"><code class="language-js">exports<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"å°èœ"</span>exports<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">"male"</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> <span class="token string">"å°èœ"</span><span class="token punctuation">}</span></code></pre><p>è¿™ç§æƒ…å†µä¼šæ”¹å˜å¯¹è±¡çš„å¼•ç”¨å€¼åˆ™å¯¼å‡ºæ— æ•ˆï¼Œæ‰€ä»¥æœ€åå¯¼å‡ºçš„è¿˜æ˜¯<code>name</code>ï¼Œ<code>sex</code>ã€‚</p><h3 id="æ··åˆå¯¼å‡º"><a href="#æ··åˆå¯¼å‡º" class="headerlink" title="æ··åˆå¯¼å‡º"></a>æ··åˆå¯¼å‡º</h3><p>æ··åˆå¯¼å‡ºï¼Œ<code>exports</code>å’Œ<code>module.exports</code>å¯ä»¥åŒæ—¶ä½¿ç”¨ï¼Œä¸ä¼šå­˜åœ¨é—®é¢˜ã€‚</p><pre class=" language-js"><code class="language-js">exports<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"å°èœ"</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">26</span></code></pre><h3 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h3><p><code>CommonJs</code>ä¸­ä½¿ç”¨<code>require</code>è¯­æ³•å¯ä»¥å¯¼å…¥ï¼Œå¦‚æœæƒ³è¦å•ä¸ªçš„å€¼ï¼Œå¯ä»¥é€šè¿‡è§£æ„å¯¹è±¡æ¥è·å–</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// index.js</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"å°èœ"</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">26</span><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./index.js"</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// { name: "å°èœ", age: 26 }</span></code></pre><h3 id="é‡å¤å¯¼å…¥"><a href="#é‡å¤å¯¼å…¥" class="headerlink" title="é‡å¤å¯¼å…¥"></a>é‡å¤å¯¼å…¥</h3><p>ä¸ç®¡æ˜¯<code>CommonJs</code>è¿˜æ˜¯<code>Es Module</code>éƒ½ä¸ä¼šé‡å¤å¯¼å…¥ï¼Œå°±æ˜¯åªè¦è¯¥æ–‡ä»¶å†…åŠ è½½è¿‡ä¸€æ¬¡è¿™ä¸ªæ–‡ä»¶äº†ï¼Œæˆ‘<code>å†æ¬¡å¯¼å…¥ä¸€æ¬¡æ˜¯ä¸ä¼šç”Ÿæ•ˆ</code>çš„ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./index.js"</span><span class="token punctuation">)</span><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./index.js"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// ä¸ä¼šåœ¨æ‰§è¡Œäº†</span></code></pre><h3 id="åŠ¨æ€å¯¼å…¥"><a href="#åŠ¨æ€å¯¼å…¥" class="headerlink" title="åŠ¨æ€å¯¼å…¥"></a>åŠ¨æ€å¯¼å…¥</h3><p><code>CommonJs</code>æ”¯æŒåŠ¨æ€å¯¼å…¥ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Œå°±æ˜¯å¯ä»¥åœ¨è¯­å¥ä¸­ï¼Œä½¿ç”¨<code>require</code>è¯­æ³•ï¼Œæ¥çœ‹å¦‚ä¸‹æ¡ˆä¾‹</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> lists <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"./index.js"</span><span class="token punctuation">,</span> <span class="token string">"./config.js"</span><span class="token punctuation">]</span>lists<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">require</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// åŠ¨æ€å¯¼å…¥</span><span class="token keyword">if</span> <span class="token punctuation">(</span>lists<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">require</span><span class="token punctuation">(</span>lists<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// åŠ¨æ€å¯¼å…¥</span><span class="token punctuation">}</span></code></pre><h3 id="å¯¼å…¥å€¼çš„å˜åŒ–"><a href="#å¯¼å…¥å€¼çš„å˜åŒ–" class="headerlink" title="å¯¼å…¥å€¼çš„å˜åŒ–"></a>å¯¼å…¥å€¼çš„å˜åŒ–</h3><p><code>CommonJs</code>å¯¼å…¥çš„å€¼æ˜¯æ‹·è´çš„ï¼Œæ‰€ä»¥å¯ä»¥ä¿®æ”¹æ‹·è´å€¼ï¼Œä½†è¿™ä¼šå¼•èµ·å˜é‡æ±¡æŸ“ï¼Œä¸€ä¸å°å¿ƒå°±é‡å</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// index.js</span><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>    num<span class="token punctuation">,</span>    <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token operator">++</span> num     <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> <span class="token punctuation">{</span> num<span class="token punctuation">,</span> add <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./index.js"</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 0</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 0</span>num <span class="token operator">=</span> <span class="token number">100</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 100</span></code></pre><p>ä¸Šé¢exampleä¸­ï¼Œå¯ä»¥çœ‹åˆ°<code>exports</code>å¯¼å‡ºçš„å€¼æ˜¯å€¼çš„æ‹·è´ï¼Œæ›´æ”¹å®Œ<code>++ num</code>å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå¹¶ä¸”å¯¼å…¥çš„<code>num</code>çš„å€¼æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›è¡Œä¿®æ”¹</p><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p><code>CommonJs</code>è§£å†³äº†å˜é‡æ±¡æŸ“ï¼Œæ–‡ä»¶ä¾èµ–ç­‰é—®é¢˜ï¼Œä¸Šé¢æˆ‘ä»¬ä¹Ÿä»‹ç»äº†å®ƒçš„åŸºæœ¬è¯­æ³•ï¼Œå®ƒå¯ä»¥åŠ¨æ€å¯¼å…¥(ä»£ç å‘ç”Ÿåœ¨è¿è¡Œæ—¶)ï¼Œä¸å¯ä»¥é‡å¤å¯¼å…¥</p><h2 id="Es-Module-åŸºæœ¬è¯­æ³•"><a href="#Es-Module-åŸºæœ¬è¯­æ³•" class="headerlink" title="Es Module åŸºæœ¬è¯­æ³•"></a>Es Module åŸºæœ¬è¯­æ³•</h2><h3 id="å¯¼å‡º-1"><a href="#å¯¼å‡º-1" class="headerlink" title="å¯¼å‡º"></a>å¯¼å‡º</h3><p>åœ¨<code>Es Module</code>ä¸­å¯¼å‡ºåˆ†ä¸ºä¸¤ç§ï¼Œå•ä¸ªå¯¼å‡º(<code>export</code>)ã€é»˜è®¤å¯¼å‡º(<code>export default</code>)ï¼Œå•ä¸ªå¯¼å‡ºåœ¨å¯¼å…¥æ—¶ä¸åƒ<code>CommonJs</code>ä¸€æ ·ç›´æ¥æŠŠå€¼å…¨éƒ¨å¯¼å…¥è¿›æ¥äº†ï¼Œ<code>Es Module</code>ä¸­å¯ä»¥å¯¼å…¥æˆ‘æƒ³è¦çš„å€¼ã€‚é‚£ä¹ˆé»˜è®¤å¯¼å‡ºå°±æ˜¯å…¨éƒ¨ç›´æ¥å¯¼å…¥è¿›æ¥ï¼Œå½“ç„¶<code>Es Module</code>ä¸­ä¹Ÿå¯ä»¥å¯¼å‡ºä»»æ„ç±»å‹çš„å€¼ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// å¯¼å‡ºå˜é‡</span><span class="token keyword">export</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">"å°èœ"</span><span class="token keyword">export</span> <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">26</span><span class="token comment" spellcheck="true">// å¯¼å‡ºå‡½æ•°ä¹Ÿå¯ä»¥</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">export</span> <span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// å¦ä¸€ç§å½¢å¼å¯¼å‡º</span><span class="token keyword">const</span> sex <span class="token operator">=</span> <span class="token string">"male"</span><span class="token keyword">export</span> sex<span class="token comment" spellcheck="true">// å¦‚æœæœ‰å¤šä¸ªçš„è¯</span><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">"å°èœ"</span><span class="token keyword">const</span> sex <span class="token operator">=</span> <span class="token string">"male"</span><span class="token keyword">export</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> sex <span class="token punctuation">}</span></code></pre><h3 id="æ··åˆå¯¼å‡º-1"><a href="#æ··åˆå¯¼å‡º-1" class="headerlink" title="æ··åˆå¯¼å‡º"></a>æ··åˆå¯¼å‡º</h3><p>å¯ä»¥ä½¿ç”¨<code>export</code>å’Œ<code>export default</code>åŒæ—¶ä½¿ç”¨å¹¶ä¸”äº’ä¸å½±å“ï¼Œåªéœ€è¦åœ¨å¯¼å…¥æ—¶åœ°æ–¹æ³¨æ„ï¼Œå¦‚æœæ–‡ä»¶é‡Œæœ‰æ··åˆå¯¼å…¥ï¼Œåˆ™å¿…é¡»å…ˆå¯¼å…¥é»˜è®¤å¯¼å‡ºçš„ï¼Œåœ¨å¯¼å…¥å•ä¸ªå¯¼å…¥çš„å€¼ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">"å°èœ"</span><span class="token keyword">export</span> <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">26</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    msg<span class="token punctuation">:</span> <span class="token string">"hello å°èœ"</span><span class="token punctuation">}</span></code></pre><h3 id="exportå’Œexport-defaultçš„åŒºåˆ«"><a href="#exportå’Œexport-defaultçš„åŒºåˆ«" class="headerlink" title="exportå’Œexport defaultçš„åŒºåˆ«"></a>exportå’Œexport defaultçš„åŒºåˆ«</h3><blockquote><ul><li>1.export default ç”¨äºè§„å®šæ¨¡å—çš„é»˜è®¤å¯¹å¤–æ¥å£</li><li>2.å¾ˆæ˜¾ç„¶é»˜è®¤å¯¹å¤–æ¥å£åªèƒ½æœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥ export default åœ¨åŒä¸€ä¸ªæ¨¡å—ä¸­åªèƒ½å‡ºç°ä¸€æ¬¡</li><li>3.export defaultåªèƒ½ç›´æ¥è¾“å‡ºï¼Œä¸èƒ½å…ˆå®šä¹‰å†è¾“å‡ºã€‚</li><li>4.å…¶åœ¨ import æ–¹å¼ä¸Šä¹Ÿå’Œ export å­˜åœ¨ä¸€å®šåŒºåˆ«</li></ul></blockquote><p>exportçš„è¾“å‡ºä¸importè¾“å…¥</p><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">output</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// ...</span><span class="token punctuation">}</span><span class="token keyword">import</span> <span class="token punctuation">{</span>output<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./index.js'</span></code></pre><p>export defaultçš„è¾“å‡ºä¸importè¾“å…¥</p><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">output</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// ...</span><span class="token punctuation">}</span><span class="token keyword">import</span> output <span class="token keyword">from</span> <span class="token string">'./index.js'</span></code></pre><p>ä»ä»¥ä¸Šä¸¤ç§ import æ–¹å¼å³å¯çœ‹å‡ºï¼Œexport default çš„ import æ–¹å¼ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·åŒ…è£¹ã€‚å› ä¸ºå¯¹äº export default å…¶è¾“å‡ºçš„æœ¬æ¥å°±åªæœ‰ä¸€ä¸ªæ¥å£ï¼Œæä¾›çš„æ˜¯æ¨¡å—çš„é»˜è®¤æ¥å£ï¼Œè‡ªç„¶ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·åŒ…è£¹</p><h3 id="å¯¼å…¥-1"><a href="#å¯¼å…¥-1" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h3><p><code>Es Module</code>ä½¿ç”¨çš„æ˜¯<code>import</code>è¯­æ³•è¿›è¡Œå¯¼å…¥ã€‚å¦‚æœè¦å•ä¸ªå¯¼å…¥åˆ™å¿…é¡»ä½¿ç”¨èŠ±æ‹¬å·<code>{}</code> ï¼Œæ³¨æ„ï¼šè¿™é‡Œçš„èŠ±æ‹¬å·è·Ÿè§£æ„ä¸ä¸€æ ·ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// index,js</span><span class="token keyword">export</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">"å°èœ"</span><span class="token keyword">export</span> <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">26</span><span class="token keyword">import</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./index.js'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "å°èœ" 26</span><span class="token comment" spellcheck="true">// å¦‚æœé‡Œé¢å…¨æ˜¯å•ä¸ªå¯¼å‡ºï¼Œæˆ‘ä»¬å°±æƒ³å…¨éƒ¨ç›´æ¥å¯¼å…¥åˆ™å¯ä»¥è¿™æ ·å†™</span><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> all <span class="token keyword">from</span> <span class="token string">'./index.js'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>all<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// {name: "å°èœ", age: 26}</span></code></pre><h3 id="æ··åˆå¯¼å…¥"><a href="#æ··åˆå¯¼å…¥" class="headerlink" title="æ··åˆå¯¼å…¥"></a>æ··åˆå¯¼å…¥</h3><p>æ··åˆå¯¼å…¥ï¼Œåˆ™è¯¥æ–‡ä»¶å†…ç”¨åˆ°æ··åˆå¯¼å…¥ï¼Œ<code>import</code>è¯­å¥å¿…é¡»å…ˆæ˜¯é»˜è®¤å¯¼å‡ºï¼Œåé¢å†æ˜¯å•ä¸ªå¯¼å‡ºï¼Œé¡ºåºä¸€å®šè¦æ­£ç¡®å¦åˆ™æŠ¥é”™ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// index,js</span><span class="token keyword">export</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">"å°èœ"</span><span class="token keyword">export</span> <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">26</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    msg<span class="token punctuation">:</span> <span class="token string">"å°èœ"</span><span class="token punctuation">}</span><span class="token keyword">import</span> msg<span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./index.js'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// { msg: "å°èœ" }</span></code></pre><h3 id="å¯¼å…¥å€¼çš„å˜åŒ–-1"><a href="#å¯¼å…¥å€¼çš„å˜åŒ–-1" class="headerlink" title="å¯¼å…¥å€¼çš„å˜åŒ–"></a>å¯¼å…¥å€¼çš„å˜åŒ–</h3><p><code>export</code>å¯¼å‡ºçš„å€¼æ˜¯å€¼çš„å¼•ç”¨ï¼Œå¹¶ä¸”å†…éƒ¨æœ‰æ˜ å°„å…³ç³»ï¼Œè¿™æ˜¯<code>export</code>å…³é”®å­—çš„ä½œç”¨ã€‚è€Œä¸”å¯¼å…¥çš„å€¼ï¼Œä¸èƒ½è¿›è¡Œä¿®æ”¹ä¹Ÿå°±æ˜¯åªè¯»çŠ¶æ€ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// index.js</span><span class="token keyword">export</span> <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token operator">++</span> num<span class="token punctuation">}</span><span class="token keyword">import</span> <span class="token punctuation">{</span> num<span class="token punctuation">,</span> add <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./index.js"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 0</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 1</span>num <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment" spellcheck="true">// æŠ›å‡ºé”™è¯¯</span></code></pre><h3 id="Es-Moduleæ˜¯é™æ€"><a href="#Es-Moduleæ˜¯é™æ€" class="headerlink" title="Es Moduleæ˜¯é™æ€"></a>Es Moduleæ˜¯é™æ€</h3><p>å°±æ˜¯<code>Es Module</code>è¯­å¥<code>importåªèƒ½å£°æ˜åœ¨è¯¥æ–‡ä»¶çš„æœ€é¡¶éƒ¨ï¼Œä¸èƒ½åŠ¨æ€åŠ è½½è¯­å¥ï¼ŒEs Module</code>è¯­å¥è¿è¡Œåœ¨ä»£ç ç¼–è¯‘æ—¶ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">import</span> xxx <span class="token keyword">from</span> <span class="token string">'XXX'</span> <span class="token comment" spellcheck="true">// æŠ¥é”™</span><span class="token punctuation">}</span></code></pre><h3 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p><code>Es Module</code>ä¹Ÿæ˜¯è§£å†³äº†å˜é‡æ±¡æŸ“é—®é¢˜ï¼Œä¾èµ–é¡ºåºé—®é¢˜ï¼Œ<code>Es Module</code>è¯­æ³•ä¹Ÿæ˜¯æ›´åŠ çµæ´»ï¼Œå¯¼å‡ºå€¼ä¹Ÿéƒ½æ˜¯å¯¼å‡ºçš„å¼•ç”¨ï¼Œå¯¼å‡ºå˜é‡æ˜¯å¯è¯»çŠ¶æ€ï¼Œè¿™åŠ å¼ºäº†ä»£ç å¯è¯»æ€§ã€‚</p><h2 id="CommonJså’ŒEs-Moduleçš„åŒºåˆ«"><a href="#CommonJså’ŒEs-Moduleçš„åŒºåˆ«" class="headerlink" title="CommonJså’ŒEs Moduleçš„åŒºåˆ«"></a>CommonJså’ŒEs Moduleçš„åŒºåˆ«</h2><h3 id="CommonJs"><a href="#CommonJs" class="headerlink" title="CommonJs"></a>CommonJs</h3><blockquote><ul><li>CommonJså¯ä»¥åŠ¨æ€åŠ è½½è¯­å¥ï¼Œä»£ç å‘ç”Ÿåœ¨è¿è¡Œæ—¶</li><li>CommonJsæ··åˆå¯¼å‡ºï¼Œè¿˜æ˜¯ä¸€ç§è¯­æ³•ï¼Œåªä¸è¿‡ä¸ç”¨å£°æ˜å‰é¢å¯¹è±¡è€Œå·²ï¼Œå½“æˆ‘å¯¼å‡ºå¼•ç”¨å¯¹è±¡æ—¶ä¹‹å‰çš„å¯¼å‡ºå°±è¢«è¦†ç›–äº†</li><li>CommonJså¯¼å‡ºå€¼æ˜¯æ‹·è´ï¼Œå¯ä»¥ä¿®æ”¹å¯¼å‡ºçš„å€¼ï¼Œè¿™åœ¨ä»£ç å‡ºé”™æ—¶ï¼Œä¸å¥½æ’æŸ¥å¼•èµ·å˜é‡æ±¡æŸ“</li></ul></blockquote><h3 id="Es-Module"><a href="#Es-Module" class="headerlink" title="Es Module"></a>Es Module</h3><blockquote><ul><li>Es Moduleæ˜¯é™æ€çš„ï¼Œä¸å¯ä»¥åŠ¨æ€åŠ è½½è¯­å¥ï¼Œåªèƒ½å£°æ˜åœ¨è¯¥æ–‡ä»¶çš„æœ€é¡¶éƒ¨ï¼Œä»£ç å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶</li><li>Es Moduleæ··åˆå¯¼å‡ºï¼Œå•ä¸ªå¯¼å‡ºï¼Œé»˜è®¤å¯¼å‡ºï¼Œå®Œå…¨äº’ä¸å½±å“</li><li>Es Moduleå¯¼å‡ºæ˜¯å¼•ç”¨å€¼ä¹‹å‰éƒ½å­˜åœ¨æ˜ å°„å…³ç³»ï¼Œå¹¶ä¸”å€¼éƒ½æ˜¯å¯è¯»çš„ï¼Œä¸èƒ½ä¿®æ”¹</li></ul></blockquote><p>æ¥æºï¼š<a href="https://juejin.cn/post/6938581764432461854" target="_blank" rel="noopener">æ˜é‡‘</a><br>ä½œè€…ï¼šè›™äºº</p>]]></content>
      
      
      <categories>
          
          <category> æ¯æ—¥ä¸€é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>deleteçš„ç”¨æ³•</title>
      <link href="/2021/03/15/t-5/"/>
      <url>/2021/03/15/t-5/</url>
      
        <content type="html"><![CDATA[<p>delete æ˜¯é¡¹ç›®ä¸­ä½¿ç”¨é¢‘ç‡å¹¶ä¸å¾ˆé«˜çš„ä¸€ä¸ªæ“ä½œï¼Œä¹¦ä¸Šå†™deleteæ“ä½œç¬¦è¦è°¨æ…ä½¿ç”¨ï¼Œå› ä¸ºå¤§å¤šæ•°ç°ä»£jså¼•æ“ä¼šé’ˆå¯¹æ„é€ å‡½æ•°åˆ›å»ºçš„å®ä¾‹è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œè€Œdeleteä¼šç ´åè¿™ç§ä¼˜åŒ–ã€‚</p><h2 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><p>çœ‹ä¸‹é¢˜æœ€åè¾“å‡ºçš„æ˜¯ä»€ä¹ˆ</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">delete</span> obj    <span class="token keyword">return</span> obj<span class="token punctuation">}</span><span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'å°èœ'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><code>delete</code> æ“ä½œç¬¦ç”¨äº<code>åˆ é™¤å¯¹è±¡çš„æŸä¸ªå±æ€§</code>ï¼›å¦‚æœæ²¡æœ‰æŒ‡å‘è¿™ä¸ªå±æ€§çš„å¼•ç”¨ï¼Œé‚£å®ƒæœ€ç»ˆä¼šè¢«é‡Šæ”¾   </p><h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><p>ç›´æ¥ä½¿ç”¨deleteæ“ä½œç¬¦</p><pre class=" language-js"><code class="language-js"><span class="token keyword">delete</span> object<span class="token punctuation">.</span>property<span class="token keyword">delete</span> object<span class="token punctuation">[</span><span class="token string">'property'</span><span class="token punctuation">]</span></code></pre><p>ä¾‹å¦‚ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> <span class="token string">'å°èœ'</span>    age<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token keyword">delete</span> person<span class="token punctuation">.</span>nameconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// {age: 18}</span></code></pre><p><code>è¿”å›å€¼</code>ï¼šå¯¹äºæ‰€æœ‰æƒ…å†µéƒ½æ˜¯trueï¼Œå³ä½¿æ˜¯åˆ é™¤ä¸å­˜åœ¨çš„å±æ€§ä¹Ÿä¼šè¿”å›trueï¼Œè¿˜æ˜¯å¦‚ä¸Šä»£ç ï¼Œä¸é˜²æ‰“å°ä¸€ä¸‹è¿”å›å€¼çœ‹çœ‹<br>é™¤éå±æ€§æ˜¯ä¸€ä¸ª<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty" target="_blank" rel="noopener">è‡ªèº«çš„</a><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Errors/Cant_delete" target="_blank" rel="noopener">ä¸å¯é…ç½®</a>çš„å±æ€§ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéä¸¥æ ¼æ¨¡å¼è¿”å› falseã€‚</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">delete</span> person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">delete</span> person<span class="token punctuation">.</span>job<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//å³ä½¿åˆ é™¤å¯¹è±¡ä¸å­˜åœ¨çš„å±æ€§ä¾ç„¶è¿”å›true</span></code></pre><h2 id="å…·ä½“ä½¿ç”¨"><a href="#å…·ä½“ä½¿ç”¨" class="headerlink" title="å…·ä½“ä½¿ç”¨"></a>å…·ä½“ä½¿ç”¨</h2><h3 id="1-å¯¹è±¡å±æ€§ä¸å­˜åœ¨"><a href="#1-å¯¹è±¡å±æ€§ä¸å­˜åœ¨" class="headerlink" title="1. å¯¹è±¡å±æ€§ä¸å­˜åœ¨"></a>1. å¯¹è±¡å±æ€§ä¸å­˜åœ¨</h3><p>å¦‚ä¸Šæ‰€è¿°ï¼Œå¦‚æœåˆ é™¤å¯¹è±¡ä¸å­˜åœ¨çš„å±æ€§ï¼Œdeleteæ— æ•ˆï¼Œä½†æ˜¯è¿”å›å€¼ä»ç„¶ä¸ºtrue</p><h3 id="2-delete-å’ŒåŸå‹é“¾"><a href="#2-delete-å’ŒåŸå‹é“¾" class="headerlink" title="2. delete å’ŒåŸå‹é“¾"></a>2. delete å’ŒåŸå‹é“¾</h3><p>å¦‚æœdeleteæ“ä½œç¬¦åˆ é™¤å±æ€§æˆåŠŸï¼Œåˆ™è¯¥å±æ€§å°†æ°¸è¿œä¸å­˜åœ¨ï¼Œä½†æ˜¯è¯¥å¯¹è±¡åŸå‹é“¾ä¸Šå­˜åœ¨è¯¥åŒåå±æ€§ï¼Œåˆ™è¯¥å¯¹è±¡ä¼šä»åŸå‹é“¾ä¸Šç»§æ‰¿è¯¥åŒåå±æ€§ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"å°èœ"</span><span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token operator">=</span> <span class="token string">"å·¥ç¨‹å¸ˆ"</span><span class="token punctuation">}</span>Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"èœèœ"</span><span class="token comment" spellcheck="true">// åˆ›å»ºå®ä¾‹å¯¹è±¡</span><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// åªåˆ é™¤på®ä¾‹çš„nameå±æ€§</span><span class="token keyword">delete</span> p<span class="token punctuation">.</span>name<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// é€šè¿‡æ‰“å°ï¼Œnameå±æ€§æˆåŠŸåˆ é™¤,ä¸èƒ½åˆ é™¤åŸå‹é“¾ä¸Šçš„å±æ€§</span><span class="token comment" spellcheck="true">/*    Person { job: "å·¥ç¨‹å¸ˆ" }    job: "å·¥ç¨‹å¸ˆ"    __proto__:        name: "èœèœ"        constructor: Æ’ Person()        __proto__: Object*/</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// èœèœ</span></code></pre><p>æ³¨æ„ï¼šåªå¯¹å¯¹è±¡è‡ªèº«å±æ€§èµ·ä½œç”¨ï¼Œä¸èƒ½åˆ é™¤åŸå‹é“¾ä¸Šçš„å±æ€§</p><h3 id="3-ä¸å¯è®¾ç½®çš„å±æ€§"><a href="#3-ä¸å¯è®¾ç½®çš„å±æ€§" class="headerlink" title="3.ä¸å¯è®¾ç½®çš„å±æ€§"></a>3.ä¸å¯è®¾ç½®çš„å±æ€§</h3><p>Math, Array, Objectç­‰å†…ç½®å¯¹è±¡çš„å±æ€§ä¸å¯åˆ é™¤</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span><span class="token keyword">delete</span> Array<span class="token punctuation">.</span>lengthconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token number">0</span></code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæ˜¯è¿™äº›å†…ç½®å¯¹è±¡çš„å±æ€§ä¸å¯åˆ é™¤ï¼Œå†…ç½®å¯¹è±¡çš„æ–¹æ³•æ˜¯å¯ä»¥åˆ é™¤çš„ï¼Œæ¯”å¦‚:</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span>forEach<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å†…ç½®å‡½æ•°</span><span class="token keyword">delete</span> Array<span class="token punctuation">.</span>forEach <span class="token comment" spellcheck="true">// ä¸ç”¨åŒºåˆ†ä¸¥æ ¼æ¨¡å¼ä¸å¦</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span>forEach<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span></code></pre><blockquote><ul><li>ä½¿ç”¨ var å£°æ˜çš„å±æ€§éƒ½æ˜¯ä¸å¯é…ç½®çš„ï¼Œ delete ä¸èƒ½åˆ é™¤<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'å°èœ'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å°èœ</span><span class="token keyword">delete</span> strconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å°èœ</span></code></pre></li><li>letå’Œconstå£°æ˜çš„å±æ€§<br>ä»»ä½•ç”¨letæˆ–constå£°æ˜çš„å±æ€§ä¸èƒ½å¤Ÿä»å®ƒè¢«å£°æ˜çš„ä½œç”¨åŸŸä¸­åˆ é™¤ï¼Œæˆ‘è¯•äº†ä¸‹ï¼Œå’Œvarçš„æ•ˆæœæ˜¯ä¸€æ ·çš„</li></ul></blockquote><h3 id="3-delete-å’Œæ•°ç»„"><a href="#3-delete-å’Œæ•°ç»„" class="headerlink" title="3.delete å’Œæ•°ç»„"></a>3.delete å’Œæ•°ç»„</h3><p>ä½¿ç”¨deleteæ“ä½œç¬¦åˆ é™¤æ•°ç»„æ€»æŸé¡¹å…ƒç´ æ—¶ï¼Œè¢«åˆ é™¤çš„å…ƒç´ ä¼šä»è¯¥æ•°ç»„ä¸­åˆ é™¤ï¼Œä½†æ˜¯æ•°ç»„çš„lengthå¹¶ä¸ä¼šæ”¹å˜</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">delete</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/*    (3) [1, empty, 3]    0: 1    2: 3    length: 3*/</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span></code></pre><p>æ ¹æ®MDNä¸­inåœ¨arrayä¸­çš„ä½¿ç”¨ï¼ši in arrayï¼šiè¡¨ç¤ºarrayä¸­çš„æ•°ç»„å±æ€§æˆ–è€…ç´¢å¼•ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol><li><code>delete</code>åˆ é™¤å±æ€§<blockquote><ul><li>å˜é‡</li><li>delete åªå¯¹å¯¹è±¡è‡ªèº«å±æ€§èµ·ä½œç”¨ï¼Œä¸èƒ½åˆ é™¤åŸå‹é“¾ä¸Šçš„å±æ€§</li><li>ä½¿ç”¨ var å£°æ˜çš„å±æ€§éƒ½æ˜¯ä¸å¯é…ç½®çš„ï¼Œ delete ä¸èƒ½åˆ é™¤</li></ul></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ¯æ—¥ä¸€é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹å†™ä¸€ä¸ªğŸğŸğŸ</title>
      <link href="/2021/03/14/write-0/"/>
      <url>/2021/03/14/write-0/</url>
      
        <content type="html"><![CDATA[<h2 id="å†™ä¸€ä¸ªcallğŸ"><a href="#å†™ä¸€ä¸ªcallğŸ" class="headerlink" title="å†™ä¸€ä¸ªcallğŸ"></a>å†™ä¸€ä¸ªcallğŸ</h2><p>æ¨¡æ‹Ÿä¸€ä¸ªcallæ–¹æ³•<a href="https://github.com/ght5935/StudyUp/blob/master/javascript/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97/1.%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AAcall.js" target="_blank" rel="noopener">æŸ¥çœ‹</a></p><pre class=" language-js"><code class="language-js">Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>myCall <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token comment" spellcheck="true">// æŒ‚åœ¨ä¸€ä¸ªfnå‡½æ•°</span>    <span class="token keyword">var</span> context <span class="token operator">=</span> context <span class="token operator">||</span> window<span class="token punctuation">;</span>    context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span>     <span class="token comment" spellcheck="true">// æ‰§è¡Œè¯¥å‡½æ•°</span>    <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">let</span> result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// åˆ é™¤è¯¥å‡½æ•°</span>    <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn    <span class="token comment" spellcheck="true">// è¿”å›ç»“æœ</span>    <span class="token keyword">return</span> result<span class="token punctuation">}</span></code></pre><h2 id="å†™ä¸€ä¸ªapplyğŸ"><a href="#å†™ä¸€ä¸ªapplyğŸ" class="headerlink" title="å†™ä¸€ä¸ªapplyğŸ"></a>å†™ä¸€ä¸ªapplyğŸ</h2><p>æ¨¡æ‹Ÿä¸€ä¸ªapplyæ–¹æ³•<a href="https://github.com/ght5935/StudyUp/blob/master/javascript/%E6%89%8B%E5%86%99%E7%B3%BB%E5%88%97/2.%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AAapply.js" target="_blank" rel="noopener">æŸ¥çœ‹</a></p><pre class=" language-js"><code class="language-js">Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>myApply <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// æŒ‚è½½ä¸€ä¸ªå‡½æ•°</span>    <span class="token keyword">var</span> context <span class="token operator">=</span> context <span class="token operator">||</span> window    context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span>        <span class="token comment" spellcheck="true">// æ‰§è¡Œè¯¥å‡½æ•°</span>    <span class="token keyword">let</span> args <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token keyword">let</span> result<span class="token punctuation">;</span>    args <span class="token operator">?</span> result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">:</span> result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">// åˆ é™¤è¯¥å‡½æ•°</span>    <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn        <span class="token comment" spellcheck="true">// è¿”å›ç»“æœ</span>    <span class="token keyword">return</span> result<span class="token punctuation">}</span></code></pre><h2 id="å†™ä¸€ä¸ªbindğŸ"><a href="#å†™ä¸€ä¸ªbindğŸ" class="headerlink" title="å†™ä¸€ä¸ªbindğŸ"></a>å†™ä¸€ä¸ªbindğŸ</h2><h2 id="æŸ¯é‡ŒåŒ–ğŸ"><a href="#æŸ¯é‡ŒåŒ–ğŸ" class="headerlink" title="æŸ¯é‡ŒåŒ–ğŸ"></a>æŸ¯é‡ŒåŒ–ğŸ</h2><p>æŸ¯é‡ŒåŒ–é€šå¸¸ä¹Ÿç§°éƒ¨åˆ†æ±‚å€¼ï¼Œå…¶å«ä¹‰æ˜¯ç»™å‡½æ•°åˆ†æ­¥ä¼ é€’å‚æ•°ï¼Œæ¯æ¬¡ä¼ é€’å‚æ•°åéƒ¨åˆ†åº”ç”¨å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ›´å…·ä½“çš„å‡½æ•°æ¥å—å‰©ä¸‹çš„å‚æ•°ï¼Œè¿™ä¸­é—´å¯åµŒå¥—å¤šå±‚è¿™æ ·çš„æ¥å—éƒ¨åˆ†å‚æ•°å‡½æ•°ï¼Œç›´è‡³è¿”å›æœ€åç»“æœã€‚<br>å¦‚æœè¦å®ç°ä¸‹é¢è¿™ä¸ªæ–¹æ³•:<br><code>add(1, 2)(3)(4)(5, 6, 7)(9)()</code><br>ä¸Šé¢è¿™ä¸ªå‡½æ•°å½“å‚æ•°ä¸ºç©ºçš„æ—¶å€™æ‰§è¡Œäº†å†…éƒ¨å‚æ•°æ‰€æœ‰å€¼çš„ç›¸åŠ ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥è€ƒè™‘å½“å‚æ•°ä¸ä¸ºç©ºçš„æ—¶å€™å°†ç¼“å­˜èµ·æ¥ï¼Œåœ¨ä¸ºç©ºçš„æ—¶å€™å†ç›¸åŠ ï¼Œè¿™æ ·çš„æ€è·¯ä¼šç”¨é—­åŒ…çš„æ–¹å¼æ¥å®ç°ã€‚ä¸‹é¢æ˜¯å®ç°æ–¹æ³•ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// ç¼“å­˜æ‰€æœ‰çš„argumentså€¼</span>    <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span>    <span class="token comment" spellcheck="true">// æ–°å»ºfnå‡½æ•°å®ç°æŸ¯é‡ŒåŒ–</span>    <span class="token keyword">let</span> fn <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// å¦‚æœå‚æ•°ä¸ºç©ºï¼Œé‚£ä¹ˆé€’å½’åœæ­¢ï¼Œè¿”å›æ‰§è¡Œç»“æœ</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>             <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">+</span> b<span class="token punctuation">)</span>         <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>             <span class="token comment" spellcheck="true">// å¦åˆ™å°†å‚æ•°ä¿å­˜åˆ°argsé‡Œé¢ï¼Œè¿”å›fnæ–¹æ³•</span>             args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span>             <span class="token keyword">return</span> fn         <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> fn<span class="token punctuation">}</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 37</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†™ç³»åˆ—ğŸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†™ç³»åˆ—ğŸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯ç›‘æ§å’Œå‰ç«¯åŸ‹ç‚¹</title>
      <link href="/2020/09/18/js-11/"/>
      <url>/2020/09/18/js-11/</url>
      
        <content type="html"><![CDATA[<p>å‰ç«¯ç›‘æ§å’Œå‰ç«¯åŸ‹ç‚¹ï¼Œä¸€ä¸ªæ˜¯ç›®çš„ï¼Œä¸€ä¸ªæ˜¯å®ç°æ–¹å¼ï¼Œåšå‰ç«¯åŸ‹ç‚¹ï¼Œæ˜¯ä¸ºäº†åšå‰ç«¯ç›‘æ§ï¼Œé‚£ä¸ºä»€ä¹ˆè¦åšå‰ç«¯ç›‘æ§å‘¢ï¼Ÿ</p><p>å‰ç«¯ç›‘æ§çš„ç›®çš„æ˜¯ï¼š</p><blockquote><ul><li>è·å–ç”¨æˆ·è¡Œä¸ºä»¥åŠè·Ÿè¸ªäº§å“åœ¨ç”¨æˆ·ç«¯çš„ä½¿ç”¨æƒ…å†µï¼Œå¹¶ä»¥ç›‘æ§æ•°æ®ä¸ºåŸºç¡€ï¼ŒæŒ‡æ˜äº§å“ä¼˜åŒ–çš„æ–¹å‘ã€‚</li></ul></blockquote><h2 id="å‰ç«¯ç›‘æ§"><a href="#å‰ç«¯ç›‘æ§" class="headerlink" title="å‰ç«¯ç›‘æ§"></a>å‰ç«¯ç›‘æ§</h2><pre><code>å‰ç«¯ç›‘æ§å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š</code></pre><blockquote><ul><li>æ•°æ®ç›‘æ§</li><li>æ€§èƒ½ç›‘æ§</li><li>å¼‚å¸¸ç›‘æ§</li></ul></blockquote><h2 id="æ•°æ®ç›‘æ§"><a href="#æ•°æ®ç›‘æ§" class="headerlink" title="æ•°æ®ç›‘æ§"></a>æ•°æ®ç›‘æ§</h2><pre><code>æ•°æ®ç›‘æ§ï¼Œå°±æ˜¯ç›‘å¬ç”¨æˆ·çš„è¡Œä¸ºï¼Œå¸¸è§çš„ç›‘æ§é¡¹æœ‰ï¼š</code></pre><blockquote><ul><li>PV/UV:PV(page view)ï¼šå³é¡µé¢æµè§ˆé‡æˆ–ç‚¹å‡»é‡ï¼›UVï¼šæŒ‡è®¿é—®æŸä¸ªç«™ç‚¹æˆ–ç‚¹å‡»æŸæ¡æ–°é—»çš„ä¸åŒ IP åœ°å€çš„äººæ•°</li><li>ç”¨æˆ·åœ¨æ¯ä¸€ä¸ªé¡µé¢çš„åœç•™æ—¶é—´</li><li>ç”¨æˆ·é€šè¿‡ä»€ä¹ˆå…¥å£æ¥è®¿é—®è¯¥ç½‘é¡µ</li><li>ç”¨æˆ·åœ¨ç›¸åº”çš„é¡µé¢ä¸­è§¦å‘çš„è¡Œä¸º<br>ç»Ÿè®¡è¿™äº›æ•°æ®æ˜¯æœ‰æ„ä¹‰çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬çŸ¥é“äº†ç”¨æˆ·æ¥æºçš„æ¸ é“ï¼Œå¯ä»¥ä¿ƒè¿›äº§å“çš„æ¨å¹¿ï¼ŒçŸ¥é“ç”¨æˆ·åœ¨æ¯ä¸€ä¸ªé¡µé¢åœç•™çš„æ—¶é—´ï¼Œå¯ä»¥é’ˆå¯¹åœç•™è¾ƒé•¿çš„é¡µé¢ï¼Œå¢åŠ å¹¿å‘Šæ¨é€ç­‰ç­‰ã€‚</li></ul></blockquote><h2 id="æ€§èƒ½ç›‘æ§"><a href="#æ€§èƒ½ç›‘æ§" class="headerlink" title="æ€§èƒ½ç›‘æ§"></a>æ€§èƒ½ç›‘æ§</h2><p>æ€§èƒ½ç›‘æ§æŒ‡çš„æ˜¯ç›‘å¬å‰ç«¯çš„æ€§èƒ½ï¼Œä¸»è¦åŒ…æ‹¬ç›‘å¬ç½‘é¡µæˆ–è€…è¯´äº§å“åœ¨ç”¨æˆ·ç«¯çš„ä½“éªŒã€‚å¸¸è§çš„æ€§èƒ½ç›‘æ§é¡¹åŒ…æ‹¬ï¼š</p><blockquote><ul><li>ä¸åŒç”¨æˆ·ï¼Œä¸åŒæœºå‹å’Œä¸åŒç³»ç»Ÿä¸‹çš„é¦–å±åŠ è½½æ—¶é—´</li><li>ç™½å±æ—¶é—´</li><li>http ç­‰è¯·æ±‚çš„å“åº”æ—¶é—´</li><li>é™æ€èµ„æºæ•´ä½“ä¸‹è½½æ—¶é—´</li><li>é¡µé¢æ¸²æŸ“æ—¶é—´</li><li>é¡µé¢äº¤äº’åŠ¨ç”»å®Œæˆæ—¶é—´</li></ul></blockquote><p>è¿™äº›æ€§èƒ½ç›‘æ§çš„ç»“æœï¼Œå¯ä»¥å±•ç¤ºå‰ç«¯æ€§èƒ½çš„å¥½åï¼Œæ ¹æ®æ€§èƒ½ç›‘æµ‹çš„ç»“æœå¯ä»¥è¿›ä¸€æ­¥çš„å»ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Œæ¯”å¦‚å…¼å®¹ä½ç‰ˆæœ¬æµè§ˆå™¨çš„åŠ¨ç”»æ•ˆæœï¼ŒåŠ å¿«é¦–å±åŠ è½½ç­‰ç­‰ã€‚</p><h2 id="å¼‚å¸¸ç›‘æ§"><a href="#å¼‚å¸¸ç›‘æ§" class="headerlink" title="å¼‚å¸¸ç›‘æ§"></a>å¼‚å¸¸ç›‘æ§</h2><p>ç”±äºäº§å“çš„å‰ç«¯ä»£ç åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¹Ÿä¼šå‘ç”Ÿå¼‚å¸¸ï¼Œå› æ­¤éœ€è¦å¼•å…¥å¼‚å¸¸ç›‘æ§ã€‚åŠæ—¶çš„ä¸ŠæŠ¥å¼‚å¸¸æƒ…å†µï¼Œå¯ä»¥é¿å…çº¿ä¸Šæ•…éšœçš„å‘ä¸Šã€‚è™½ç„¶å¤§éƒ¨åˆ†å¼‚å¸¸å¯ä»¥é€šè¿‡ try catch çš„æ–¹å¼æ•è·ï¼Œä½†æ˜¯æ¯”å¦‚å†…å­˜æ³„æ¼ä»¥åŠå…¶ä»–å¶ç°çš„å¼‚å¸¸éš¾ä»¥æ•è·ã€‚å¸¸è§çš„éœ€è¦ç›‘æ§çš„å¼‚å¸¸åŒ…æ‹¬ï¼š</p><blockquote><ul><li>Javascript çš„å¼‚å¸¸ç›‘æ§</li><li>æ ·å¼ä¸¢å¤±çš„å¼‚å¸¸ç›‘æ§</li></ul></blockquote><h2 id="å‰ç«¯åŸ‹ç‚¹"><a href="#å‰ç«¯åŸ‹ç‚¹" class="headerlink" title="å‰ç«¯åŸ‹ç‚¹"></a>å‰ç«¯åŸ‹ç‚¹</h2><p>æˆ‘ä»¬è¯´å®Œäº†å‰ç«¯ç›‘æ§çš„ä¸‰ä¸ªåˆ†ç±»ï¼Œç°åœ¨å°±æ¥èŠèŠæ€ä¹ˆå®ç°å‰ç«¯ç›‘æ§ã€‚å®ç°å‰ç«¯ç›‘æ§ï¼Œç¬¬ä¸€æ­¥è‚¯å®šæ˜¯å°†æˆ‘ä»¬è¦ç›‘æ§çš„äº‹é¡¹ï¼ˆæ•°æ®ï¼‰ç»™æ”¶é›†èµ·æ¥ï¼Œå†æäº¤ç»™åå°ï¼Œæœ€åè¿›è¡Œæ•°æ®åˆ†æã€‚æ•°æ®æ”¶é›†çš„ä¸°å¯Œæ€§å’Œå‡†ç¡®æ€§ä¼šç›´æ¥å½±å“åˆ°æˆ‘ä»¬åšå‰ç«¯ç›‘æ§çš„è´¨é‡ï¼Œå› ä¸ºæˆ‘ä»¬ä¼šä»¥æ­¤ä¸ºåŸºç¡€ï¼Œä¸ºäº§å“çš„æœªæ¥å‘å±•æŒ‡å¼•æ–¹å‘ã€‚</p><p>æ”¶é›†ç›‘æ§æ•°æ®æˆ‘ä»¬æ˜¯é€šè¿‡å‰ç«¯åŸ‹ç‚¹æ¥å®ç°çš„ï¼Œç›®å‰å¸¸è§çš„å‰ç«¯åŸ‹ç‚¹æ–¹æ³•æœ‰ä¸‰ç§ï¼š<code>æ‰‹åŠ¨åŸ‹ç‚¹</code>ã€<code>å¯è§†åŒ–åŸ‹ç‚¹</code>å’Œ<code>æ— åŸ‹ç‚¹</code>ã€‚</p><h3 id="æ‰‹åŠ¨åŸ‹ç‚¹"><a href="#æ‰‹åŠ¨åŸ‹ç‚¹" class="headerlink" title="æ‰‹åŠ¨åŸ‹ç‚¹"></a>æ‰‹åŠ¨åŸ‹ç‚¹</h3><p>æ‰‹åŠ¨åŸ‹ç‚¹ï¼Œä¹Ÿå«ä»£ç åŸ‹ç‚¹ï¼Œå³çº¯æ‰‹åŠ¨å†™ä»£ç ï¼Œè°ƒç”¨åŸ‹ç‚¹ SDK çš„å‡½æ•°ï¼Œåœ¨éœ€è¦åŸ‹ç‚¹çš„ä¸šåŠ¡é€»è¾‘åŠŸèƒ½ä½ç½®è°ƒç”¨æ¥å£ï¼Œä¸ŠæŠ¥åŸ‹ç‚¹æ•°æ®ï¼Œåƒå‹ç›Ÿã€ç™¾åº¦ç»Ÿè®¡ç­‰ç¬¬ä¸‰æ–¹æ•°æ®ç»Ÿè®¡æœåŠ¡å•†å¤§éƒ½é‡‡ç”¨è¿™ç§æ–¹æ¡ˆã€‚</p><p>æ‰‹åŠ¨åŸ‹ç‚¹è®©ä½¿ç”¨è€…å¯ä»¥æ–¹ä¾¿åœ°è®¾ç½®è‡ªå®šä¹‰å±æ€§ã€è‡ªå®šä¹‰äº‹ä»¶ï¼›æ‰€ä»¥å½“ä½ éœ€è¦æ·±å…¥ä¸‹é’»ï¼Œå¹¶ç²¾ç»†åŒ–è‡ªå®šä¹‰åˆ†ææ—¶ï¼Œæ¯”è¾ƒé€‚åˆä½¿ç”¨æ‰‹åŠ¨åŸ‹ç‚¹ã€‚</p><p>æ‰‹åŠ¨åŸ‹ç‚¹çš„ç¼ºé™·å°±æ˜¯ï¼Œé¡¹ç›®å·¥ç¨‹é‡å¤§ï¼Œéœ€è¦åŸ‹ç‚¹çš„ä½ç½®å¤ªå¤šï¼Œè€Œä¸”éœ€è¦äº§å“å¼€å‘è¿è¥ä¹‹é—´ç›¸äº’åå¤æ²Ÿé€šï¼Œå®¹æ˜“å‡ºç°æ‰‹åŠ¨å·®é”™ï¼Œå¦‚æœé”™è¯¯ï¼Œé‡æ–°åŸ‹ç‚¹çš„æˆæœ¬ä¹Ÿå¾ˆé«˜ã€‚è¿™ä¼šå¯¼è‡´æ•´ä¸ªæ•°æ®æ”¶é›†å‘¨æœŸå˜çš„å¾ˆé•¿ï¼Œæ”¶é›†æˆæœ¬å˜çš„å¾ˆé«˜ï¼Œè€Œä¸”æ•ˆç‡å¾ˆä½ã€‚å› ä¸ºæ‰‹åŠ¨åŸ‹ç‚¹éœ€è¦å¼€å‘äººå‘˜å®Œæˆï¼Œæ‰€ä»¥æ¯æ¬¡æœ‰åŸ‹ç‚¹æ›´æ–°ï¼Œæˆ–è€…æ¼åŸ‹ç‚¹ï¼Œéƒ½éœ€è¦é‡æ–°èµ°ä¸Šçº¿å‘å¸ƒæµç¨‹ï¼Œæ›´æ–°æˆæœ¬ä¹Ÿé«˜ï¼Œå¯¹çº¿ä¸Šç³»ç»Ÿç¨³å®šæ€§ä¹Ÿæœ‰ä¸€å®šå±å®³ã€‚</p><h3 id="å¯è§†åŒ–åŸ‹ç‚¹"><a href="#å¯è§†åŒ–åŸ‹ç‚¹" class="headerlink" title="å¯è§†åŒ–åŸ‹ç‚¹"></a>å¯è§†åŒ–åŸ‹ç‚¹</h3><p>é€šè¿‡å¯è§†åŒ–äº¤äº’çš„æ‰‹æ®µï¼Œä»£æ›¿ä¸Šè¿°çš„ä»£ç åŸ‹ç‚¹ã€‚å°†ä¸šåŠ¡ä»£ç å’ŒåŸ‹ç‚¹ä»£ç åˆ†ç¦»ï¼Œæä¾›ä¸€ä¸ªå¯è§†åŒ–äº¤äº’çš„é¡µé¢ï¼Œè¾“å…¥ä¸ºä¸šåŠ¡ä»£ç ï¼Œé€šè¿‡è¿™ä¸ªå¯è§†åŒ–ç³»ç»Ÿï¼Œå¯ä»¥åœ¨ä¸šåŠ¡ä»£ç ä¸­è‡ªå®šä¹‰çš„å¢åŠ åŸ‹ç‚¹äº‹ä»¶ç­‰ç­‰ï¼Œæœ€åè¾“å‡ºçš„ä»£ç è€¦åˆäº†ä¸šåŠ¡ä»£ç å’ŒåŸ‹ç‚¹ä»£ç ã€‚ç¼ºç‚¹å°±æ˜¯å¯ä»¥åŸ‹ç‚¹çš„æ§ä»¶æœ‰é™ï¼Œä¸èƒ½æ‰‹åŠ¨å®šåˆ¶ã€‚</p><p>å¯è§†åŒ–åŸ‹ç‚¹å¬èµ·æ¥æ¯”è¾ƒé«˜å¤§ä¸Šï¼Œå®é™…ä¸Šè·Ÿä»£ç åŸ‹ç‚¹è¿˜æ˜¯åŒºåˆ«ä¸å¤§ã€‚ä¹Ÿå°±æ˜¯ç”¨ä¸€ä¸ªç³»ç»Ÿæ¥å®ç°æ‰‹åŠ¨æ’å…¥ä»£ç åŸ‹ç‚¹çš„è¿‡ç¨‹ã€‚æ¯”å¦‚å›½å¤–æ¯”è¾ƒæ—©åšå¯è§†åŒ–çš„æ˜¯ Mixpanelï¼Œå›½å†…è¾ƒæ—©æ”¯æŒå¯è§†åŒ–åŸ‹ç‚¹çš„æœ‰TalkingDataã€è¯¸è‘› IOï¼Œ2017å¹´è…¾è®¯çš„ MTA ä¹Ÿå®£å¸ƒæ”¯æŒå¯è§†åŒ–åŸ‹ç‚¹ï¼›ç›¸æ¯”äºæ‰‹åŠ¨åŸ‹ç‚¹æ›´æ–°å›°éš¾ï¼ŒåŸ‹ç‚¹æˆæœ¬é«˜çš„é—®é¢˜ï¼Œå¯è§†åŒ–åŸ‹ç‚¹ä¼˜åŒ–äº†ç§»åŠ¨è¿è¥ä¸­æ•°æ®é‡‡é›†çš„æµç¨‹ï¼Œèƒ½å¤Ÿæ”¯æŒäº§å“è¿è¥éšæ—¶è°ƒæ•´åŸ‹ç‚¹ï¼Œæ— éœ€å†èµ°å‘ç‰ˆæµç¨‹ï¼Œç›´æ¥æŠŠé…ç½®ç»“æœæ¨å…¥åˆ°å‰ç«¯ï¼Œæ•°æ®é‡‡é›†æµç¨‹æ›´ç®€åŒ–ï¼Œä¹Ÿæ›´æ–¹ä¾¿äº§å“çš„è¿­ä»£ã€‚</p><p>å¯è§†åŒ–åŸ‹ç‚¹ä¸­å¤šæ•°åŸºäºXpathçš„æ–¹æ¡ˆï¼ŒXPath æ˜¯ä¸€é—¨åœ¨ XML æ–‡æ¡£ä¸­æŸ¥æ‰¾ä¿¡æ¯çš„è¯­è¨€ï¼ŒXPath å¯ç”¨æ¥åœ¨ XML æ–‡æ¡£ä¸­å¯¹å…ƒç´ å’Œå±æ€§è¿›è¡Œéå†</p><h3 id="æ— åŸ‹ç‚¹"><a href="#æ— åŸ‹ç‚¹" class="headerlink" title="æ— åŸ‹ç‚¹"></a>æ— åŸ‹ç‚¹</h3><p> æ— åŸ‹ç‚¹åˆ™æ˜¯å‰ç«¯è‡ªåŠ¨é‡‡é›†å…¨éƒ¨äº‹ä»¶ï¼Œä¸ŠæŠ¥åŸ‹ç‚¹æ•°æ®ï¼Œç”±åç«¯æ¥è¿‡æ»¤å’Œè®¡ç®—å‡ºæœ‰ç”¨çš„æ•°æ®ã€‚ä¼˜ç‚¹æ˜¯å‰ç«¯åªè¦ä¸€æ¬¡åŠ è½½åŸ‹ç‚¹è„šæœ¬ï¼Œç¼ºç‚¹æ˜¯æµé‡å’Œé‡‡é›†çš„æ•°æ®è¿‡äºåºå¤§ï¼ŒæœåŠ¡å™¨æ€§èƒ½å‹åŠ›å±±å¤§ã€‚</p><p>é‡‡ç”¨æ— åŸ‹ç‚¹æŠ€æœ¯çš„æœ‰ä¸»æµçš„ GrowingIOã€ç¥ç­–ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨ä¸åŒåœºæ™¯ä¸‹æˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸åŒçš„åŸ‹ç‚¹æ–¹æ¡ˆã€‚ä¾‹å¦‚å¯¹äºç®€å•çš„ç”¨æˆ·è¡Œä¸ºç±»äº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨å…¨åŸ‹ç‚¹è§£å†³ï¼›è€Œå¯¹äºéœ€è¦æºå¸¦å¤§é‡è¿è¡Œæ—¶æ‰å¯è·çŸ¥çš„ä¸šåŠ¡å­—æ®µçš„åŸ‹ç‚¹éœ€æ±‚ï¼Œå°±éœ€è¦å£°æ˜å¼åŸ‹ç‚¹æ¥è§£å†³ã€‚</p><h2 id="ä»£ç å®ä¾‹"><a href="#ä»£ç å®ä¾‹" class="headerlink" title="ä»£ç å®ä¾‹"></a>ä»£ç å®ä¾‹</h2><p>è¯´å®Œäº†ç†è®ºçš„ä¸œè¥¿ï¼Œæˆ‘ä»¬æ¥çœ‹ç‚¹å¸¸è§çš„æ ¸å¿ƒä»£ç å®ç°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSä»£ç è¦ä¸è¦åŠ åˆ†å·?</title>
      <link href="/2020/08/26/js-10/"/>
      <url>/2020/08/26/js-10/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜èƒŒæ™¯"><a href="#é—®é¢˜èƒŒæ™¯" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h2><p>å‰ä¸€æ®µæ—¥å­å›¢é˜Ÿé€šè¿‡<code>ESLint + Prettier +StyleLint</code>åˆšåˆšç»Ÿä¸€äº†ä»£ç è§„èŒƒã€‚æˆ‘æœ¬åœ°é€šè¿‡ç¼–è¾‘å™¨è®¾ç½®äº†ä¿å­˜æ—¶æ‰§è¡Œeslint fixï¼Œå¶ç„¶çš„å‘ç°äº†ä¸€ä¸ªæŠ¥é”™â€¦</p><p>æ ¹æ®æç¤ºï¼Œåœ¨æ¯ä¸€ä¸ª<code>[</code>å‰åŠ ä¸€ä¸ª<code>;</code>ï¼Œæœç„¶æ²¡é—®é¢˜äº†ã€‚ä½†æ˜¯æˆ‘ä»¬å›¢é˜Ÿçš„ä»£ç è§„åˆ™æ˜¯ä¸éœ€è¦åˆ†å·çš„ï¼Œæˆ‘è§‰å¾—è¿™æ ·å¾ˆä¸ç¾è§‚ã€‚æƒ³çŸ¥é“æŠ¥é”™çš„æ ¹æœ¬åŸå› ï¼Œï¼ˆå…¶å®å½“æ—¶æ€€ç–‘è¿™æ˜¯prettierçš„ä¸€ä¸ªBUGï¼‰ï¼Œäºæ˜¯å°±ç»§ç»­æ¢ç©¶äº†ä¸‹å»ã€‚ </p><h2 id="åˆ†å·çš„ä½œç”¨"><a href="#åˆ†å·çš„ä½œç”¨" class="headerlink" title="åˆ†å·çš„ä½œç”¨"></a>åˆ†å·çš„ä½œç”¨</h2><p>åˆ†å·ä¹Ÿæ˜¯ä¸€ä¸ªæ‰§è¡Œè¯­å¥ï¼Œå«åšç©ºè¯­å¥ï¼Œåˆ†å·æ˜¯æ–­å¥ç”¨çš„ï¼Œæ¯ä¸€ä¸ªåˆ†å·å°±æ˜¯ä¸€ä¸ªç¨‹åºè¯­å¥ç»“æŸçš„æ ‡å¿—ã€‚<br>çŸ¥ä¹ä¸Šæœ‰ä¸€æ®µæ¯”è¾ƒå¯çˆ±çš„ä»£ç ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p>åº”è¯¥å¾ˆå®¹æ˜“çœ‹çš„çœ‹å‡º<br>ç¬¬ä¸€æ®µè¾“å‡ºçš„æ˜¯<code>1,2,3,4,5</code><br>ç¬¬äºŒæ®µè¾“å‡ºçš„æ˜¯<code>6</code><br>ç¬¬äºŒæ®µforå¾ªç¯åé¢åŠ äº†;åï¼Œforå¾ªç¯åé¢çš„ä»£ç å—å°±å’Œforå¾ªç¯æ²¡æœ‰å…³ç³»äº†ã€‚è€Œforå¾ªç¯çš„ä»£ç ï¼Œå…¨éƒ¨éƒ½æ‰§è¡Œåœ¨äº†ç©ºè¯­å¥;ä¸Šé¢ã€‚<br>æ¥ä¸‹æ¥å†çœ‹ä¸‹ä¸€æ®µä»£ç </p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">4</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></code></pre><p>è¿™æ—¶å€™è¾“å‡ºbçš„æ˜¯<code>undefined</code>ï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¥ä¸ºçš„[<code>1,2,3]</code>ã€‚<br>åŸæ¥åœ¨ä»£ç è§£æçš„æ—¶å€™ï¼Œå˜æˆäº†  </p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">4</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></code></pre><p>å¹¶æ²¡æœ‰é€šè¿‡æ¢è¡Œç¬¦æˆªæ–­ä»£ç ã€‚<br>çœ‹æ¥éšå¤„æ·»åŠ æˆ–è€…åˆ é™¤åˆ†å·è¿˜æ˜¯æœ‰é£é™©çš„ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆæœ‰çš„åœ°æ–¹å¯ä»¥ä¸åŠ ï¼Œæœ‰çš„åœ°æ–¹ä¸åŠ åˆ†å·å´ä¼šæŠ¥é”™å‘¢ï¼Ÿåœ¨æŸ¥è¯¢è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ªåè¯ï¼š<strong>Automatic Semicolon Insertion (ASI è‡ªåŠ¨æ’å…¥åˆ†å·æœºåˆ¶)</strong>ã€‚ä¸‹é¢ä¼šæè¿°è¿™ä¸ªæ¦‚å¿µã€‚</p><h2 id="åˆ†å·çš„æ·»åŠ è§„åˆ™"><a href="#åˆ†å·çš„æ·»åŠ è§„åˆ™" class="headerlink" title="åˆ†å·çš„æ·»åŠ è§„åˆ™"></a>åˆ†å·çš„æ·»åŠ è§„åˆ™</h2><p>é™¤äº†ä»¥ä¸‹çš„è¯­å¥ï¼ŒJavaScriptçš„æ¯ä¸€ä¸ªè¯­å¥éƒ½åº”è¯¥åŠ åˆ†å·çš„ã€‚</p><blockquote><ul><li>å¾ªç¯è¯­å¥: for, while</li><li>åˆ†æ”¯è¯­å¥: if, switch, try</li><li>å‡½æ•°å£°æ˜ (ä¸æ˜¯å‡½æ•°è¡¨è¾¾å¼)</li></ul></blockquote><p>åŸæ¥é™¤äº†è¿™å‡ ä¸ªç‰¹æ®Šçš„è¯­å¥ä¹‹å¤–ï¼Œæ‰€æœ‰çš„è¯­å¥éƒ½åº”è¯¥åŠ åˆ†å·çš„ï¼Œé‚£æˆ‘ä»¬å›¢é˜Ÿçš„è§„åˆ™ä¸å°±é”™äº†å—ğŸ˜±ğŸ˜±ğŸ˜±ï¼Ÿæ†‹æ‰æ€¥ï¼Œæ¥ä¸‹æ¥å°±æ˜¯<code>ASI</code>ç™»åœºäº†ã€‚</p><h2 id="ASI"><a href="#ASI" class="headerlink" title="ASI"></a>ASI</h2><p>è‡ªåŠ¨æ’å…¥åˆ†å·æœºåˆ¶â€¦å™¢ï¼Œé¡¾åæ€ä¹‰ï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯åœ¨ä»£ç è§£æçš„æ—¶å€™ï¼Œè§£æå™¨ä¼šè‡ªåŠ¨æ’å…¥æˆ‘ä»¬å¿˜è®°çš„åˆ†å·å‘€ï¼</p><p><strong>å¹¶ä¸æ˜¯ï¼ï¼ï¼</strong>ï¼ˆå•ªå•ªå•ªçš„æ‰“è„¸å£°å“èµ·ğŸ‘ğŸ‘ğŸ‘ï¼‰</p><p>æŠ½è±¡è¯­æ³•æ ‘ä¸­å¹¶æ²¡æœ‰åˆ†å·è¿™ä¸ªä¸œè¥¿ã€‚æ’å…¥åˆ†å·åªæ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œæ„æ€æ˜¯è§£æå™¨é™¤äº†åˆ†å·ï¼Œè¿˜ä¼šæŠŠæ¢è¡Œç¬¦å½“ä½œæ–­å¥çš„ä¾æ®ï¼Œä»è€Œä¿è¯è¯­å¥è§£æçš„æ­£ç¡®æ€§ï¼Œå¹¶ä¸æ˜¯çœŸçš„å¾€é‡Œæ’ä¸€ä¸ªåˆ†å·ï¼ˆå½“ç„¶äº†ï¼Œä½ æœ¬åœ°å‹ç¼©ä»£ç çš„æ—¶å€™ï¼Œemmmï¼Œåº”è¯¥æ˜¯éœ€è¦çœŸçš„æ’å…¥çš„ï¼‰ã€‚</p><p>ä½†æ˜¯ASIå¹¶ä¸æ˜¯å°†æ‰€æœ‰çš„æ¢è¡Œç¬¦éƒ½è¯†åˆ«æˆåˆ†å·ï¼Œè€Œæ˜¯é€šè¿‡ä»¥ä¸‹è§„åˆ™ã€‚</p><h3 id="ASIçš„æ’å…¥è§„åˆ™"><a href="#ASIçš„æ’å…¥è§„åˆ™" class="headerlink" title="ASIçš„æ’å…¥è§„åˆ™"></a>ASIçš„æ’å…¥è§„åˆ™</h3><p>å¤§å‰æï¼ŒASIçš„çº²é¢†ï¼š</p><p>ä»¥æ¢è¡Œä¸ºåŸºç¡€ã€‚ï¼ˆå°±æ˜¯ä½ è‚¯å®šå¾—æœ‰æ¢è¡Œç¬¦æ‰è¡Œï¼‰</p><p>JSè§£æå™¨æ˜¯å°½é‡æŠŠè¯­å¥åˆå¹¶æˆåŒä¸€è¡Œçš„è§£æçš„ã€‚åªæœ‰ç¬¦åˆASIè§„åˆ™çš„æ—¶å€™ï¼Œæ‰ä¼šåŠ å…¥åˆ†å·è¿›è¡Œæ–­å¥ã€‚</p><h4 id="1ã€æ–°è¡Œå¹¶å…¥å½“å‰è¡Œå°†æ„æˆéæ³•è¯­å¥ï¼Œè‡ªåŠ¨æ’å…¥åˆ†å·ã€‚"><a href="#1ã€æ–°è¡Œå¹¶å…¥å½“å‰è¡Œå°†æ„æˆéæ³•è¯­å¥ï¼Œè‡ªåŠ¨æ’å…¥åˆ†å·ã€‚" class="headerlink" title="1ã€æ–°è¡Œå¹¶å…¥å½“å‰è¡Œå°†æ„æˆéæ³•è¯­å¥ï¼Œè‡ªåŠ¨æ’å…¥åˆ†å·ã€‚"></a>1ã€æ–°è¡Œå¹¶å…¥å½“å‰è¡Œå°†æ„æˆéæ³•è¯­å¥ï¼Œè‡ªåŠ¨æ’å…¥åˆ†å·ã€‚</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>a <span class="token operator">=</span> <span class="token number">1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// è§£æä¸º</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¿™ä¸ªä»£ç å°±æ¸…æ¥šäº†è§£é‡Šäº†çº²é¢†ã€‚<br><strong>å¿…é¡»å­˜åœ¨æ¢è¡Œç¬¦</strong>ã€‚ä½ å†™æˆä¸€è¡Œ<code>if(true) a = 1 console.log(a)</code>ç›´æ¥å°±æŠ¥é”™äº†ã€‚<br><strong>å°½é‡å¹¶ä¸ºä¸€è¡Œ</strong>ã€‚å¹¶æ²¡æœ‰è§£ææˆå¦‚ä¸‹ä»£ç ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å› ä¸ºç¬¬äºŒè¡Œå¹¶å…¥ç¬¬ä¸€è¡Œæ²¡æœ‰æ„æˆéæ³•è¯­å¥ã€‚</p><h4 id="2ã€åœ¨continue-return-break-throwåè‡ªåŠ¨æ’å…¥åˆ†å·ã€‚"><a href="#2ã€åœ¨continue-return-break-throwåè‡ªåŠ¨æ’å…¥åˆ†å·ã€‚" class="headerlink" title="2ã€åœ¨continue, return, break, throwåè‡ªåŠ¨æ’å…¥åˆ†å·ã€‚"></a>2ã€åœ¨continue, return, break, throwåè‡ªåŠ¨æ’å…¥åˆ†å·ã€‚</h4><p>è¿™äº›è¯­å¥åé¢çš„æ¢è¡Œç¬¦ä¼šè‡ªåŠ¨æ’å…¥åˆ†å·çš„ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">return</span><span class="token number">123</span><span class="token comment" spellcheck="true">// è§£æä¸º</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token number">123</span><span class="token punctuation">;</span></code></pre><p>è¿™ç§å†™æ³•å°±returnäº†ä¸ªå¯‚å¯ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨è¿”å›å¤§é‡ä»£ç çš„æ—¶å€™å–œæ¬¢è®©ä½ åœ¨ returnåé¢åŠ ä¸€ä¸ª<code>()</code>åŒ…è£¹ç€ä½ çš„è¿”å›å†…å®¹ã€‚  </p><h4 id="3ã€-ã€â€“åç¼€è¡¨è¾¾å¼ä½œä¸ºæ–°è¡Œçš„å¼€å§‹ï¼Œåœ¨è¡Œé¦–è‡ªåŠ¨æ’å…¥åˆ†å·"><a href="#3ã€-ã€â€“åç¼€è¡¨è¾¾å¼ä½œä¸ºæ–°è¡Œçš„å¼€å§‹ï¼Œåœ¨è¡Œé¦–è‡ªåŠ¨æ’å…¥åˆ†å·" class="headerlink" title="3ã€++ã€â€“åç¼€è¡¨è¾¾å¼ä½œä¸ºæ–°è¡Œçš„å¼€å§‹ï¼Œåœ¨è¡Œé¦–è‡ªåŠ¨æ’å…¥åˆ†å·"></a>3ã€++ã€â€“åç¼€è¡¨è¾¾å¼ä½œä¸ºæ–°è¡Œçš„å¼€å§‹ï¼Œåœ¨è¡Œé¦–è‡ªåŠ¨æ’å…¥åˆ†å·</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span>a<span class="token operator">++</span>b<span class="token comment" spellcheck="true">// è§£ææˆäº†</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span>a<span class="token punctuation">;</span><span class="token operator">++</span>b<span class="token punctuation">;</span></code></pre><p>å¦‚æœä½ æœ¬èº«å°±æƒ³å†™<code>++b</code>é‚£è¿˜å¥½ç‚¹ï¼Œä½†æ˜¯å¦‚æœä½ çš„æœ¬æ„æ˜¯<code>a++</code>å‘¢ã€‚ç»“æœå´æ˜¯bè‡ªå¢äº†ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šçš„ä»£ç è§„åˆ™é‡Œä¸å»ºè®®ä½ ç”¨<code>++,--</code>ï¼Œè€Œæ˜¯ç”¨ <code>+=1,-=1</code>ã€‚</p><h4 id="4ã€å½“å‡ºç°ä¸€ä¸ªä¸å…è®¸çš„è¡Œç»ˆæ­¢ç¬¦æˆ–-æ—¶ï¼Œä¼šåœ¨å…¶ä¹‹å‰æ’å…¥ä¸€ä¸ªåˆ†å·ã€‚"><a href="#4ã€å½“å‡ºç°ä¸€ä¸ªä¸å…è®¸çš„è¡Œç»ˆæ­¢ç¬¦æˆ–-æ—¶ï¼Œä¼šåœ¨å…¶ä¹‹å‰æ’å…¥ä¸€ä¸ªåˆ†å·ã€‚" class="headerlink" title="4ã€å½“å‡ºç°ä¸€ä¸ªä¸å…è®¸çš„è¡Œç»ˆæ­¢ç¬¦æˆ–}æ—¶ï¼Œä¼šåœ¨å…¶ä¹‹å‰æ’å…¥ä¸€ä¸ªåˆ†å·ã€‚"></a>4ã€å½“å‡ºç°ä¸€ä¸ªä¸å…è®¸çš„è¡Œç»ˆæ­¢ç¬¦æˆ–<code>}</code>æ—¶ï¼Œä¼šåœ¨å…¶ä¹‹å‰æ’å…¥ä¸€ä¸ªåˆ†å·ã€‚</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">// è§£ææˆäº†</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><p><strong>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¾—çŸ¥é“ä»€ä¹ˆæƒ…å†µä¸‹ä¸ä¼šè§¦å‘ASIäº†</strong><br>å°±ä¸€å¥<br><strong>æ–°çš„ä¸€è¡Œä»¥(ï¼Œ [ï¼Œ /ï¼Œ +ï¼Œ -ï¼Œ *ï¼Œ %ï¼Œ ,ï¼Œ .å¼€å¤´</strong><br>å› ä¸ºè¿™äº›ç¬¦å·å¼€å¤´çš„è¯ï¼Œæ ¹æ®ä¸Šè¿°çš„ASIçš„ç¬¬ä¸€æ¡è§„åˆ™ï¼Œè¿™ä¸€è¡Œå’Œä¸Šä¸€è¡Œå¹¶æˆä¸€è¡Œçš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šå½¢æˆéæ³•è¯­å¥ã€‚ä¾‹å¦‚[]ä¼šè¢«è¯†åˆ«æˆå±æ€§ã€‚<code>()</code>ä¼šè¢«è¯†åˆ«æˆå‡½æ•°æ‰§è¡Œè¯­å¥ã€‚</p><p>è§£å†³æ–¹æ³•å°±æ˜¯åœ¨æ–°ä¸€è¡Œçš„å¼€å§‹ï¼Œæ‰‹åŠ¨åŠ ä¸€ä¸ªåˆ†å·å³å¯ã€‚</p><h2 id="ASIä¼šä¸ä¼šå½±å“ä»£ç çš„æ•ˆç‡å‘€"><a href="#ASIä¼šä¸ä¼šå½±å“ä»£ç çš„æ•ˆç‡å‘€" class="headerlink" title="ASIä¼šä¸ä¼šå½±å“ä»£ç çš„æ•ˆç‡å‘€"></a>ASIä¼šä¸ä¼šå½±å“ä»£ç çš„æ•ˆç‡å‘€</h2><p>è§£æçš„æ—¶å€™åº”è¯¥ä¼šæœ‰ä¸€ç‚¹ç‚¹ç‚¹ç‚¹ç‚¹ç‚¹çš„å½±å“å§ï¼Œæ‰§è¡Œçš„æ—¶å€™éƒ½ä¸€æ ·ï¼Œæ²¡å•¥å½±å“ã€‚ä½†æ˜¯ç°åœ¨é¡¹ç›®éƒ½æ˜¯æœ¬åœ°æ‰“åŒ…å‹ç¼©å¥½çš„ã€‚æ‰€ä»¥å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸ç”¨è€ƒè™‘è¿™äº›é—®é¢˜ï¼Œè·Ÿç€å›¢é˜Ÿè§„èŒƒèµ°å°±è¡Œäº†ã€‚</p><h2 id="é‚£ä¹ˆåˆ°åº•åº”è¯¥åŠ ä¸åŠ åˆ†å·å‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆåˆ°åº•åº”è¯¥åŠ ä¸åŠ åˆ†å·å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆåˆ°åº•åº”è¯¥åŠ ä¸åŠ åˆ†å·å‘¢ï¼Ÿ"></a>é‚£ä¹ˆåˆ°åº•åº”è¯¥åŠ ä¸åŠ åˆ†å·å‘¢ï¼Ÿ</h2><p>ä¸Šé¢è¯´çš„è¿™ä¹ˆå¤šå…¶å®å’Œä»£ç è§„èŒƒæ²¡æœ‰å…³ç³»ï¼Œè®²çš„æ˜¯ASIæœºåˆ¶ã€‚åŠ ä¸åŠ åˆ†å·ä¸€çœ‹ä¸ªäººä¹ æƒ¯å–œå¥½ï¼ŒäºŒçœ‹å›¢é˜Ÿè¦æ±‚ã€‚è§„èŒƒä¸ŠåŠ ä¸åŠ å¹¶æ²¡æœ‰å¯¹é”™ä¹‹åˆ†ï¼Œä½†æ˜¯ä½ éƒ½è¦å¯¹ASIäº†è§£ã€‚</p><p>æ¥æºï¼š<a href="https://juejin.im/post/6864135607468163079" target="_blank" rel="noopener">æ˜é‡‘</a></p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Webpacké¢è¯•é¢˜</title>
      <link href="/2020/08/19/webpack-1/"/>
      <url>/2020/08/19/webpack-1/</url>
      
        <content type="html"><![CDATA[<h2 id="0-æœ‰å“ªäº›å¸¸è§çš„Loaderï¼Ÿä½ ç”¨è¿‡å“ªäº›Loaderï¼Ÿ"><a href="#0-æœ‰å“ªäº›å¸¸è§çš„Loaderï¼Ÿä½ ç”¨è¿‡å“ªäº›Loaderï¼Ÿ" class="headerlink" title="0.æœ‰å“ªäº›å¸¸è§çš„Loaderï¼Ÿä½ ç”¨è¿‡å“ªäº›Loaderï¼Ÿ"></a>0.æœ‰å“ªäº›å¸¸è§çš„Loaderï¼Ÿä½ ç”¨è¿‡å“ªäº›Loaderï¼Ÿ</h2><blockquote><ul><li>raw-loaderï¼šåŠ è½½æ–‡ä»¶åŸå§‹å†…å®¹ï¼ˆutf-8ï¼‰</li><li>file-loaderï¼šæŠŠæ–‡ä»¶è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨ä»£ç ä¸­é€šè¿‡ç›¸å¯¹ URL å»å¼•ç”¨è¾“å‡ºçš„æ–‡ä»¶ (å¤„ç†å›¾ç‰‡å’Œå­—ä½“)</li><li>url-loaderï¼šä¸ file-loader ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯ç”¨æˆ·å¯ä»¥è®¾ç½®ä¸€ä¸ªé˜ˆå€¼ï¼Œå¤§äºé˜ˆå€¼ä¼šäº¤ç»™ file-loader å¤„ç†ï¼Œå°äºé˜ˆå€¼æ—¶è¿”å›æ–‡ä»¶ base64 å½¢å¼ç¼–ç  (å¤„ç†å›¾ç‰‡å’Œå­—ä½“)</li><li>source-map-loaderï¼šåŠ è½½é¢å¤–çš„ Source Map æ–‡ä»¶ï¼Œä»¥æ–¹ä¾¿æ–­ç‚¹è°ƒè¯•</li><li>svg-inline-loaderï¼šå°†å‹ç¼©åçš„ SVG å†…å®¹æ³¨å…¥ä»£ç ä¸­</li><li>image-loaderï¼šåŠ è½½å¹¶ä¸”å‹ç¼©å›¾ç‰‡æ–‡ä»¶</li><li>json-loader åŠ è½½ JSON æ–‡ä»¶ï¼ˆé»˜è®¤åŒ…å«ï¼‰</li><li>handlebars-loader: å°† Handlebars æ¨¡ç‰ˆç¼–è¯‘æˆå‡½æ•°å¹¶è¿”å›</li><li>babel-loaderï¼šæŠŠ ES6 è½¬æ¢æˆ ES5</li><li>ts-loader: å°† TypeScript è½¬æ¢æˆ JavaScript</li><li>awesome-typescript-loaderï¼šå°† TypeScript è½¬æ¢æˆ JavaScriptï¼Œæ€§èƒ½ä¼˜äº ts-loader</li><li>sass-loaderï¼šå°†SCSS/SASSä»£ç è½¬æ¢æˆCSS</li><li>css-loaderï¼šåŠ è½½ CSSï¼Œæ”¯æŒæ¨¡å—åŒ–ã€å‹ç¼©ã€æ–‡ä»¶å¯¼å…¥ç­‰ç‰¹æ€§</li><li>style-loaderï¼šæŠŠ CSS ä»£ç æ³¨å…¥åˆ° JavaScript ä¸­ï¼Œé€šè¿‡ DOM æ“ä½œå»åŠ è½½ CSS</li><li>postcss-loaderï¼šæ‰©å±• CSS è¯­æ³•ï¼Œä½¿ç”¨ä¸‹ä¸€ä»£ CSSï¼Œå¯ä»¥é…åˆ autoprefixer æ’ä»¶è‡ªåŠ¨è¡¥é½ CSS3 å‰ç¼€</li><li>eslint-loaderï¼šé€šè¿‡ ESLint æ£€æŸ¥ JavaScript ä»£ç </li><li>tslint-loaderï¼šé€šè¿‡ TSLintæ£€æŸ¥ TypeScript ä»£ç </li><li>mocha-loaderï¼šåŠ è½½ Mocha æµ‹è¯•ç”¨ä¾‹çš„ä»£ç </li><li>coverjs-loaderï¼šè®¡ç®—æµ‹è¯•çš„è¦†ç›–ç‡</li><li>vue-loaderï¼šåŠ è½½ Vue.js å•æ–‡ä»¶ç»„ä»¶</li><li>i18n-loader: å›½é™…åŒ–</li><li>cache-loader: å¯ä»¥åœ¨ä¸€äº›æ€§èƒ½å¼€é”€è¾ƒå¤§çš„ Loader ä¹‹å‰æ·»åŠ ï¼Œç›®çš„æ˜¯å°†ç»“æœç¼“å­˜åˆ°ç£ç›˜é‡Œ</li></ul></blockquote><p>æ›´å¤š Loader è¯·å‚è€ƒ<a href="https://webpack.docschina.org/loaders/" target="_blank" rel="noopener">å®˜ç½‘</a></p><h2 id="1-æœ‰å“ªäº›å¸¸è§çš„Pluginï¼Ÿä½ ç”¨è¿‡å“ªäº›Pluginï¼Ÿ"><a href="#1-æœ‰å“ªäº›å¸¸è§çš„Pluginï¼Ÿä½ ç”¨è¿‡å“ªäº›Pluginï¼Ÿ" class="headerlink" title="1.æœ‰å“ªäº›å¸¸è§çš„Pluginï¼Ÿä½ ç”¨è¿‡å“ªäº›Pluginï¼Ÿ"></a>1.æœ‰å“ªäº›å¸¸è§çš„Pluginï¼Ÿä½ ç”¨è¿‡å“ªäº›Pluginï¼Ÿ</h2><blockquote><ul><li>define-pluginï¼šå®šä¹‰ç¯å¢ƒå˜é‡ (Webpack4 ä¹‹åæŒ‡å®š mode ä¼šè‡ªåŠ¨é…ç½®)</li><li>ignore-pluginï¼šå¿½ç•¥éƒ¨åˆ†æ–‡ä»¶</li><li>html-webpack-pluginï¼šç®€åŒ– HTML æ–‡ä»¶åˆ›å»º (ä¾èµ–äº html-loader)</li><li>web-webpack-pluginï¼šå¯æ–¹ä¾¿åœ°ä¸ºå•é¡µåº”ç”¨è¾“å‡º HTMLï¼Œæ¯” html-webpack-plugin å¥½ç”¨</li><li>uglifyjs-webpack-pluginï¼šä¸æ”¯æŒ ES6 å‹ç¼© (Webpack4 ä»¥å‰)</li><li>terser-webpack-plugin: æ”¯æŒå‹ç¼© ES6 (Webpack4)</li><li>webpack-parallel-uglify-plugin: å¤šè¿›ç¨‹æ‰§è¡Œä»£ç å‹ç¼©ï¼Œæå‡æ„å»ºé€Ÿåº¦</li><li>mini-css-extract-plugin: åˆ†ç¦»æ ·å¼æ–‡ä»¶ï¼ŒCSS æå–ä¸ºç‹¬ç«‹æ–‡ä»¶ï¼Œæ”¯æŒæŒ‰éœ€åŠ è½½ (æ›¿ä»£extract-text-webpack-plugin)</li><li>serviceworker-webpack-pluginï¼šä¸ºç½‘é¡µåº”ç”¨å¢åŠ ç¦»çº¿ç¼“å­˜åŠŸèƒ½</li><li>clean-webpack-plugin: ç›®å½•æ¸…ç†</li><li>ModuleConcatenationPlugin: å¼€å¯ Scope Hoisting</li><li>speed-measure-webpack-plugin: å¯ä»¥çœ‹åˆ°æ¯ä¸ª Loader å’Œ Plugin æ‰§è¡Œè€—æ—¶ (æ•´ä¸ªæ‰“åŒ…è€—æ—¶ã€æ¯ä¸ª Plugin å’Œ Loader è€—æ—¶)</li><li>webpack-bundle-analyzer: å¯è§†åŒ– Webpack è¾“å‡ºæ–‡ä»¶çš„ä½“ç§¯ (ä¸šåŠ¡ç»„ä»¶ã€ä¾èµ–ç¬¬ä¸‰æ–¹æ¨¡å—)</li></ul></blockquote><p>æ›´å¤š Plugin è¯·å‚è€ƒ<a href="https://webpack.docschina.org/plugins/" target="_blank" rel="noopener">å®˜ç½‘</a></p><h2 id="2-é‚£ä½ å†è¯´ä¸€è¯´Loaderå’ŒPluginçš„åŒºåˆ«ï¼Ÿ"><a href="#2-é‚£ä½ å†è¯´ä¸€è¯´Loaderå’ŒPluginçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="2.é‚£ä½ å†è¯´ä¸€è¯´Loaderå’ŒPluginçš„åŒºåˆ«ï¼Ÿ"></a>2.é‚£ä½ å†è¯´ä¸€è¯´Loaderå’ŒPluginçš„åŒºåˆ«ï¼Ÿ</h2><p><code>Loader</code> æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¯¥å‡½æ•°ä¸­å¯¹æ¥æ”¶åˆ°çš„å†…å®¹è¿›è¡Œè½¬æ¢ï¼Œè¿”å›è½¬æ¢åçš„ç»“æœã€‚<br>å› ä¸º Webpack åªè®¤è¯† JavaScriptï¼Œæ‰€ä»¥ Loader å°±æˆäº†ç¿»è¯‘å®˜ï¼Œå¯¹å…¶ä»–ç±»å‹çš„èµ„æºè¿›è¡Œè½¬è¯‘çš„é¢„å¤„ç†å·¥ä½œã€‚</p><p><code>Plugin</code> å°±æ˜¯æ’ä»¶ï¼ŒåŸºäºäº‹ä»¶æµæ¡†æ¶ Tapableï¼Œæ’ä»¶å¯ä»¥æ‰©å±• Webpack çš„åŠŸèƒ½ï¼Œåœ¨ Webpack è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼ŒPlugin å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶æœºé€šè¿‡ Webpack æä¾›çš„ API æ”¹å˜è¾“å‡ºç»“æœã€‚</p><p><code>Loader</code> åœ¨ module.rulesä¸­é…ç½®ï¼Œä½œä¸ºæ¨¡å—çš„è§£æè§„åˆ™ï¼Œç±»å‹ä¸ºæ•°ç»„ã€‚æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ª Objectï¼Œå†…éƒ¨åŒ…å«äº† test(ç±»å‹æ–‡ä»¶)ã€loaderã€options (å‚æ•°)ç­‰å±æ€§ã€‚</p><p><code>Plugin</code> åœ¨ plugins ä¸­å•ç‹¬é…ç½®ï¼Œç±»å‹ä¸ºæ•°ç»„ï¼Œæ¯ä¸€é¡¹æ˜¯ä¸€ä¸ª Plugin çš„å®ä¾‹ï¼Œå‚æ•°éƒ½é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ã€‚</p><h2 id="3-Webpackæ„å»ºæµç¨‹ç®€å•è¯´ä¸€ä¸‹"><a href="#3-Webpackæ„å»ºæµç¨‹ç®€å•è¯´ä¸€ä¸‹" class="headerlink" title="3.Webpackæ„å»ºæµç¨‹ç®€å•è¯´ä¸€ä¸‹"></a>3.Webpackæ„å»ºæµç¨‹ç®€å•è¯´ä¸€ä¸‹</h2><hr><p>Webpack çš„è¿è¡Œæµç¨‹æ˜¯ä¸€ä¸ªä¸²è¡Œçš„è¿‡ç¨‹ï¼Œä»å¯åŠ¨åˆ°ç»“æŸä¼šä¾æ¬¡æ‰§è¡Œä»¥ä¸‹æµç¨‹ï¼š</p><ul><li><code>åˆå§‹åŒ–å‚æ•°</code>ï¼šä»é…ç½®æ–‡ä»¶å’Œ Shell è¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°ï¼Œå¾—å‡ºæœ€ç»ˆçš„å‚æ•°</li><li><code>å¼€å§‹ç¼–è¯‘</code>ï¼šç”¨ä¸Šä¸€æ­¥å¾—åˆ°çš„å‚æ•°åˆå§‹åŒ– Compiler å¯¹è±¡ï¼ŒåŠ è½½æ‰€æœ‰é…ç½®çš„æ’ä»¶ï¼Œæ‰§è¡Œå¯¹è±¡çš„ run æ–¹æ³•å¼€å§‹æ‰§è¡Œç¼–è¯‘</li><li><code>ç¡®å®šå…¥å£</code>ï¼šæ ¹æ®é…ç½®ä¸­çš„ entry æ‰¾å‡ºæ‰€æœ‰çš„å…¥å£æ–‡ä»¶</li><li><code>ç¼–è¯‘æ¨¡å—</code>ï¼šä»å…¥å£æ–‡ä»¶å‡ºå‘ï¼Œè°ƒç”¨æ‰€æœ‰é…ç½®çš„ Loader å¯¹æ¨¡å—è¿›è¡Œç¿»è¯‘ï¼Œå†æ‰¾å‡ºè¯¥æ¨¡å—ä¾èµ–çš„æ¨¡å—ï¼Œå†é€’å½’æœ¬æ­¥éª¤ç›´åˆ°æ‰€æœ‰å…¥å£ä¾èµ–çš„æ–‡ä»¶éƒ½ç»è¿‡äº†æœ¬æ­¥éª¤çš„å¤„ç†</li><li><code>å®Œæˆæ¨¡å—ç¼–è¯‘</code>ï¼šåœ¨ç»è¿‡ç¬¬4æ­¥ä½¿ç”¨ Loader ç¿»è¯‘å®Œæ‰€æœ‰æ¨¡å—åï¼Œå¾—åˆ°äº†æ¯ä¸ªæ¨¡å—è¢«ç¿»è¯‘åçš„æœ€ç»ˆå†…å®¹ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»</li><li><code>è¾“å‡ºèµ„æº</code>ï¼šæ ¹æ®å…¥å£å’Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç»„è£…æˆä¸€ä¸ªä¸ªåŒ…å«å¤šä¸ªæ¨¡å—çš„ Chunkï¼Œå†æŠŠæ¯ä¸ª Chunk è½¬æ¢æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶åŠ å…¥åˆ°è¾“å‡ºåˆ—è¡¨ï¼Œè¿™æ­¥æ˜¯å¯ä»¥ä¿®æ”¹è¾“å‡ºå†…å®¹çš„æœ€åæœºä¼š</li><li><code>è¾“å‡ºå®Œæˆ</code>ï¼šåœ¨ç¡®å®šå¥½è¾“å‡ºå†…å®¹åï¼Œæ ¹æ®é…ç½®ç¡®å®šè¾“å‡ºçš„è·¯å¾„å’Œæ–‡ä»¶åï¼ŒæŠŠæ–‡ä»¶å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿ</li></ul><p>åœ¨ä»¥ä¸Šè¿‡ç¨‹ä¸­ï¼Œ<code>Webpack</code> ä¼šåœ¨ç‰¹å®šçš„æ—¶é—´ç‚¹å¹¿æ’­å‡ºç‰¹å®šçš„äº‹ä»¶ï¼Œæ’ä»¶åœ¨ç›‘å¬åˆ°æ„Ÿå…´è¶£çš„äº‹ä»¶åä¼šæ‰§è¡Œç‰¹å®šçš„é€»è¾‘ï¼Œå¹¶ä¸”æ’ä»¶å¯ä»¥è°ƒç”¨ Webpack æä¾›çš„ API æ”¹å˜ Webpack çš„è¿è¡Œç»“æœã€‚</p><p>ç®€å•è¯´</p><ul><li>åˆå§‹åŒ–ï¼šå¯åŠ¨æ„å»ºï¼Œè¯»å–ä¸åˆå¹¶é…ç½®å‚æ•°ï¼ŒåŠ è½½ Pluginï¼Œå®ä¾‹åŒ– Compiler</li><li>ç¼–è¯‘ï¼šä» Entry å‡ºå‘ï¼Œé’ˆå¯¹æ¯ä¸ª Module ä¸²è¡Œè°ƒç”¨å¯¹åº”çš„ Loader å»ç¿»è¯‘æ–‡ä»¶çš„å†…å®¹ï¼Œå†æ‰¾åˆ°è¯¥ Module ä¾èµ–çš„ Moduleï¼Œé€’å½’åœ°è¿›è¡Œç¼–è¯‘å¤„ç†</li><li>è¾“å‡ºï¼šå°†ç¼–è¯‘åçš„ Module ç»„åˆæˆ Chunkï¼Œå°† Chunk è½¬æ¢æˆæ–‡ä»¶ï¼Œè¾“å‡ºåˆ°æ–‡ä»¶ç³»ç»Ÿä¸­</li></ul><p>å¯¹æºç æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç§»æ­¥æˆ‘çš„å¦ä¸€ç¯‡ä¸“æ ä»æºç çª¥æ¢Webpack4.xåŸç†</p><h2 id="4-webpackçš„æ‰“åŒ…è¿‡ç¨‹å¤§æ¦‚æµç¨‹"><a href="#4-webpackçš„æ‰“åŒ…è¿‡ç¨‹å¤§æ¦‚æµç¨‹" class="headerlink" title="4.webpackçš„æ‰“åŒ…è¿‡ç¨‹å¤§æ¦‚æµç¨‹"></a>4.webpackçš„æ‰“åŒ…è¿‡ç¨‹å¤§æ¦‚æµç¨‹</h2><blockquote><ul><li>åˆå¹¶<code>webpack.config.js</code>å’Œå‘½ä»¤è¡Œä¼ é€’çš„å‚æ•°ï¼Œå½¢æˆæœ€ç»ˆçš„é…ç½®</li><li>è§£æé…ç½®ï¼Œå¾—åˆ°<code>entry</code>å…¥å£</li><li>è¯»å–å…¥å£æ–‡ä»¶å†…å®¹ï¼Œé€šè¿‡<code>@babel/parse</code>å°†å…¥å£å†…å®¹ï¼ˆcodeï¼‰è½¬æ¢æˆ<code>ast</code></li><li>é€šè¿‡<code>@babel/traverse</code>éå†<code>ast</code>å¾—åˆ°æ¨¡å—çš„å„ä¸ªä¾èµ–</li><li>é€šè¿‡<code>@babel/core</code>ï¼ˆå®é™…çš„è½¬æ¢å·¥ä½œæ˜¯ç”±<code>@babel/preset-env</code>æ¥å®Œæˆçš„ï¼‰å°†<code>ast</code>è½¬æ¢æˆ<code>es5 code</code></li><li>é€šè¿‡å¾ªç¯ä¼ªé€’å½’çš„æ–¹å¼æ‹¿åˆ°æ‰€æœ‰æ¨¡å—çš„æ‰€æœ‰ä¾èµ–å¹¶éƒ½è½¬æ¢æˆ<code>es5</code></li></ul></blockquote><h2 id="5-source-mapæ˜¯ä»€ä¹ˆï¼Ÿç”Ÿäº§ç¯å¢ƒæ€ä¹ˆç”¨ï¼Ÿ"><a href="#5-source-mapæ˜¯ä»€ä¹ˆï¼Ÿç”Ÿäº§ç¯å¢ƒæ€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="5.source mapæ˜¯ä»€ä¹ˆï¼Ÿç”Ÿäº§ç¯å¢ƒæ€ä¹ˆç”¨ï¼Ÿ"></a>5.source mapæ˜¯ä»€ä¹ˆï¼Ÿç”Ÿäº§ç¯å¢ƒæ€ä¹ˆç”¨ï¼Ÿ</h2><p><code>source map</code> æ˜¯å°†ç¼–è¯‘ã€æ‰“åŒ…ã€å‹ç¼©åçš„ä»£ç æ˜ å°„å›æºä»£ç çš„è¿‡ç¨‹ã€‚æ‰“åŒ…å‹ç¼©åçš„ä»£ç ä¸å…·å¤‡è‰¯å¥½çš„å¯è¯»æ€§ï¼Œæƒ³è¦è°ƒè¯•æºç å°±éœ€è¦ soucre mapã€‚<br>mapæ–‡ä»¶åªè¦ä¸æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œæµè§ˆå™¨æ˜¯ä¸ä¼šåŠ è½½çš„ã€‚<br>çº¿ä¸Šç¯å¢ƒä¸€èˆ¬æœ‰ä¸‰ç§å¤„ç†æ–¹æ¡ˆï¼š</p><ul><li><code>hidden-source-map</code>ï¼šå€ŸåŠ©ç¬¬ä¸‰æ–¹é”™è¯¯ç›‘æ§å¹³å° Sentry ä½¿ç”¨</li><li><code>nosources-source-map</code>ï¼šåªä¼šæ˜¾ç¤ºå…·ä½“è¡Œæ•°ä»¥åŠæŸ¥çœ‹æºä»£ç çš„é”™è¯¯æ ˆã€‚å®‰å…¨æ€§æ¯” sourcemap é«˜</li><li><code>sourcemap</code>ï¼šé€šè¿‡ nginx è®¾ç½®å°† .map æ–‡ä»¶åªå¯¹ç™½åå•å¼€æ”¾(å…¬å¸å†…ç½‘)</li></ul><p>æ³¨æ„ï¼šé¿å…åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨ inline- å’Œ eval-ï¼Œå› ä¸ºå®ƒä»¬ä¼šå¢åŠ  bundle ä½“ç§¯å¤§å°ï¼Œå¹¶é™ä½æ•´ä½“æ€§èƒ½ã€‚</p><h2 id="6-æ¨¡å—æ‰“åŒ…åŸç†çŸ¥é“å—ï¼Ÿ"><a href="#6-æ¨¡å—æ‰“åŒ…åŸç†çŸ¥é“å—ï¼Ÿ" class="headerlink" title="6.æ¨¡å—æ‰“åŒ…åŸç†çŸ¥é“å—ï¼Ÿ"></a>6.æ¨¡å—æ‰“åŒ…åŸç†çŸ¥é“å—ï¼Ÿ</h2><p>Webpack å®é™…ä¸Šä¸ºæ¯ä¸ªæ¨¡å—åˆ›é€ äº†ä¸€ä¸ªå¯ä»¥å¯¼å‡ºå’Œå¯¼å…¥çš„ç¯å¢ƒï¼Œæœ¬è´¨ä¸Šå¹¶æ²¡æœ‰ä¿®æ”¹<br>ä»£ç çš„æ‰§è¡Œé€»è¾‘ï¼Œä»£ç æ‰§è¡Œé¡ºåºä¸æ¨¡å—åŠ è½½é¡ºåºä¹Ÿå®Œå…¨ä¸€è‡´ã€‚</p><h2 id="7-æ–‡ä»¶ç›‘å¬åŸç†å‘¢ï¼Ÿ"><a href="#7-æ–‡ä»¶ç›‘å¬åŸç†å‘¢ï¼Ÿ" class="headerlink" title="7.æ–‡ä»¶ç›‘å¬åŸç†å‘¢ï¼Ÿ"></a>7.æ–‡ä»¶ç›‘å¬åŸç†å‘¢ï¼Ÿ</h2><p>åœ¨å‘ç°æºç å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè‡ªåŠ¨é‡æ–°æ„å»ºå‡ºæ–°çš„è¾“å‡ºæ–‡ä»¶ã€‚<br>Webpackå¼€å¯ç›‘å¬æ¨¡å¼ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š</p><p>å¯åŠ¨ webpack å‘½ä»¤æ—¶ï¼Œå¸¦ä¸Š â€“watch å‚æ•°åœ¨é…ç½® webpack.config.js ä¸­è®¾ç½® watch:true<br>ç¼ºç‚¹ï¼šæ¯æ¬¡éœ€è¦æ‰‹åŠ¨åˆ·æ–°æµè§ˆå™¨<br>åŸç†ï¼šè½®è¯¢åˆ¤æ–­æ–‡ä»¶çš„æœ€åç¼–è¾‘æ—¶é—´æ˜¯å¦å˜åŒ–ï¼Œå¦‚æœæŸä¸ªæ–‡ä»¶å‘ç”Ÿäº†å˜åŒ–ï¼Œå¹¶ä¸ä¼šç«‹åˆ»å‘Šè¯‰ç›‘å¬è€…ï¼Œè€Œæ˜¯å…ˆç¼“å­˜èµ·æ¥ï¼Œç­‰ aggregateTimeout åå†æ‰§è¡Œã€‚</p><pre class=" language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token keyword">export</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// é»˜è®¤false,ä¹Ÿå°±æ˜¯ä¸å¼€å¯    </span>    watch<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">// åªæœ‰å¼€å¯ç›‘å¬æ¨¡å¼æ—¶ï¼ŒwatchOptionsæ‰æœ‰æ„ä¹‰   </span>    watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// é»˜è®¤ä¸ºç©ºï¼Œä¸ç›‘å¬çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼Œæ”¯æŒæ­£åˆ™åŒ¹é…        </span>        ignored<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>        <span class="token comment" spellcheck="true">// ç›‘å¬åˆ°å˜åŒ–å‘ç”Ÿåä¼šç­‰300mså†å»æ‰§è¡Œï¼Œé»˜è®¤300ms       </span>        aggregateTimeout<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span>        <span class="token comment" spellcheck="true">// åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å‘ç”Ÿå˜åŒ–æ˜¯é€šè¿‡ä¸åœè¯¢é—®ç³»ç»ŸæŒ‡å®šæ–‡ä»¶æœ‰æ²¡æœ‰å˜åŒ–å®ç°çš„ï¼Œé»˜è®¤æ¯ç§’é—®1000æ¬¡        </span>        poll<span class="token punctuation">:</span> <span class="token number">1000</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="8-è¯´ä¸€ä¸‹-Webpack-çš„çƒ­æ›´æ–°åŸç†å§"><a href="#8-è¯´ä¸€ä¸‹-Webpack-çš„çƒ­æ›´æ–°åŸç†å§" class="headerlink" title="8.è¯´ä¸€ä¸‹ Webpack çš„çƒ­æ›´æ–°åŸç†å§"></a>8.è¯´ä¸€ä¸‹ Webpack çš„çƒ­æ›´æ–°åŸç†å§</h2><p>Webpack çš„çƒ­æ›´æ–°åˆç§°çƒ­æ›¿æ¢ï¼ˆHot Module Replacementï¼‰ï¼Œç¼©å†™ä¸º HMRã€‚ è¿™ä¸ªæœºåˆ¶å¯ä»¥åšåˆ°ä¸ç”¨åˆ·æ–°æµè§ˆå™¨è€Œå°†æ–°å˜æ›´çš„æ¨¡å—æ›¿æ¢æ‰æ—§çš„æ¨¡å—ã€‚<br>HMRçš„æ ¸å¿ƒå°±æ˜¯å®¢æˆ·ç«¯ä»æœåŠ¡ç«¯æ‹‰å»æ›´æ–°åçš„æ–‡ä»¶ï¼Œå‡†ç¡®çš„è¯´æ˜¯ chunk diff (chunk éœ€è¦æ›´æ–°çš„éƒ¨åˆ†)ï¼Œå®é™…ä¸Š WDS ä¸æµè§ˆå™¨ä¹‹é—´ç»´æŠ¤äº†ä¸€ä¸ª Websocketï¼Œå½“æœ¬åœ°èµ„æºå‘ç”Ÿå˜åŒ–æ—¶ï¼ŒWDS ä¼šå‘æµè§ˆå™¨æ¨é€æ›´æ–°ï¼Œå¹¶å¸¦ä¸Šæ„å»ºæ—¶çš„ hashï¼Œè®©å®¢æˆ·ç«¯ä¸ä¸Šä¸€æ¬¡èµ„æºè¿›è¡Œå¯¹æ¯”ã€‚å®¢æˆ·ç«¯å¯¹æ¯”å‡ºå·®å¼‚åä¼šå‘ WDS å‘èµ· Ajax è¯·æ±‚æ¥è·å–æ›´æ”¹å†…å®¹(æ–‡ä»¶åˆ—è¡¨ã€hash)ï¼Œè¿™æ ·å®¢æˆ·ç«¯å°±å¯ä»¥å†å€ŸåŠ©è¿™äº›ä¿¡æ¯ç»§ç»­å‘ WDS å‘èµ· jsonp è¯·æ±‚è·å–è¯¥chunkçš„å¢é‡æ›´æ–°ã€‚<br>åç»­çš„éƒ¨åˆ†(æ‹¿åˆ°å¢é‡æ›´æ–°ä¹‹åå¦‚ä½•å¤„ç†ï¼Ÿå“ªäº›çŠ¶æ€è¯¥ä¿ç•™ï¼Ÿå“ªäº›åˆéœ€è¦æ›´æ–°ï¼Ÿ)ç”± HotModulePlugin æ¥å®Œæˆï¼Œæä¾›äº†ç›¸å…³ API ä»¥ä¾›å¼€å‘è€…é’ˆå¯¹è‡ªèº«åœºæ™¯è¿›è¡Œå¤„ç†ï¼Œåƒreact-hot-loader å’Œ vue-loader éƒ½æ˜¯å€ŸåŠ©è¿™äº› API å®ç° HMRã€‚<br>ç»†èŠ‚è¯·å‚è€ƒWebpack HMR åŸç†è§£æ</p><h2 id="9-å¦‚ä½•å¯¹bundleä½“ç§¯è¿›è¡Œç›‘æ§å’Œåˆ†æï¼Ÿ"><a href="#9-å¦‚ä½•å¯¹bundleä½“ç§¯è¿›è¡Œç›‘æ§å’Œåˆ†æï¼Ÿ" class="headerlink" title="9.å¦‚ä½•å¯¹bundleä½“ç§¯è¿›è¡Œç›‘æ§å’Œåˆ†æï¼Ÿ"></a>9.å¦‚ä½•å¯¹bundleä½“ç§¯è¿›è¡Œç›‘æ§å’Œåˆ†æï¼Ÿ</h2><p>VSCode ä¸­æœ‰ä¸€ä¸ªæ’ä»¶ Import Cost å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¯¹å¼•å…¥æ¨¡å—çš„å¤§å°è¿›è¡Œå®æ—¶ç›‘æµ‹ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ webpack-bundle-analyzer ç”Ÿæˆ bundle çš„æ¨¡å—ç»„æˆå›¾ï¼Œæ˜¾ç¤ºæ‰€å ä½“ç§¯ã€‚<br>bundlesize å·¥å…·åŒ…å¯ä»¥è¿›è¡Œè‡ªåŠ¨åŒ–èµ„æºä½“ç§¯ç›‘æ§ã€‚</p><h2 id="10-æ–‡ä»¶æŒ‡çº¹æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆç”¨ï¼Ÿ"><a href="#10-æ–‡ä»¶æŒ‡çº¹æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="10.æ–‡ä»¶æŒ‡çº¹æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆç”¨ï¼Ÿ"></a>10.æ–‡ä»¶æŒ‡çº¹æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆç”¨ï¼Ÿ</h2><p>æ–‡ä»¶æŒ‡çº¹æ˜¯æ‰“åŒ…åè¾“å‡ºçš„æ–‡ä»¶åçš„åç¼€ã€‚</p><ul><li>Hashï¼šå’Œæ•´ä¸ªé¡¹ç›®çš„æ„å»ºç›¸å…³ï¼Œåªè¦é¡¹ç›®æ–‡ä»¶æœ‰ä¿®æ”¹ï¼Œæ•´ä¸ªé¡¹ç›®æ„å»ºçš„ hash å€¼å°±ä¼šæ›´æ”¹</li><li>Chunkhashï¼šå’Œ Webpack æ‰“åŒ…çš„ chunk æœ‰å…³ï¼Œä¸åŒçš„ entry ä¼šç”Ÿå‡ºä¸åŒçš„ chunkhash</li><li>Contenthashï¼šæ ¹æ®æ–‡ä»¶å†…å®¹æ¥å®šä¹‰ hashï¼Œæ–‡ä»¶å†…å®¹ä¸å˜ï¼Œåˆ™ contenthash ä¸å˜</li></ul><h3 id="JSçš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®"><a href="#JSçš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®" class="headerlink" title="JSçš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®"></a>JSçš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®</h3><p>è®¾ç½® output çš„ filenameï¼Œç”¨ chunkhashã€‚</p><pre class=" language-js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>        entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>                app<span class="token punctuation">:</span> <span class="token string">'./scr/app.js'</span><span class="token punctuation">,</span>                search<span class="token punctuation">:</span> <span class="token string">'./src/search.js'</span>       <span class="token punctuation">}</span><span class="token punctuation">,</span>        output<span class="token punctuation">:</span> <span class="token punctuation">{</span>                filename<span class="token punctuation">:</span> <span class="token string">'[name][chunkhash:8].js'</span><span class="token punctuation">,</span>               path<span class="token punctuation">:</span>__dirname <span class="token operator">+</span> <span class="token string">'/dist'</span>       <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="CSSçš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®"><a href="#CSSçš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®" class="headerlink" title="CSSçš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®"></a>CSSçš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®</h3><p>è®¾ç½® MiniCssExtractPlugin çš„ filenameï¼Œä½¿ç”¨ contenthashã€‚</p><pre class=" language-js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>        entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>                app<span class="token punctuation">:</span> <span class="token string">'./scr/app.js'</span><span class="token punctuation">,</span>                search<span class="token punctuation">:</span> <span class="token string">'./src/search.js'</span>       <span class="token punctuation">}</span><span class="token punctuation">,</span>       output<span class="token punctuation">:</span> <span class="token punctuation">{</span>                filename<span class="token punctuation">:</span> <span class="token string">'[name][chunkhash:8].js'</span><span class="token punctuation">,</span>              path<span class="token punctuation">:</span>__dirname <span class="token operator">+</span> <span class="token string">'/dist'</span>     <span class="token punctuation">}</span><span class="token punctuation">,</span>       plugins<span class="token punctuation">:</span><span class="token punctuation">[</span>               <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                        filename<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`[name][contenthash:8].css`</span></span>             <span class="token punctuation">}</span><span class="token punctuation">)</span>       <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><h3 id="å›¾ç‰‡çš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®"><a href="#å›¾ç‰‡çš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®" class="headerlink" title="å›¾ç‰‡çš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®"></a>å›¾ç‰‡çš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®</h3><p>è®¾ç½®file-loaderçš„nameï¼Œä½¿ç”¨hashã€‚<br>å ä½ç¬¦åç§°åŠå«ä¹‰</p><ul><li>ext     èµ„æºåç¼€å</li><li>name    æ–‡ä»¶åç§°</li><li>path    æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„</li><li>folder  æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹</li><li>contenthash   æ–‡ä»¶çš„å†…å®¹</li><li>hashï¼Œé»˜è®¤æ˜¯md5ç”Ÿæˆhash         æ–‡ä»¶å†…å®¹çš„hashï¼Œé»˜è®¤æ˜¯md5ç”Ÿæˆ</li><li>emoji        ä¸€ä¸ªéšæœºçš„æŒ‡ä»£æ–‡ä»¶å†…å®¹çš„emoj<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  entry<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>      filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>      path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>      rules<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>          test<span class="token punctuation">:</span> <span class="token regex">/\.(png|svg|jpg|gif)$/</span><span class="token punctuation">,</span>          use<span class="token punctuation">:</span> <span class="token punctuation">[</span>              <span class="token punctuation">{</span>                  loader<span class="token punctuation">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span>                  options<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'img/[name][hash:8].[ext]'</span> <span class="token punctuation">}</span>              <span class="token punctuation">}</span>          <span class="token punctuation">]</span>      <span class="token punctuation">}</span><span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="11-åœ¨å®é™…å·¥ç¨‹ä¸­ï¼Œé…ç½®æ–‡ä»¶ä¸Šç™¾è¡Œä¹ƒæ˜¯å¸¸äº‹ï¼Œå¦‚ä½•ä¿è¯å„ä¸ªloaderæŒ‰ç…§é¢„æƒ³æ–¹å¼å·¥ä½œï¼Ÿ"><a href="#11-åœ¨å®é™…å·¥ç¨‹ä¸­ï¼Œé…ç½®æ–‡ä»¶ä¸Šç™¾è¡Œä¹ƒæ˜¯å¸¸äº‹ï¼Œå¦‚ä½•ä¿è¯å„ä¸ªloaderæŒ‰ç…§é¢„æƒ³æ–¹å¼å·¥ä½œï¼Ÿ" class="headerlink" title="11.åœ¨å®é™…å·¥ç¨‹ä¸­ï¼Œé…ç½®æ–‡ä»¶ä¸Šç™¾è¡Œä¹ƒæ˜¯å¸¸äº‹ï¼Œå¦‚ä½•ä¿è¯å„ä¸ªloaderæŒ‰ç…§é¢„æƒ³æ–¹å¼å·¥ä½œï¼Ÿ"></a>11.åœ¨å®é™…å·¥ç¨‹ä¸­ï¼Œé…ç½®æ–‡ä»¶ä¸Šç™¾è¡Œä¹ƒæ˜¯å¸¸äº‹ï¼Œå¦‚ä½•ä¿è¯å„ä¸ªloaderæŒ‰ç…§é¢„æƒ³æ–¹å¼å·¥ä½œï¼Ÿ</h2>å¯ä»¥ä½¿ç”¨ enforce å¼ºåˆ¶æ‰§è¡Œ loader çš„ä½œç”¨é¡ºåºï¼Œpre ä»£è¡¨åœ¨æ‰€æœ‰æ­£å¸¸ loader ä¹‹å‰æ‰§è¡Œï¼Œpost æ˜¯æ‰€æœ‰ loader ä¹‹åæ‰§è¡Œã€‚(inline å®˜æ–¹ä¸æ¨èä½¿ç”¨)</li></ul><h2 id="12-æ˜¯å¦å†™è¿‡Loaderï¼Ÿç®€å•æè¿°ä¸€ä¸‹ç¼–å†™loaderçš„æ€è·¯ï¼Ÿ"><a href="#12-æ˜¯å¦å†™è¿‡Loaderï¼Ÿç®€å•æè¿°ä¸€ä¸‹ç¼–å†™loaderçš„æ€è·¯ï¼Ÿ" class="headerlink" title="12.æ˜¯å¦å†™è¿‡Loaderï¼Ÿç®€å•æè¿°ä¸€ä¸‹ç¼–å†™loaderçš„æ€è·¯ï¼Ÿ"></a>12.æ˜¯å¦å†™è¿‡Loaderï¼Ÿç®€å•æè¿°ä¸€ä¸‹ç¼–å†™loaderçš„æ€è·¯ï¼Ÿ</h2><p>Loader æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œæ‰€ä»¥å¼€å‘ä¸Šéœ€è¦ä¸¥æ ¼éµå¾ªâ€œå•ä¸€èŒè´£â€ï¼Œæ¯ä¸ª Loader åªè´Ÿè´£è‡ªå·±éœ€è¦è´Ÿè´£çš„äº‹æƒ…ã€‚</p><p>Loaderçš„API å¯ä»¥å»<a href="https://www.webpackjs.com/loaders/" target="_blank" rel="noopener">å®˜ç½‘æŸ¥é˜…</a></p><ul><li><p>Loader è¿è¡Œåœ¨ Node.js ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ä»»æ„ Node.js è‡ªå¸¦çš„ API æˆ–è€…å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—è¿›è¡Œè°ƒç”¨</p></li><li><p>Webpack ä¼ ç»™ Loader çš„åŸå†…å®¹éƒ½æ˜¯ UTF-8 æ ¼å¼ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå½“æŸäº›åœºæ™¯ä¸‹ Loader å¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶æ—¶ï¼Œéœ€è¦é€šè¿‡ exports.raw = true å‘Šè¯‰ Webpack è¯¥ Loader æ˜¯å¦éœ€è¦äºŒè¿›åˆ¶æ•°æ®</p></li><li><p>å°½å¯èƒ½çš„å¼‚æ­¥åŒ– Loaderï¼Œå¦‚æœè®¡ç®—é‡å¾ˆå°ï¼ŒåŒæ­¥ä¹Ÿå¯ä»¥</p></li><li><p>Loader æ˜¯æ— çŠ¶æ€çš„ï¼Œæˆ‘ä»¬ä¸åº”è¯¥åœ¨ Loader ä¸­ä¿ç•™çŠ¶æ€</p></li><li><p>ä½¿ç”¨ loader-utils å’Œ schema-utils ä¸ºæˆ‘ä»¬æä¾›çš„å®ç”¨å·¥å…·</p></li><li><p>åŠ è½½æœ¬åœ° Loader æ–¹æ³•</p><p>  <code>Npm</code> å’Œ<code>linkResolveLoader</code></p></li></ul><h2 id="13-æ˜¯å¦å†™è¿‡Pluginï¼Ÿç®€å•æè¿°ä¸€ä¸‹ç¼–å†™Pluginçš„æ€è·¯ï¼Ÿ"><a href="#13-æ˜¯å¦å†™è¿‡Pluginï¼Ÿç®€å•æè¿°ä¸€ä¸‹ç¼–å†™Pluginçš„æ€è·¯ï¼Ÿ" class="headerlink" title="13.æ˜¯å¦å†™è¿‡Pluginï¼Ÿç®€å•æè¿°ä¸€ä¸‹ç¼–å†™Pluginçš„æ€è·¯ï¼Ÿ"></a>13.æ˜¯å¦å†™è¿‡Pluginï¼Ÿç®€å•æè¿°ä¸€ä¸‹ç¼–å†™Pluginçš„æ€è·¯ï¼Ÿ</h2><p>webpackåœ¨è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼ŒPlugin å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œåœ¨ç‰¹å®šçš„é˜¶æ®µé’©å…¥æƒ³è¦æ·»åŠ çš„è‡ªå®šä¹‰åŠŸèƒ½ã€‚Webpack çš„ Tapable äº‹ä»¶æµæœºåˆ¶ä¿è¯äº†æ’ä»¶çš„æœ‰åºæ€§ï¼Œä½¿å¾—æ•´ä¸ªç³»ç»Ÿæ‰©å±•æ€§è‰¯å¥½ã€‚</p><p>Pluginçš„API å¯ä»¥å»<a href="https://www.webpackjs.com/api/plugins/" target="_blank" rel="noopener">å®˜ç½‘æŸ¥é˜…</a></p><ul><li><p>compiler æš´éœ²äº†å’Œ Webpack æ•´ä¸ªç”Ÿå‘½å‘¨æœŸç›¸å…³çš„é’©å­</p></li><li><p>compilation æš´éœ²äº†ä¸æ¨¡å—å’Œä¾èµ–æœ‰å…³çš„ç²’åº¦æ›´å°çš„äº‹ä»¶é’©å­</p></li><li><p>æ’ä»¶éœ€è¦åœ¨å…¶åŸå‹ä¸Šç»‘å®šapplyæ–¹æ³•ï¼Œæ‰èƒ½è®¿é—® compiler å®ä¾‹</p></li><li><p>ä¼ ç»™æ¯ä¸ªæ’ä»¶çš„ compiler å’Œ compilationå¯¹è±¡éƒ½æ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼Œè‹¥åœ¨ä¸€ä¸ªæ’ä»¶ä¸­ä¿®æ”¹äº†å®ƒä»¬èº«ä¸Šçš„å±æ€§ï¼Œä¼šå½±å“åé¢çš„æ’ä»¶</p></li><li><p>æ‰¾å‡ºåˆé€‚çš„äº‹ä»¶ç‚¹å»å®Œæˆæƒ³è¦çš„åŠŸèƒ½</p><ul><li>emit äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå¯ä»¥è¯»å–åˆ°æœ€ç»ˆè¾“å‡ºçš„èµ„æºã€ä»£ç å—ã€æ¨¡å—åŠå…¶ä¾èµ–ï¼Œå¹¶è¿›è¡Œä¿®æ”¹(emit äº‹ä»¶æ˜¯ä¿®æ”¹ Webpack è¾“å‡ºèµ„æºçš„æœ€åæ—¶æœº)</li><li>watch-run å½“ä¾èµ–çš„æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ä¼šè§¦å‘</li></ul></li><li><p>å¼‚æ­¥çš„äº‹ä»¶éœ€è¦åœ¨æ’ä»¶å¤„ç†å®Œä»»åŠ¡æ—¶è°ƒç”¨å›è°ƒå‡½æ•°é€šçŸ¥ Webpack è¿›å…¥ä¸‹ä¸€ä¸ªæµç¨‹ï¼Œä¸ç„¶ä¼šå¡ä½</p></li></ul><h2 id="14-ä½¿ç”¨webpackå¼€å‘æ—¶ï¼Œä½ ç”¨è¿‡å“ªäº›å¯ä»¥æé«˜æ•ˆç‡çš„æ’ä»¶ï¼Ÿ"><a href="#14-ä½¿ç”¨webpackå¼€å‘æ—¶ï¼Œä½ ç”¨è¿‡å“ªäº›å¯ä»¥æé«˜æ•ˆç‡çš„æ’ä»¶ï¼Ÿ" class="headerlink" title="14.ä½¿ç”¨webpackå¼€å‘æ—¶ï¼Œä½ ç”¨è¿‡å“ªäº›å¯ä»¥æé«˜æ•ˆç‡çš„æ’ä»¶ï¼Ÿ"></a>14.ä½¿ç”¨webpackå¼€å‘æ—¶ï¼Œä½ ç”¨è¿‡å“ªäº›å¯ä»¥æé«˜æ•ˆç‡çš„æ’ä»¶ï¼Ÿ</h2><ul><li><code>webpack-dashboard</code>ï¼šå¯ä»¥æ›´å‹å¥½çš„å±•ç¤ºç›¸å…³æ‰“åŒ…ä¿¡æ¯ã€‚</li><li><code>webpack-merge</code>ï¼šæå–å…¬å…±é…ç½®ï¼Œå‡å°‘é‡å¤é…ç½®ä»£ç </li><li><code>speed-measure-webpack-plugin</code>ï¼šç®€ç§° SMPï¼Œåˆ†æå‡º Webpack æ‰“åŒ…è¿‡ç¨‹ä¸­ Loader å’Œ Plugin çš„è€—æ—¶ï¼Œæœ‰åŠ©äºæ‰¾åˆ°æ„å»ºè¿‡ç¨‹ä¸­çš„æ€§èƒ½ç“¶é¢ˆã€‚</li><li><code>size-plugin</code>ï¼šç›‘æ§èµ„æºä½“ç§¯å˜åŒ–ï¼Œå°½æ—©å‘ç°é—®é¢˜</li><li><code>HotModuleReplacementPlugin</code>ï¼šæ¨¡å—çƒ­æ›¿æ¢</li></ul><h2 id="15-BabelåŸç†å§"><a href="#15-BabelåŸç†å§" class="headerlink" title="15.BabelåŸç†å§"></a>15.BabelåŸç†å§</h2><p>å¤§å¤šæ•°JavaScript Parseréµå¾ª estree è§„èŒƒï¼ŒBabel æœ€åˆåŸºäº acorn é¡¹ç›®(è½»é‡çº§ç°ä»£ JavaScript è§£æå™¨) Babelå¤§æ¦‚åˆ†ä¸ºä¸‰å¤§éƒ¨åˆ†ï¼š</p><ul><li><p>è§£æï¼šå°†ä»£ç è½¬æ¢æˆ AST</p><ul><li>è¯æ³•åˆ†æï¼šå°†ä»£ç (å­—ç¬¦ä¸²)åˆ†å‰²ä¸ºtokenæµï¼Œå³è¯­æ³•å•å…ƒæˆçš„æ•°ç»„</li><li>è¯­æ³•åˆ†æï¼šåˆ†ætokenæµ(ä¸Šé¢ç”Ÿæˆçš„æ•°ç»„)å¹¶ç”Ÿæˆ AST</li></ul></li></ul><ul><li><p>è½¬æ¢ï¼šè®¿é—® AST çš„èŠ‚ç‚¹è¿›è¡Œå˜æ¢æ“ä½œç”Ÿäº§æ–°çš„ AST</p><ul><li><a href="https://github.com/NervJS/taro/blob/master/packages/taro-transformer-wx/src/index.ts#L15" target="_blank" rel="noopener">Taro</a>å°±æ˜¯åˆ©ç”¨ babel å®Œæˆçš„å°ç¨‹åºè¯­æ³•è½¬æ¢</li></ul></li><li><p>ç”Ÿæˆï¼šä»¥æ–°çš„ AST ä¸ºåŸºç¡€ç”Ÿæˆä»£ç </p></li></ul><p>æƒ³äº†è§£å¦‚ä½•ä¸€æ­¥ä¸€æ­¥å®ç°ä¸€ä¸ªç¼–è¯‘å™¨çš„åŒå­¦å¯ä»¥ç§»æ­¥ Babel å®˜ç½‘æ›¾ç»æ¨èçš„å¼€æºé¡¹ç›® <a href="https://github.com/jamiebuilds/the-super-tiny-compiler" target="_blank" rel="noopener">the-super-tiny-compiler</a></p><p>ä½œè€…ï¼šç«¥æ¬§å·´<br>é“¾æ¥ï¼š<a href="https://juejin.cn/post/6844904094281236487" target="_blank" rel="noopener">https://juejin.cn/post/6844904094281236487</a><br>æ¥æºï¼šæ˜é‡‘<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br>å‚è€ƒ</p><p>æ·±å…¥æµ…å‡º Webpack<br>Webpack å®æˆ˜<br>ç©è½¬ Webpack</p><p>ä½œè€…ï¼šç«¥æ¬§å·´<br>é“¾æ¥ï¼š<a href="https://juejin.im/post/6844904094281236487" target="_blank" rel="noopener">https://juejin.im/post/6844904094281236487</a><br>æ¥æºï¼šæ˜é‡‘<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue å¼ºåˆ¶åˆ·æ–°ç»„ä»¶</title>
      <link href="/2020/08/14/vue-1/"/>
      <url>/2020/08/14/vue-1/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨vueè¿›è¡Œå¼€å‘æ—¶ï¼Œå¦‚æœè¦åˆ·æ–°å½“å‰è·¯ç”±ï¼Œåˆ™è°ƒç”¨router.go(0)æ–¹æ³•å³å¯ã€‚ä½†æ˜¯æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½è¦æ±‚ä»…ä»…åˆ·æ–°æŸä¸ªç»„ä»¶ï¼Œè€Œä¸æ˜¯è·¯ç”±ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><h3 id="1-ä½¿ç”¨this-forceUpdateå¼ºåˆ¶é‡æ–°æ¸²æŸ“"><a href="#1-ä½¿ç”¨this-forceUpdateå¼ºåˆ¶é‡æ–°æ¸²æŸ“" class="headerlink" title="1.ä½¿ç”¨this.$forceUpdateå¼ºåˆ¶é‡æ–°æ¸²æŸ“"></a>1.ä½¿ç”¨this.$forceUpdateå¼ºåˆ¶é‡æ–°æ¸²æŸ“</h3><p>å¦‚æœè¦åœ¨ç»„ä»¶å†…éƒ¨ä¸­è¿›è¡Œå¼ºåˆ¶åˆ·æ–°ï¼Œåˆ™å¯ä»¥è°ƒç”¨<code>this.$forceUpdate()</code>å¼ºåˆ¶é‡æ–°æ¸²æŸ“ç»„ä»¶ï¼Œä»è€Œè¾¾åˆ°æ›´æ–°ç›®çš„</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>template<span class="token operator">></span><span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"reload()"</span><span class="token operator">></span>åˆ·æ–°å½“å‰ç»„ä»¶<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> <span class="token string">'comp'</span><span class="token punctuation">,</span>    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$forceUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><h3 id="2-ä½¿ç”¨v-ifæŒ‡ä»¤"><a href="#2-ä½¿ç”¨v-ifæŒ‡ä»¤" class="headerlink" title="2.ä½¿ç”¨v-ifæŒ‡ä»¤"></a>2.ä½¿ç”¨v-ifæŒ‡ä»¤</h3><p>å¦‚æœæ˜¯åˆ·æ–°æŸä¸ªå­ç»„ä»¶ï¼Œåˆ™å¯ä»¥é€šè¿‡v-ifæŒ‡ä»¤å®ç°ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå½“v-ifçš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç»„ä»¶éƒ½ä¼šè¢«é‡æ–°æ¸²æŸ“ä¸€éã€‚å› æ­¤ï¼Œåˆ©ç”¨v-ifæŒ‡ä»¤çš„ç‰¹æ€§ï¼Œå¯ä»¥è¾¾åˆ°å¼ºåˆ¶åˆ·æ–°ç»„ä»¶çš„ç›®çš„ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>template<span class="token operator">></span>    <span class="token operator">&lt;</span>comp v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"update"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>comp<span class="token operator">></span>    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"reload()"</span><span class="token operator">></span>åˆ·æ–°compç»„ä»¶<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">import</span> comp <span class="token keyword">from</span> <span class="token string">'@/views/comp.vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> <span class="token string">'parentComp'</span><span class="token punctuation">,</span>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            update<span class="token punctuation">:</span> <span class="token boolean">true</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// ç§»é™¤ç»„ä»¶</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>update <span class="token operator">=</span> <span class="token boolean">false</span>            <span class="token comment" spellcheck="true">// åœ¨ç»„ä»¶ç§»é™¤åï¼Œé‡æ–°æ¸²æŸ“ç»„ä»¶</span>            <span class="token comment" spellcheck="true">// this.$nextTickå¯å®ç°åœ¨DOM çŠ¶æ€æ›´æ–°åï¼Œæ‰§è¡Œä¼ å…¥çš„æ–¹æ³•ã€‚</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>update <span class="token operator">=</span> <span class="token boolean">true</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>14. æœ€é•¿å…¬å…±å‰ç¼€</title>
      <link href="/2020/08/05/leecode-3/"/>
      <url>/2020/08/05/leecode-3/</url>
      
        <content type="html"><![CDATA[<p>ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æœ€é•¿å…¬å…±å‰ç¼€ã€‚</p><p>å¦‚æœä¸å­˜åœ¨å…¬å…±å‰ç¼€ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸² â€œâ€</p><h3 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1:"></a>ç¤ºä¾‹ 1:</h3><p>è¾“å…¥: <code>[&quot;flower&quot;,&quot;flow&quot;,&quot;flight&quot;]</code><br>è¾“å‡º: <code>&quot;fl&quot;</code></p><h3 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2:"></a>ç¤ºä¾‹ 2:</h3><p>è¾“å…¥: <code>[&quot;dog&quot;,&quot;racecar&quot;,&quot;car&quot;]</code><br>è¾“å‡º: <code>&quot;&quot;</code><br>è§£é‡Š: è¾“å…¥ä¸å­˜åœ¨å…¬å…±å‰ç¼€ã€‚</p><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">/** * @param {string[]} strs * @return {string} */</span><span class="token keyword">var</span> longestCommonPrefix <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>strs<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>strs<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>strs<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> strs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> prefix <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>strs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>strs<span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>strs<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!==</span>strs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">return</span> prefix            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        prefix <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prefix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>strs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> prefix<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹å†™ä¸€ä¸ªcallã€applyã€bind</title>
      <link href="/2020/08/03/js-9/"/>
      <url>/2020/08/03/js-9/</url>
      
        <content type="html"><![CDATA[<h3 id="æ‰‹å†™ä¸€ä¸ª-new"><a href="#æ‰‹å†™ä¸€ä¸ª-new" class="headerlink" title="æ‰‹å†™ä¸€ä¸ª new"></a>æ‰‹å†™ä¸€ä¸ª <code>new</code></h3><blockquote><p>new è¿ç®—ç¬¦åˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»å‹çš„å®ä¾‹æˆ–å…·æœ‰æ„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡çš„å®ä¾‹ã€‚new å…³é”®å­—ä¼šè¿›è¡Œå¦‚ä¸‹çš„æ“ä½œï¼š</p></blockquote><blockquote><ul><li>1.åˆ›å»ºä¸€ä¸ªç©ºçš„ç®€å•JavaScriptå¯¹è±¡ï¼ˆå³{ } ï¼‰ï¼›</li><li>2.é“¾æ¥è¯¥å¯¹è±¡ï¼ˆå³è®¾ç½®è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼‰åˆ°å¦ä¸€ä¸ªå¯¹è±¡ ï¼›</li><li>3.å°†æ­¥éª¤1æ–°åˆ›å»ºçš„å¯¹è±¡ä½œä¸ºthisçš„ä¸Šä¸‹æ–‡ ï¼›</li><li>4.å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›thisã€‚</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Car</span><span class="token punctuation">(</span>make<span class="token punctuation">,</span> model<span class="token punctuation">,</span> year<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>make <span class="token operator">=</span> make<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>model <span class="token operator">=</span> model<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>year <span class="token operator">=</span> year<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> car1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">'Eagle'</span><span class="token punctuation">,</span> <span class="token string">'Talon TSi'</span><span class="token punctuation">,</span> <span class="token number">1993</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car1<span class="token punctuation">.</span>make<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p> æ‰‹å†™<code>new</code>çš„å®ç°</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 1ã€è·å¾—æ„é€ å‡½æ•°ï¼Œ</span>    <span class="token keyword">var</span> context <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token comment" spellcheck="true">// 2ã€åˆ›å»ºä¸€ä¸ªç©ºçš„å¯¹è±¡å¹¶é“¾æ¥åˆ°åŸå‹ï¼Œobj å¯ä»¥è®¿é—®æ„é€ å‡½æ•°åŸå‹ä¸­çš„å±æ€§</span>    <span class="token keyword">let</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 3ã€ç»‘å®š this å®ç°ç»§æ‰¿ï¼Œobj å¯ä»¥è®¿é—®åˆ°æ„é€ å‡½æ•°ä¸­çš„å±æ€§</span>    <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">let</span> result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 4ã€ä¼˜å…ˆè¿”å›æ„é€ å‡½æ•°è¿”å›çš„å¯¹è±¡</span>    <span class="token keyword">return</span> result <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token operator">?</span> result <span class="token punctuation">:</span> obj<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">Per</span><span class="token punctuation">(</span>make<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>make <span class="token operator">=</span> make<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token function">myNew</span><span class="token punctuation">(</span>Per<span class="token punctuation">,</span> <span class="token string">'ç”·'</span><span class="token punctuation">,</span> <span class="token string">'å°èœ'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// const person = new Per('ç”·', 'å°èœ', 18);</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><p>è­¦å‘Š: é€šè¿‡ç°ä»£æµè§ˆå™¨çš„æ“ä½œå±æ€§çš„ä¾¿åˆ©æ€§ï¼Œå¯ä»¥æ”¹å˜ä¸€ä¸ªå¯¹è±¡çš„ [[Prototype]] å±æ€§, è¿™ç§è¡Œä¸ºåœ¨æ¯ä¸€ä¸ªJavaScriptå¼•æ“å’Œæµè§ˆå™¨ä¸­éƒ½æ˜¯ä¸€ä¸ªéå¸¸æ…¢ä¸”å½±å“æ€§èƒ½çš„æ“ä½œï¼Œä½¿ç”¨è¿™ç§æ–¹å¼æ¥æ”¹å˜å’Œç»§æ‰¿å±æ€§æ˜¯å¯¹æ€§èƒ½å½±å“éå¸¸ä¸¥é‡çš„ï¼Œå¹¶ä¸”æ€§èƒ½æ¶ˆè€—çš„æ—¶é—´ä¹Ÿä¸æ˜¯ç®€å•çš„èŠ±è´¹åœ¨ <code>obj.__proto__</code> = â€¦ è¯­å¥ä¸Š, å®ƒè¿˜ä¼šå½±å“åˆ°æ‰€æœ‰ç»§æ‰¿æ¥è‡ªè¯¥ [[Prototype]] çš„å¯¹è±¡ï¼Œå¦‚æœä½ å…³å¿ƒæ€§èƒ½ï¼Œä½ å°±ä¸åº”è¯¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ä¿®æ”¹å®ƒçš„ [[Prototype]]ã€‚ç›¸å, åˆ›å»ºä¸€ä¸ªæ–°çš„ä¸”å¯ä»¥ç»§æ‰¿ [[Prototype]] çš„å¯¹è±¡ï¼Œæ¨èä½¿ç”¨ <code>Object.create()</code><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new" target="_blank" rel="noopener">MDN:newè¿ç®—ç¬¦</a></p></blockquote><h3 id="æ‰‹å†™ä¸€ä¸ªcall"><a href="#æ‰‹å†™ä¸€ä¸ªcall" class="headerlink" title="æ‰‹å†™ä¸€ä¸ªcall"></a>æ‰‹å†™ä¸€ä¸ªcall</h3><blockquote><ul><li>1.context å­˜åœ¨å°±ä½¿ç”¨ contextï¼Œå¦åˆ™æ˜¯ window</li><li>2.ä½¿ç”¨ Object(context) å°† context è½¬æ¢æˆå¯¹è±¡ï¼Œå¹¶é€šè¿‡ context.fn å°† this æŒ‡å‘ context</li><li>3.å°†å‡½æ•°è®¾ç½®ä¸ºå¯¹è±¡çš„å±æ€§</li><li>4.æ‰§è¡Œè¯¥å‡½æ•°</li><li>5.æ‹¿åˆ°ç»“æœè¿”å›å‰ï¼Œåˆ é™¤æ‰ fn</li></ul></blockquote><pre class=" language-js"><code class="language-js">    Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>call1 <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// å°†æ–¹æ³•æŒ‚è½½åˆ°å¯¹è±¡ä¸Š</span>        <span class="token keyword">var</span> context <span class="token operator">=</span> context <span class="token operator">||</span> window<span class="token punctuation">;</span>        context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span>        <span class="token comment" spellcheck="true">// æ‰§è¡Œå¯¹è±¡çš„è¿™ä¸ªæ–¹æ³•</span>        <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">let</span> result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">// å°†è¿™ä¸ªæ–¹æ³•ä»å¯¹è±¡ä¸Šåˆ é™¤</span>        <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn        <span class="token keyword">return</span> result    <span class="token punctuation">}</span></code></pre><h3 id="æ‰‹å†™ä¸€ä¸ªapply"><a href="#æ‰‹å†™ä¸€ä¸ªapply" class="headerlink" title="æ‰‹å†™ä¸€ä¸ªapply"></a>æ‰‹å†™ä¸€ä¸ªapply</h3><blockquote><ul><li>å°†æ–¹æ³•æŒ‚è½½åˆ°å¯¹è±¡ä¸Š</li><li>æ‰§è¡Œå¯¹è±¡çš„è¿™ä¸ªæ–¹æ³•</li><li>å°†è¿™ä¸ªæ–¹æ³•ä»å¯¹è±¡ä¸Šåˆ é™¤</li></ul></blockquote><pre class=" language-js"><code class="language-js">    Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>apply1 <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// å°†æ–¹æ³•æŒ‚è½½åˆ°å¯¹è±¡ä¸Š</span>        <span class="token keyword">var</span> context <span class="token operator">=</span> context <span class="token operator">||</span> window<span class="token punctuation">;</span>        context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// æ‰§è¡Œå¯¹è±¡çš„è¿™ä¸ªæ–¹æ³•</span>        <span class="token keyword">let</span> args <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>        <span class="token keyword">let</span> result<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>            result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//å°†è¿™ä¸ªæ–¹æ³•ä»å¯¹è±¡ä¸Šåˆ é™¤</span>        <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn        <span class="token keyword">return</span> result    <span class="token punctuation">}</span></code></pre><h3 id="æ‰‹å†™ä¸€ä¸ªbind"><a href="#æ‰‹å†™ä¸€ä¸ªbind" class="headerlink" title="æ‰‹å†™ä¸€ä¸ªbind"></a>æ‰‹å†™ä¸€ä¸ªbind</h3><blockquote><ul><li>1.bind çš„å‚æ•°å¯ä»¥åœ¨ç»‘å®šå’Œè°ƒç”¨çš„æ—¶å€™åˆ†ä¸¤æ¬¡ä¼ å…¥</li><li>2.bindArgs æ˜¯ç»‘å®šæ—¶é™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°ä»¥å¤–ä¼ å…¥çš„å‚æ•°ï¼Œargs æ˜¯è°ƒç”¨æ—¶å€™ä¼ å…¥çš„å‚æ•°ï¼Œå°†äºŒè€…æ‹¼æ¥åä¸€èµ·ä¼ å…¥</li><li>3.å¦‚æœä½¿ç”¨ new è¿ç®—ç¬¦æ„é€ ç»‘å®šå‡½æ•°ï¼Œåˆ™ä¼šæ”¹å˜ this æŒ‡å‘ï¼Œthis æŒ‡å‘å½“å‰çš„å®ä¾‹</li><li>4.é€šè¿‡ Fn é“¾æ¥åŸå‹ï¼Œè¿™æ · myBind å°±å¯ä»¥é€šè¿‡åŸå‹é“¾è®¿é—®çˆ¶ç±» Fn çš„å±æ€§</li></ul></blockquote><pre class=" language-js"><code class="language-js">   Function<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>myBind <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'this is not function'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span>    <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// åˆ¤æ–­æ˜¯å¦è¢«å½“åšæ„é€ å‡½æ•°ä½¿ç”¨</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">Fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> that<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> that<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> <span class="token string">'å°èœ'</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>        name<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>        a<span class="token punctuation">,</span>        b<span class="token punctuation">,</span>        c    <span class="token punctuation">}</span><span class="token punctuation">}</span>foo<span class="token punctuation">.</span><span class="token function">myBind</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span><span class="token function">myBind</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// console.log(foo.bind(obj, 1, 2, 3)())</span></code></pre><h3 id="æ‰‹å†™-instanceOf"><a href="#æ‰‹å†™-instanceOf" class="headerlink" title="æ‰‹å†™ instanceOf"></a>æ‰‹å†™ instanceOf</h3><blockquote><ul><li>1.åœ¨ <code>left</code> çš„åŸå‹é“¾ä¸­å±‚å±‚æŸ¥æ‰¾ï¼Œæ˜¯å¦æœ‰åŸå‹ç­‰äº <code>prototype</code></li><li>2.ç¡®å®šè¾¹ç•Œæ¡ä»¶ï¼Œå¦‚æœ <code>left === null</code>ï¼Œå³æ‰¾åˆ°å¤´æ²¡æ‰¾åˆ°è¿”å› <code>false</code>,<code>right === left</code>ï¼Œå³æ‰¾åˆ°è¿”å› <code>true</code></li><li>3.<code>left = left.__proto__</code>ï¼Œä¸åœçš„å‘ä¸ŠæŸ¥æ‰¾</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> myInstanceof <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>        right <span class="token operator">=</span> right<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>        left <span class="token operator">=</span> left<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>right <span class="token operator">===</span> left<span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>        left <span class="token operator">=</span> left<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="æ‰‹å†™-Object-create"><a href="#æ‰‹å†™-Object-create" class="headerlink" title="æ‰‹å†™ Object.create"></a>æ‰‹å†™ Object.create</h3><blockquote><ul><li>æ–°å»ºä¸€ä¸ªç©ºçš„æ„é€ å‡½æ•° F ï¼Œç„¶åè®© F.prototype æŒ‡å‘ objï¼Œæœ€åè¿”å› F çš„å®ä¾‹</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> myCreate <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">function</span> <span class="token function">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  F<span class="token punctuation">.</span>prototype <span class="token operator">=</span> obj<span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯ç¼“å­˜æœºåˆ¶</title>
      <link href="/2020/07/30/js-8/"/>
      <url>/2020/07/30/js-8/</url>
      
        <content type="html"><![CDATA[<h3 id="1-ç¼“å­˜çš„ä½œç”¨"><a href="#1-ç¼“å­˜çš„ä½œç”¨" class="headerlink" title="1. ç¼“å­˜çš„ä½œç”¨"></a>1. ç¼“å­˜çš„ä½œç”¨</h3><blockquote><ul><li>åŠ å¿«èµ„æºåŠ è½½é€Ÿåº¦ï¼Œæé«˜ç”¨æˆ·ä½“éªŒ</li><li>èŠ‚çœå¸¦å®½ï¼ŒæœåŠ¡å™¨ç«¯èµ„æºæ— éœ€é‡æ–°ä¼ è¾“ï¼›ç”šè‡³ä¸€äº›ç¼“å­˜æ— éœ€è¿›è¡Œ<code>Http</code>è¯·æ±‚</li><li>æœåŠ¡å™¨ç«¯ç¼“å­˜ï¼Œå¦‚ï¼ˆCDNï¼‰å¯ä»¥å‡ç¼“å¤šç”¨æˆ·å¹¶è¡Œè¯·æ±‚çš„å‹åŠ›ï¼Œå‡è½»æœåŠ¡å™¨å‹åŠ›</li></ul></blockquote><h3 id="2-ç¼“å­˜çš„åˆ†ç±»"><a href="#2-ç¼“å­˜çš„åˆ†ç±»" class="headerlink" title="2. ç¼“å­˜çš„åˆ†ç±»"></a>2. ç¼“å­˜çš„åˆ†ç±»</h3><ul><li>æœåŠ¡å™¨ç¼“å­˜ å¦‚ï¼ˆCDNï¼‰</li><li>å®¢æˆ·ç«¯ç¼“å­˜ ï¼ˆæµè§ˆå™¨ç¼“å­˜ï¼‰</li></ul><h3 id="3-æµè§ˆå™¨ç¼“å­˜æœºåˆ¶"><a href="#3-æµè§ˆå™¨ç¼“å­˜æœºåˆ¶" class="headerlink" title="3.æµè§ˆå™¨ç¼“å­˜æœºåˆ¶"></a>3.æµè§ˆå™¨ç¼“å­˜æœºåˆ¶</h3><ul><li><p>å¼ºç¼“å­˜ï¼š æœ¬åœ°è¿›è¡Œç¼“å­˜è¿‡æœŸæ—¶é—´çš„æ¯”è¾ƒã€‚è‹¥æ—¶é—´æ²¡æœ‰è¿‡æœŸï¼Œåˆ™ç›´æ¥ä»æœ¬åœ°è·å–ç¼“å­˜çš„èµ„æºï¼Œæ— éœ€å‘æœåŠ¡å™¨ç«¯å‘èµ·è¯·æ±‚ã€‚</p></li><li><p>åå•†ç¼“å­˜ï¼šå‘èµ·<code>Http</code>è¯·æ±‚ï¼Œè¯·æ±‚å¤´ä¸­åŒ…å«ä¸€äº›åå•†ç¼“å­˜çš„å­—æ®µï¼Œä¸æœåŠ¡å™¨ç«¯è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥èµ„æºæ²¡æœ‰ä¿®æ”¹ï¼Œåˆ™æœåŠ¡å™¨ç«¯è¿”å›<code>304</code>çŠ¶æ€ç ï¼Œå®¢æˆ·ç«¯åˆ™å¯ä»¥ç›´æ¥ä»ç¼“å­˜ä¸­è·å–èµ„æºï¼Œåä¹‹é¦™æœåŠ¡å™¨ç«¯å‘èµ·æ±‚è·å–æœ€æ–°èµ„æºã€‚</p></li></ul><h4 id="å¼ºç¼“å­˜"><a href="#å¼ºç¼“å­˜" class="headerlink" title="å¼ºç¼“å­˜"></a>å¼ºç¼“å­˜</h4><blockquote><ul><li>Expires: æµè§ˆå™¨ç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯è¿”å›èµ„æºæ—¶å¸¦æœ‰ä¸€ä¸ªExpireså­—æ®µï¼Œè¯¥å­—æ®µç”±æœåŠ¡å™¨ç«¯è®¡ç®—æ‰€å¾—ï¼Œè¡¨ç¤ºç¼“å­˜è¿‡æœŸçš„æ—¶é—´æœŸé™<ol><li>å…·ä½“åˆ¤æ–­æ˜¯å¦è¿‡æœŸï¼šExpires &lt; å½“å‰å®¢æˆ·ç«¯æ—¶é—´</li><li>è¯¥ç¼“å­˜æœ‰ä¸ªå¼Šç«¯ï¼šExpiresçš„æ—¶é—´æ˜¯ç”±æœåŠ¡å™¨ç«¯è®¡ç®—æ‰€å¾—ï¼Œè®¡ç®—ä¾æ®ä¸ºæœåŠ¡å™¨ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶é—´ï¼Œè€Œå½“å‰åˆ¤æ–­ç¼“å­˜æ—¶ï¼Œä¸å®¢æˆ·ç«¯æ—¶é—´åšæ¯”è¾ƒï¼Œå€˜è‹¥ä¸¤ç«¯çš„æ—¶é—´ä¸åŒå‘¢ï¼Ÿæ‰€ä»¥è¿˜æ˜¯ä¸å¤Ÿå¯é </li></ol></li></ul></blockquote><blockquote><ul><li>Cache-Controlï¼šç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ï¼Œèµ„æºä¼šå­˜å‚¨å½“å‰æ—¶é—´ï¼Œå¹¶ä¸”ä¿å­˜ä¸€ä¸ªmax-ageã€‚</li></ul></blockquote><p>å…·ä½“åˆ¤æ–­æ˜¯å¦è¿‡æœŸï¼š<br>ç¬¬ä¸€æ¬¡è¯·æ±‚çš„å®¢æˆ·ç«¯æ—¶é—´ + max-age &lt; å½“å‰å®¢æˆ·ç«¯æ—¶é—´<br>max-ageä¸ºç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™æœåŠ¡å™¨ç«¯å‘é€çš„è¿‡æœŸæ—¶é—´é—´éš”ï¼Œè€Œä¸¤æ¬¡æ¯”è¾ƒéƒ½æ˜¯å®¢æˆ·ç«¯æ—¶é—´ï¼Œå› æ­¤å¯ä»¥è§£å†³Expiresä¸å‡†ç¡®çš„ç¼ºç‚¹ã€‚</p><p>æ³¨ï¼šCache-Controlçš„ä¼˜å…ˆçº§æ¯”Expiresé«˜</p><h4 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h4><blockquote><ul><li>Last-Modified ï¼Œ If-Modified-Since</li></ul></blockquote><ul><li><p>Last-Modified:æµè§ˆå™¨ç«¯å‘é€è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯è¿”å›Last-Modifiedå‘Šè¯‰æµè§ˆå™¨èµ„æºæœ€åä¿®æ”¹çš„æ—¶é—´ï¼Œæµè§ˆå™¨åˆ™æŠŠè¯¥æ—¶é—´å­˜å‚¨åˆ°èµ„æºä¸­ã€‚</p></li><li><p>If-Modified-Sinceï¼šå½“å¼ºç¼“å­˜çš„èµ„æºè¿‡æœŸæ—¶ï¼Œè‹¥èµ„æºä¸­æœ‰Last-Modifiedå­—æ®µï¼Œåˆ™æµè§ˆå™¨å°†Last-Modifiedçš„æ—¶é—´èµ‹å€¼ç»™If-Modified-Sinceï¼Œæµè§ˆå™¨å‘èµ·è¯·æ±‚ï¼Œå°†If-modified-Sinceå­—æ®µåŒ…å«åœ¨è¯·æ±‚Headerä¸­ï¼ŒæœåŠ¡å™¨ç«¯è·å¾—è¯¥å­—æ®µï¼Œå°†å…¶ä¸æœåŠ¡å™¨ç«¯å¯¹åº”èµ„æºæœ€åçš„ä¿®æ”¹æ—¶é—´è¿›è¡Œå¯¹æ¯”ï¼Œå€˜è‹¥æœåŠ¡å™¨ç«¯æ—¶é—´è¾ƒæ—§ï¼Œåˆ™è¿”å›304ï¼Œä¸åŒ…å«æ¶ˆæ¯ä½“ï¼›åä¹‹åˆ™æ­£å¸¸è¯·æ±‚ã€‚</p></li></ul><p>ç¡®å®šï¼šåªèƒ½ç²¾ç¡®åˆ°ç§’çº§ï¼Œåœ¨ç§’çº§å†…çš„æ“ä½œæ— æ³•ç²¾ç¡®ï¼› è‹¥èµ„æºå®šæœŸç”Ÿæˆï¼Œä½†å†…å®¹ä¸å˜ï¼Œæ­¤æ—¶Last-Modifiedä¼šå‘ç”Ÿæ”¹å˜ï¼Œåˆ™æ— æ³•è¿›è¡Œç¼“å­˜äº†ã€‚</p><blockquote><ul><li>Etagï¼ŒIf-None-Match</li></ul></blockquote><p>è¯¥ç¼“å­˜æ–¹æ³•çš„åŸç†ä¸Last-Modifiedç›¸åŒï¼›åŒºåˆ«ï¼šEtagçš„å€¼é»˜è®¤ç”±æœåŠ¡å™¨ç«¯ä¸­å¯¹æ–‡ä»¶çš„ç´¢å¼•ï¼ˆINodeï¼‰ã€å¤§å°ï¼ˆSizeï¼‰å’Œæœ€åä¿®æ”¹æ—¶é—´ï¼ˆMTimeï¼‰è¿›è¡ŒHashåç”Ÿæˆã€‚</p><p>æ³¨ï¼šEtagçš„ä¼˜å…ˆçº§é«˜äºLast-Modified</p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsä¸‹è½½å¯¼å‡ºExcelæ–‡ä»¶ä»¥åŠieå…¼å®¹é—®é¢˜</title>
      <link href="/2020/07/29/js-7/"/>
      <url>/2020/07/29/js-7/</url>
      
        <content type="html"><![CDATA[<h3 id="æ–¹æ³•ä¸€-ä½¿ç”¨aæ ‡ç­¾ä¸‹è½½"><a href="#æ–¹æ³•ä¸€-ä½¿ç”¨aæ ‡ç­¾ä¸‹è½½" class="headerlink" title="æ–¹æ³•ä¸€ ä½¿ç”¨aæ ‡ç­¾ä¸‹è½½"></a>æ–¹æ³•ä¸€ ä½¿ç”¨aæ ‡ç­¾ä¸‹è½½</h3><pre><code>-- ä½¿ç”¨aæ ‡ç­¾ä¸‹è½½, download å±æ€§ï¼Œ`url` æ˜¯æ‰€è¦ä¸‹è½½çš„åœ°å€ï¼Œæ³¨æ„IEæµè§ˆå™¨ä¸æ”¯æŒ`&lt;a href={`${url}`} download&gt;å¯¼å‡º&lt;/a&gt;`</code></pre><h3 id="æ–¹æ³•äºŒ-æ¥å£è¿”ä¼šçš„æ˜¯äºŒè¿›åˆ¶æµ-å…¼å®¹ie"><a href="#æ–¹æ³•äºŒ-æ¥å£è¿”ä¼šçš„æ˜¯äºŒè¿›åˆ¶æµ-å…¼å®¹ie" class="headerlink" title="æ–¹æ³•äºŒ  æ¥å£è¿”ä¼šçš„æ˜¯äºŒè¿›åˆ¶æµ, å…¼å®¹ie"></a>æ–¹æ³•äºŒ  æ¥å£è¿”ä¼šçš„æ˜¯äºŒè¿›åˆ¶æµ, å…¼å®¹ie</h3><pre class=" language-js"><code class="language-js">        <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">'åç«¯ç»™çš„ä¸‹è½½åœ°å€'</span>           <span class="token comment" spellcheck="true">//  è·å–æ—¶é—´æˆ³</span>        <span class="token keyword">let</span> timestamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// è·å–XMLHttpRequest</span>        <span class="token keyword">let</span> xmlResquest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//  å‘èµ·è¯·æ±‚</span>        xmlResquest<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// è®¾ç½®è¯·æ±‚å¤´ç±»å‹</span>        xmlResquest<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">"Content-type"</span><span class="token punctuation">,</span> <span class="token string">"application/json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//  è®¾ç½®è¯·æ±‚token</span>        xmlResquest<span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">"blob"</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//è®¾ç½®å“åº”ç±»å‹ä¸ºblobç±»å‹,è¿™ä¸€è¡Œä¸€å®šè¦æ”¾åœ¨openåé¢ï¼Œä¸ç„¶ieä¼šæŠ¥é”™ï¼</span>        <span class="token comment" spellcheck="true">//  è¿”å›</span>        xmlResquest<span class="token punctuation">.</span>onload <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>oEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">let</span> content <span class="token operator">=</span> xmlResquest<span class="token punctuation">.</span>response<span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">'msSaveOrOpenBlob'</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// å…¼å®¹IE</span>                <span class="token keyword">let</span> filename <span class="token operator">=</span> timestamp<span class="token operator">+</span> <span class="token string">".xls"</span><span class="token punctuation">;</span>                <span class="token keyword">let</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>content<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-excel'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span><span class="token function">msSaveOrOpenBlob</span><span class="token punctuation">(</span>blob<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">// ç»„è£…aæ ‡ç­¾</span>                <span class="token keyword">let</span> elink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">// è®¾ç½®ä¸‹è½½æ–‡ä»¶å</span>                elink<span class="token punctuation">.</span>download <span class="token operator">=</span> timestamp <span class="token operator">+</span> <span class="token string">".xls"</span><span class="token punctuation">;</span>                elink<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>                <span class="token keyword">let</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>content<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                elink<span class="token punctuation">.</span>href <span class="token operator">=</span> URL<span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">;</span>                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elink<span class="token punctuation">)</span><span class="token punctuation">;</span>                elink<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>elink<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>        xmlResquest<span class="token punctuation">.</span>upload<span class="token punctuation">.</span>onprogress <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>lengthComputable<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//lengthComputable æ˜¯ progress çš„ä¸€ä¸ªå±æ€§ï¼Œè¡¨ç¤ºèµ„æºæ˜¯å¦å¯è®¡ç®—å­—èŠ‚æµ</span>                <span class="token keyword">let</span> pross <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>loaded <span class="token operator">/</span> e<span class="token punctuation">.</span>total<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pross<span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        xmlResquest<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ¤å®šæ˜¯å¦äº’ä¸ºå­—ç¬¦é‡æ’</title>
      <link href="/2020/07/27/leecode2/"/>
      <url>/2020/07/27/leecode2/</url>
      
        <content type="html"><![CDATA[<h3 id="ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²-s1-å’Œ-s2ï¼Œè¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œç¡®å®šå…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦é‡æ–°æ’åˆ—åï¼Œèƒ½å¦å˜æˆå¦ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚"><a href="#ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²-s1-å’Œ-s2ï¼Œè¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œç¡®å®šå…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦é‡æ–°æ’åˆ—åï¼Œèƒ½å¦å˜æˆå¦ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚" class="headerlink" title="ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s1 å’Œ s2ï¼Œè¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œç¡®å®šå…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦é‡æ–°æ’åˆ—åï¼Œèƒ½å¦å˜æˆå¦ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚"></a>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s1 å’Œ s2ï¼Œè¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œç¡®å®šå…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦é‡æ–°æ’åˆ—åï¼Œèƒ½å¦å˜æˆå¦ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</h3><h3 id="ç¤ºä¾‹-1ï¼š"><a href="#ç¤ºä¾‹-1ï¼š" class="headerlink" title="ç¤ºä¾‹ 1ï¼š"></a>ç¤ºä¾‹ 1ï¼š</h3><p>è¾“å…¥: <code>s1 = &quot;abc&quot;, s2 = &quot;bca&quot;</code><br>è¾“å‡º: <code>true</code> </p><h3 id="ç¤ºä¾‹-2ï¼š"><a href="#ç¤ºä¾‹-2ï¼š" class="headerlink" title="ç¤ºä¾‹ 2ï¼š"></a>ç¤ºä¾‹ 2ï¼š</h3><p>è¾“å…¥: <code>s1 = &quot;abc&quot;, s2 = &quot;bad&quot;</code><br>è¾“å‡º: <code>false</code><br>è¯´æ˜ï¼š<br><code>0 &lt;= len(s1) &lt;= 100</code><br><code>0 &lt;= len(s2) &lt;= 100</code></p><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><pre><code>```js    /**     * @param {string} s1     * @param {string} s2     * @return {boolean}     */    var CheckPermutation = function(s1, s2) {        let arr1 = s1.split(&#39;&#39;).sort();        let arr2 = s2.split(&#39;&#39;).sort();        let flag = true        if(arr1.length == arr2.length){            for(let i=0;i&lt;arr1.length;i++){                if(arr1[i]==arr2[i]){                flag = true;                 } else{                flag = false;                  break;                  }            }        }else{        flag = false;          }    return flag;    };```</code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ¤å®šå­—ç¬¦æ˜¯å¦å”¯ä¸€</title>
      <link href="/2020/07/24/leetcode1/"/>
      <url>/2020/07/24/leetcode1/</url>
      
        <content type="html"><![CDATA[<h3 id="å®ç°ä¸€ä¸ªç®—æ³•ï¼Œç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²-s-çš„æ‰€æœ‰å­—ç¬¦æ˜¯å¦å…¨éƒ½ä¸åŒ"><a href="#å®ç°ä¸€ä¸ªç®—æ³•ï¼Œç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²-s-çš„æ‰€æœ‰å­—ç¬¦æ˜¯å¦å…¨éƒ½ä¸åŒ" class="headerlink" title="å®ç°ä¸€ä¸ªç®—æ³•ï¼Œç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸² s çš„æ‰€æœ‰å­—ç¬¦æ˜¯å¦å…¨éƒ½ä¸åŒ"></a>å®ç°ä¸€ä¸ªç®—æ³•ï¼Œç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸² s çš„æ‰€æœ‰å­—ç¬¦æ˜¯å¦å…¨éƒ½ä¸åŒ</h3><h4 id="ç¤ºä¾‹-1ï¼š"><a href="#ç¤ºä¾‹-1ï¼š" class="headerlink" title="ç¤ºä¾‹ 1ï¼š"></a>ç¤ºä¾‹ 1ï¼š</h4><pre class=" language-js"><code class="language-js">è¾“å…¥<span class="token punctuation">:</span> s <span class="token operator">=</span> <span class="token string">"leetcode"</span>è¾“å‡º<span class="token punctuation">:</span> <span class="token boolean">false</span> </code></pre><h4 id="ç¤ºä¾‹-2ï¼š"><a href="#ç¤ºä¾‹-2ï¼š" class="headerlink" title="ç¤ºä¾‹ 2ï¼š"></a>ç¤ºä¾‹ 2ï¼š</h4><pre class=" language-js"><code class="language-js">è¾“å…¥<span class="token punctuation">:</span> s <span class="token operator">=</span> <span class="token string">"abc"</span>è¾“å‡º<span class="token punctuation">:</span> <span class="token boolean">true</span></code></pre><h4 id="é™åˆ¶ï¼š"><a href="#é™åˆ¶ï¼š" class="headerlink" title="é™åˆ¶ï¼š"></a>é™åˆ¶ï¼š</h4><p>0 &lt;= len(s) &lt;= 100<br>å¦‚æœä½ ä¸ä½¿ç”¨é¢å¤–çš„æ•°æ®ç»“æ„ï¼Œä¼šå¾ˆåŠ åˆ†ã€‚</p><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">/** * @param {string} astr * @return {boolean} */</span><span class="token keyword">var</span> isUnique <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>astr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> arr <span class="token operator">=</span> astr<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">==</span>arr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            flag<span class="token operator">=</span> <span class="token boolean">true</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>            flag<span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> flag<span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯jså‡ ç§åŠ å¯†/è§£å¯†æ–¹æ³•</title>
      <link href="/2020/01/15/t-4/"/>
      <url>/2020/01/15/t-4/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-Window-btoa-æ–¹æ³•"><a href="#ä¸€-Window-btoa-æ–¹æ³•" class="headerlink" title="ä¸€.Window btoa() æ–¹æ³•"></a>ä¸€.Window btoa() æ–¹æ³•</h2><p>btoa() æ–¹æ³•ç”¨äºåˆ›å»ºä¸€ä¸ª base-64 ç¼–ç çš„å­—ç¬¦ä¸²ã€‚</p><p>è¯¥æ–¹æ³•ä½¿ç”¨ <code>&quot;A-Z&quot;, &quot;a-z&quot;, &quot;0-9&quot;, &quot;+&quot;, &quot;/&quot; å’Œ &quot;=&quot;</code> å­—ç¬¦æ¥ç¼–ç å­—ç¬¦ä¸²ã€‚</p><p>base-64 è§£ç ä½¿ç”¨æ–¹æ³•æ˜¯ <code>atob()</code></p><pre class=" language-js"><code class="language-js">window<span class="token punctuation">.</span><span class="token function">btoa</span><span class="token punctuation">(</span><span class="token string">'echo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//  ZWNobw==</span>window<span class="token punctuation">.</span><span class="token function">atob</span><span class="token punctuation">(</span><span class="token string">'ZWNobw=='</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// echo</span></code></pre><blockquote><ul><li>æ³¨æ„ å‚æ•°(str): å¿…éœ€ï¼Œè¦ç¼–ç çš„å­—ç¬¦ä¸²ã€‚</li></ul></blockquote><h2 id="äºŒ-MD5åŠ å¯†ï¼ˆä¸å¯é€†ï¼‰"><a href="#äºŒ-MD5åŠ å¯†ï¼ˆä¸å¯é€†ï¼‰" class="headerlink" title="äºŒ MD5åŠ å¯†ï¼ˆä¸å¯é€†ï¼‰"></a>äºŒ MD5åŠ å¯†ï¼ˆä¸å¯é€†ï¼‰</h2><p>MD5åŠ å¯†æœ‰å¥½å¤šç§ï¼Œå¯¹ç™»å½•å¸¸ç”¨çš„äº‹32ä½åŠ å¯†æ–¹å¼ï¼Œç”¨æˆ·ä¿¡æ¯ï¼Œå¯†ç ç­‰ç§å¯†ä¿¡æ¯è¿›è¡ŒåŠ å¯†</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> MD5 <span class="token keyword">from</span> <span class="token string">'crypto-js/md5'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">Auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> ts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> <span class="token punctuation">{</span> uid<span class="token punctuation">,</span> token <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getLocalStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> sign <span class="token operator">=</span> <span class="token function">MD5</span><span class="token punctuation">(</span>uid <span class="token operator">+</span> ts <span class="token operator">+</span> token<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> Auth <span class="token operator">=</span> <span class="token punctuation">{</span> ts<span class="token punctuation">,</span> uid<span class="token punctuation">,</span> sign <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> Auth<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// sign: 4211e87e94c3438a08a65d2c1cab4d01</span><span class="token comment" spellcheck="true">// ts: 1579074594954</span><span class="token comment" spellcheck="true">// uid: admin</span><span class="token punctuation">}</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token string">'echo'</span><span class="token keyword">let</span> MdUser <span class="token operator">=</span> <span class="token function">MD5</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// cbb11ed87dc8a95d81400c7f33c7c171</span></code></pre><h2 id="ä¸‰-sha1åŠ å¯†ï¼ˆä¸å¯é€†ï¼‰"><a href="#ä¸‰-sha1åŠ å¯†ï¼ˆä¸å¯é€†ï¼‰" class="headerlink" title="ä¸‰ sha1åŠ å¯†ï¼ˆä¸å¯é€†ï¼‰"></a>ä¸‰ sha1åŠ å¯†ï¼ˆä¸å¯é€†ï¼‰</h2><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"https://cdn.bootcss.com/js-sha1/0.6.0/sha1.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token keyword">let</span> sha1_1 <span class="token operator">=</span> <span class="token function">sha1</span><span class="token punctuation">(</span><span class="token string">"echo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sha1_1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// b2d21e771d9f86865c5eff193663574dd1796c8f</span></code></pre><h2 id="å››ã€ç¼–ç å’Œè§£ç å­—ç¬¦ä¸²"><a href="#å››ã€ç¼–ç å’Œè§£ç å­—ç¬¦ä¸²" class="headerlink" title="å››ã€ç¼–ç å’Œè§£ç å­—ç¬¦ä¸²"></a>å››ã€ç¼–ç å’Œè§£ç å­—ç¬¦ä¸²</h2><p>ä½¿ç”¨JSå‡½æ•°çš„escape()å’Œunescape()ï¼Œåˆ†åˆ«æ˜¯ç¼–ç å’Œè§£ç å­—ç¬¦ä¸²</p><pre class=" language-JS"><code class="language-JS">      var escape1 =escape("æˆ‘çš„åå­—æ˜¯ï¼šecho");//ç¼–ç       console.log(escape1); // %u6211%u7684%u540D%u5B57%u662F%uFF1Aecho      var unescape1 = unescape(escape1); //è§£ç       console.log(unescape1); // æˆ‘çš„åå­—æ˜¯ï¼šecho</code></pre><h2 id="äº”ã€AES-DESåŠ å¯†è§£å¯†"><a href="#äº”ã€AES-DESåŠ å¯†è§£å¯†" class="headerlink" title="äº”ã€AES/DESåŠ å¯†è§£å¯†"></a>äº”ã€AES/DESåŠ å¯†è§£å¯†</h2><p>ä¸‹è½½crypto-js.js å¼•å…¥ä½¿ç”¨</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> aseKey <span class="token operator">=</span> <span class="token string">"12345678"</span>     <span class="token comment" spellcheck="true">//ç§˜é’¥å¿…é¡»ä¸ºï¼š8/16/32ä½</span><span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token string">"80018000142"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åŠ å¯†</span><span class="token keyword">var</span> encrypt <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>AES<span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>aseKey<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  mode<span class="token punctuation">:</span> CryptoJS<span class="token punctuation">.</span>mode<span class="token punctuation">.</span>ECB<span class="token punctuation">,</span>  padding<span class="token punctuation">:</span> CryptoJS<span class="token punctuation">.</span>pad<span class="token punctuation">.</span>Pkcs7<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>encrypt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//VKrZlqykem73x8/T2oCfCQ==</span><span class="token comment" spellcheck="true">//è§£å¯†</span><span class="token keyword">var</span> decrypt <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>AES<span class="token punctuation">.</span><span class="token function">decrypt</span><span class="token punctuation">(</span>encrypt<span class="token punctuation">,</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>aseKey<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  mode<span class="token punctuation">:</span> CryptoJS<span class="token punctuation">.</span>mode<span class="token punctuation">.</span>ECB<span class="token punctuation">,</span>  padding<span class="token punctuation">:</span> CryptoJS<span class="token punctuation">.</span>pad<span class="token punctuation">.</span>Pkcs7<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>decrypt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//80018000142</span></code></pre><blockquote><ul><li>åŠ å¯†çš„æ—¶å€™å¿…é¡»è½¬æˆå­—ç¬¦ä¸² ä½¿ç”¨toStringã€‚ è§£å¯†çš„æ—¶å€™ å¿…é¡»ä½¿ç”¨utf8çš„æ ¼å¼</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ¯æ—¥ä¸€é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç«™ä¼˜åŒ–</title>
      <link href="/2020/01/14/net/"/>
      <url>/2020/01/14/net/</url>
      
        <content type="html"><![CDATA[<h2 id="1-ä¸ºä»€ä¹ˆ-Javascript-è¦æ˜¯å•çº¿ç¨‹çš„"><a href="#1-ä¸ºä»€ä¹ˆ-Javascript-è¦æ˜¯å•çº¿ç¨‹çš„" class="headerlink" title="1. ä¸ºä»€ä¹ˆ Javascript è¦æ˜¯å•çº¿ç¨‹çš„ ?"></a>1. ä¸ºä»€ä¹ˆ Javascript è¦æ˜¯å•çº¿ç¨‹çš„ ?</h2><p>è¿™æ˜¯å› ä¸º Javascript è¿™é—¨è„šæœ¬è¯­è¨€è¯ç”Ÿçš„ä½¿å‘½æ‰€è‡´!JavaScript ä¸ºå¤„ç†é¡µé¢ä¸­ç”¨æˆ·çš„äº¤äº’,ä»¥åŠæ“ä½œ DOM æ ‘ã€CSS æ ·å¼æ ‘æ¥ç»™ç”¨æˆ·å‘ˆç°ä¸€ä»½åŠ¨æ€è€Œä¸°å¯Œçš„äº¤äº’ä½“éªŒå’ŒæœåŠ¡å™¨é€»è¾‘çš„äº¤äº’å¤„ç†ã€‚<br>å¦‚æœ JavaScript æ˜¯å¤šçº¿ç¨‹çš„æ–¹å¼æ¥æ“ä½œè¿™äº› UI DOM,åˆ™å¯èƒ½å‡ºç° UI æ“ä½œçš„å†²çªã€‚<br>å¦‚æœ Javascript æ˜¯å¤šçº¿ç¨‹çš„è¯,åœ¨å¤šçº¿ç¨‹çš„äº¤äº’ä¸‹,å¤„äº UI ä¸­çš„ DOM èŠ‚ç‚¹å°±å¯èƒ½æˆä¸ºä¸€ä¸ªä¸´ç•Œèµ„æº,<br>å‡è®¾å­˜åœ¨ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œä¸€ä¸ª DOM,ä¸€ä¸ªè´Ÿè´£ä¿®æ”¹ä¸€ä¸ªè´Ÿè´£åˆ é™¤,é‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±éœ€è¦æµè§ˆå™¨æ¥è£å†³å¦‚ä½•ç”Ÿæ•ˆå“ªä¸ªçº¿ç¨‹çš„æ‰§è¡Œç»“æœã€‚<br>å½“ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡é”æ¥è§£å†³ä¸Šé¢çš„é—®é¢˜ã€‚ä½†ä¸ºäº†é¿å…å› ä¸ºå¼•å…¥äº†é”è€Œå¸¦æ¥æ›´å¤§çš„å¤æ‚æ€§,Javascript åœ¨æœ€åˆå°±é€‰æ‹©äº†å•çº¿ç¨‹æ‰§è¡Œã€‚</p><h2 id="2-ä¸ºä»€ä¹ˆ-JS-é˜»å¡é¡µé¢åŠ è½½"><a href="#2-ä¸ºä»€ä¹ˆ-JS-é˜»å¡é¡µé¢åŠ è½½" class="headerlink" title="2. ä¸ºä»€ä¹ˆ JS é˜»å¡é¡µé¢åŠ è½½ ?"></a>2. ä¸ºä»€ä¹ˆ JS é˜»å¡é¡µé¢åŠ è½½ ?</h2><p>ç”±äº JavaScript æ˜¯å¯æ“çºµ DOM çš„,å¦‚æœåœ¨ä¿®æ”¹è¿™äº›å…ƒç´ å±æ€§åŒæ—¶æ¸²æŸ“ç•Œé¢ï¼ˆå³ JavaScript çº¿ç¨‹å’Œ UI çº¿ç¨‹åŒæ—¶è¿è¡Œï¼‰,é‚£ä¹ˆæ¸²æŸ“çº¿ç¨‹å‰åè·å¾—çš„å…ƒç´ æ•°æ®å°±å¯èƒ½ä¸ä¸€è‡´äº†ã€‚<br>å› æ­¤ä¸ºäº†é˜²æ­¢æ¸²æŸ“å‡ºç°ä¸å¯é¢„æœŸçš„ç»“æœ,æµè§ˆå™¨è®¾ç½® <code>GUI æ¸²æŸ“çº¿ç¨‹ä¸ JavaScript å¼•æ“ä¸ºäº’æ–¥çš„å…³ç³»</code>ã€‚<br>å½“ JavaScript å¼•æ“æ‰§è¡Œæ—¶ GUI çº¿ç¨‹ä¼šè¢«æŒ‚èµ·,GUI æ›´æ–°ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ç­‰åˆ°å¼•æ“çº¿ç¨‹ç©ºé—²æ—¶ç«‹å³è¢«æ‰§è¡Œã€‚<br>ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥æ¨ç†å‡º,ç”±äº GUI æ¸²æŸ“çº¿ç¨‹ä¸ JavaScript æ‰§è¡Œçº¿ç¨‹æ˜¯äº’æ–¥çš„å…³ç³»,<br>å½“æµè§ˆå™¨åœ¨æ‰§è¡Œ JavaScript ç¨‹åºçš„æ—¶å€™,GUI æ¸²æŸ“çº¿ç¨‹ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­,ç›´åˆ° JS ç¨‹åºæ‰§è¡Œå®Œæˆ,æ‰ä¼šæ¥ç€æ‰§è¡Œã€‚<br>å› æ­¤å¦‚æœ JS æ‰§è¡Œçš„æ—¶é—´è¿‡é•¿,è¿™æ ·å°±ä¼šé€ æˆé¡µé¢çš„æ¸²æŸ“ä¸è¿è´¯,å¯¼è‡´é¡µé¢æ¸²æŸ“åŠ è½½é˜»å¡çš„æ„Ÿè§‰ã€‚</p><h2 id="3-css-åŠ è½½ä¼šé€ æˆé˜»å¡å—-ï¼Ÿ"><a href="#3-css-åŠ è½½ä¼šé€ æˆé˜»å¡å—-ï¼Ÿ" class="headerlink" title="3. css åŠ è½½ä¼šé€ æˆé˜»å¡å— ï¼Ÿ"></a>3. css åŠ è½½ä¼šé€ æˆé˜»å¡å— ï¼Ÿ</h2><p>ç”±ä¸Šé¢æµè§ˆå™¨æ¸²æŸ“æµç¨‹æˆ‘ä»¬å¯ä»¥çœ‹å‡º :<br>DOM å’Œ CSSOM é€šå¸¸æ˜¯å¹¶è¡Œæ„å»ºçš„,<code>æ‰€ä»¥ CSS åŠ è½½ä¸ä¼šé˜»å¡ DOM çš„è§£æ</code>ã€‚<br>ç„¶è€Œ,ç”±äº Render Tree æ˜¯ä¾èµ–äº DOM Tree å’Œ CSSOM Tree çš„,<br>æ‰€ä»¥ä»–å¿…é¡»ç­‰å¾…åˆ° CSSOM Tree æ„å»ºå®Œæˆ,ä¹Ÿå°±æ˜¯ CSS èµ„æºåŠ è½½å®Œæˆ(æˆ–è€… CSS èµ„æºåŠ è½½å¤±è´¥)å,æ‰èƒ½å¼€å§‹æ¸²æŸ“ã€‚<br>å› æ­¤,<code>CSS åŠ è½½ä¼šé˜»å¡ Dom çš„æ¸²æŸ“</code>ã€‚<br>ç”±äº JavaScript æ˜¯å¯æ“çºµ DOM å’Œ css æ ·å¼ çš„,å¦‚æœåœ¨ä¿®æ”¹è¿™äº›å…ƒç´ å±æ€§åŒæ—¶æ¸²æŸ“ç•Œé¢ï¼ˆå³ JavaScript çº¿ç¨‹å’Œ UI çº¿ç¨‹åŒæ—¶è¿è¡Œï¼‰,é‚£ä¹ˆæ¸²æŸ“çº¿ç¨‹å‰åè·å¾—çš„å…ƒç´ æ•°æ®å°±å¯èƒ½ä¸ä¸€è‡´äº†ã€‚<br>å› æ­¤ä¸ºäº†é˜²æ­¢æ¸²æŸ“å‡ºç°ä¸å¯é¢„æœŸçš„ç»“æœ,æµè§ˆå™¨è®¾ç½® <code>GUI æ¸²æŸ“çº¿ç¨‹ä¸ JavaScript å¼•æ“ä¸ºäº’æ–¥çš„å…³ç³»</code>ã€‚<br>å› æ­¤,æ ·å¼è¡¨ä¼šåœ¨åé¢çš„ js æ‰§è¡Œå‰å…ˆåŠ è½½æ‰§è¡Œå®Œæ¯•,æ‰€ä»¥<code>css ä¼šé˜»å¡åé¢ js çš„æ‰§è¡Œ</code>ã€‚</p><h2 id="4-DOMContentLoaded-ä¸-load-çš„åŒºåˆ«"><a href="#4-DOMContentLoaded-ä¸-load-çš„åŒºåˆ«" class="headerlink" title="4,DOMContentLoaded ä¸ load çš„åŒºåˆ« ?"></a>4,DOMContentLoaded ä¸ load çš„åŒºåˆ« ?</h2><blockquote><ul><li>å½“ DOMContentLoaded äº‹ä»¶è§¦å‘æ—¶,ä»…å½“ DOM è§£æå®Œæˆå,ä¸åŒ…æ‹¬æ ·å¼è¡¨,å›¾ç‰‡ã€‚æˆ‘ä»¬å‰é¢æåˆ° CSS åŠ è½½ä¼šé˜»å¡ Dom çš„æ¸²æŸ“å’Œåé¢ js çš„æ‰§è¡Œ,js ä¼šé˜»å¡ Dom è§£æ,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°ç»“è®º:å½“æ–‡æ¡£ä¸­æ²¡æœ‰è„šæœ¬æ—¶,æµè§ˆå™¨è§£æå®Œæ–‡æ¡£ä¾¿èƒ½è§¦å‘ DOMContentLoaded äº‹ä»¶ã€‚å¦‚æœæ–‡æ¡£ä¸­åŒ…å«è„šæœ¬,åˆ™è„šæœ¬ä¼šé˜»å¡æ–‡æ¡£çš„è§£æ,è€Œè„šæœ¬éœ€è¦ç­‰ CSSOM æ„å»ºå®Œæˆæ‰èƒ½æ‰§è¡Œã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹,DOMContentLoaded çš„è§¦å‘ä¸éœ€è¦ç­‰å¾…å›¾ç‰‡ç­‰å…¶ä»–èµ„æºåŠ è½½å®Œæˆã€‚</li></ul></blockquote><blockquote><ul><li>å½“ onload äº‹ä»¶è§¦å‘æ—¶,é¡µé¢ä¸Šæ‰€æœ‰çš„ DOM,æ ·å¼è¡¨,è„šæœ¬,å›¾ç‰‡ç­‰èµ„æºå·²ç»åŠ è½½å®Œæ¯•ã€‚</li></ul></blockquote><blockquote><ul><li>DOMContentLoaded -&gt; loadã€‚</li></ul></blockquote><p><a href="https://juejin.im/post/5e143104e51d45414a4715f7#heading-21" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥</a></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™ä¼˜åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯ç±»ï¼Ÿ(class)</title>
      <link href="/2020/01/14/t-3/"/>
      <url>/2020/01/14/t-3/</url>
      
        <content type="html"><![CDATA[<p>ç±»(class)æ˜¯åœ¨ JS ä¸­ç¼–å†™æ„é€ å‡½æ•°çš„æ–°æ–¹æ³•ã€‚å®ƒæ˜¯ä½¿ç”¨æ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼Œåœ¨åº•å±‚ä¸­ä½¿ç”¨ä»ç„¶æ˜¯åŸå‹å’ŒåŸºäºåŸå‹çš„ç»§æ‰¿ã€‚</p><pre class=" language-js"><code class="language-js">   <span class="token comment" spellcheck="true">//ES5 Version</span>   <span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address<span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> firstName<span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName<span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address<span class="token punctuation">;</span>   <span class="token punctuation">}</span>   Person<span class="token punctuation">.</span>self <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>     <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span>   Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>     <span class="token keyword">return</span> <span class="token string">"[object Person]"</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span>   Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>getFullName <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>     <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>   <span class="token punctuation">}</span>  </code></pre><pre class=" language-js"><code class="language-js">   <span class="token comment" spellcheck="true">//ES6 Version</span>   <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>        <span class="token function">constructor</span><span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> firstName<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">static</span> <span class="token function">self</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>           <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>           <span class="token keyword">return</span> <span class="token string">"[object Person]"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>           <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>   <span class="token punctuation">}</span></code></pre><p>   é‡å†™æ–¹æ³•å¹¶ä»å¦ä¸€ä¸ªç±»ç»§æ‰¿ã€‚</p><pre class=" language-js"><code class="language-js">   <span class="token comment" spellcheck="true">//ES5 Version</span>Employee<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">Employee</span><span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address<span class="token punctuation">,</span> jobTitle<span class="token punctuation">,</span> yearStarted<span class="token punctuation">)</span> <span class="token punctuation">{</span>  Person<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>jobTitle <span class="token operator">=</span> jobTitle<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>yearStarted <span class="token operator">=</span> yearStarted<span class="token punctuation">;</span><span class="token punctuation">}</span>Employee<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>describe <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`I am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and I have a position of </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>jobTitle<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and I started at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>yearStarted<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span><span class="token punctuation">}</span>Employee<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token string">"[object Employee]"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//ES6 Version</span><span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//Inherits from "Person" class</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address<span class="token punctuation">,</span> jobTitle<span class="token punctuation">,</span> yearStarted<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>jobTitle <span class="token operator">=</span> jobTitle<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>yearStarted <span class="token operator">=</span> yearStarted<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`I am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and I have a position of </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>jobTitle<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and I started at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>yearStarted<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// Overriding the "toString" method of "Person"</span>    <span class="token keyword">return</span> <span class="token string">"[object Employee]"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>æ‰€ä»¥æˆ‘ä»¬è¦æ€ä¹ˆçŸ¥é“å®ƒåœ¨å†…éƒ¨ä½¿ç”¨åŸå‹ï¼Ÿ</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Something</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">AnotherSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">const</span> <span class="token keyword">as</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnotherSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Something</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Something<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "function"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> AnotherSomething<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "function"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">as</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "[object Object]"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">as</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "[object Object]"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">as</span><span class="token punctuation">.</span>toString <span class="token operator">===</span> Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>toString <span class="token operator">===</span> Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¯æ—¥ä¸€é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-Router v4</title>
      <link href="/2020/01/10/react/"/>
      <url>/2020/01/10/react/</url>
      
        <content type="html"><![CDATA[<p>è¯´åˆ° React æˆ‘ä»¬ä¸€å®šç¦»ä¸å¼€å’Œ Router æ‰“äº¤é“ã€‚ä¸ç®¡ Vue Router å’Œ React Router ï¼Œä»–ä»¬çš„åŸç†éƒ½æ˜¯å·®ä¸å¤šçš„ã€‚è¿™ç¯‡æ–‡ç« ä¼šä»ä¸€ä¸ªç®€å•çš„ä¾‹å­ä¸€ç›´æ‹“å±•åˆ°çœŸæ­£çš„ React Routerã€‚</p><h2 id="React-router"><a href="#React-router" class="headerlink" title="React-router"></a>React-router</h2><p>React Router æ˜¯ä¸“ä¸º React è®¾è®¡çš„è·¯ç”±è§£å†³æ–¹æ¡ˆã€‚å®ƒåˆ©ç”¨HTML5 çš„history APIï¼Œæ¥æ“ä½œæµè§ˆå™¨çš„ session history (ä¼šè¯å†å²)ã€‚</p><h2 id="React-è·¯ç”±"><a href="#React-è·¯ç”±" class="headerlink" title="React è·¯ç”±"></a>React è·¯ç”±</h2><p>React Routerè¢«æ‹†åˆ†æˆå››ä¸ªåŒ…ï¼š</p><blockquote><ul><li><code>react-router</code> å®ç°äº†è·¯ç”±çš„æ ¸å¿ƒåŠŸèƒ½ã€‚</li><li><code>react-router-dom</code> åŸºäºreact-routerï¼ŒåŠ å…¥äº†åœ¨æµè§ˆå™¨è¿è¡Œç¯å¢ƒä¸‹çš„ä¸€äº›åŠŸèƒ½ã€‚</li><li><code>react-router-native</code> åŸºäºreact-routerï¼ŒåŠ å…¥äº† React Native è¿è¡Œç¯å¢ƒä¸‹çš„ä¸€äº›åŠŸèƒ½</li><li><code>react-router-redux</code> React Router å’Œ Redux çš„é›†æˆ</li><li><code>react-router-config</code></li></ul></blockquote><p>react-routeræä¾›æ ¸å¿ƒçš„è·¯ç”±ç»„ä»¶ä¸å‡½æ•°ã€‚react-router-configç”¨æ¥é…ç½®é™æ€è·¯ç”±ï¼ˆè¿˜åœ¨å¼€å‘ä¸­ã€‚</p><p>è¿›è¡Œç½‘ç«™ï¼ˆå°†ä¼šè¿è¡Œåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼‰æ„å»ºï¼Œæˆ‘ä»¬åº”å½“å®‰è£…react-router-domã€‚å› ä¸ºreact-router-domå·²ç»æš´éœ²å‡ºreact-routerä¸­æš´éœ²çš„å¯¹è±¡ä¸æ–¹æ³•ï¼Œå› æ­¤ä½ åªéœ€è¦å®‰è£…å¹¶å¼•ç”¨react-router-domå³å¯ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>å¦‚ä¸Šæ‰€è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨reactå¼€å‘webåº”ç”¨ï¼Œæ‰€ä»¥åªéœ€è¦å®‰è£…react-router-domã€‚</p><pre class=" language-js"><code class="language-js">  npm install react<span class="token operator">-</span>router<span class="token operator">-</span>dom <span class="token operator">--</span>save</code></pre><h2 id="ç†è§£å’Œä½¿ç”¨react-router"><a href="#ç†è§£å’Œä½¿ç”¨react-router" class="headerlink" title="ç†è§£å’Œä½¿ç”¨react-router"></a>ç†è§£å’Œä½¿ç”¨react-router</h2><blockquote><ul><li><code>BrowserRouter</code>ï¼Œè¿™æ˜¯å¯¹<code>Router</code>æ¥å£çš„å®ç°ã€‚ä½¿å¾—é¡µé¢å’Œæµè§ˆå™¨çš„<code>history</code>ä¿æŒä¸€è‡´ã€‚å¦‚ï¼š<code>window.location</code>ã€‚</li><li><code>HashRouter</code>ï¼Œå’Œä¸Šé¢çš„ä¸€æ ·ï¼Œåªæ˜¯ä½¿ç”¨çš„æ˜¯urlçš„hashéƒ¨åˆ†ï¼Œæ¯”å¦‚ï¼š<code>window.location.hash</code>ã€‚</li><li><code>MemoryRouter</code>ï¼Œ</li><li><code>NativeRouter</code>ï¼Œå¤„ç†react nativeå†…çš„è·¯ç”±ã€‚</li><li><code>StaticRouter</code>ï¼Œå¤„ç†é™æ€è·¯ç”±ï¼Œå’Œv3ä¸€æ ·ã€‚</li></ul></blockquote><h3 id="BrowserRouter-vs-HashRouter"><a href="#BrowserRouter-vs-HashRouter" class="headerlink" title="BrowserRouter vs HashRouter"></a>BrowserRouter vs HashRouter</h3><p>åœ¨react-routerçš„å„ç§routerä¸­ï¼Œ<code>&lt;BrowserRouter&gt;</code>å’Œ<code>&lt;HashRouter&gt;</code>æ˜¯å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨çš„ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªéé™æ€çš„ç«™ç‚¹ã€è¦å¤„ç†å„ç§ä¸åŒçš„urlé‚£ä¹ˆä½ å°±éœ€è¦ä½¿ç”¨<code>BrowserRouter</code>ã€‚ç›¸åçš„å¦‚æœä½ çš„serveråªå¤„ç†é™æ€çš„urlï¼Œé‚£ä¹ˆå°±ä½¿ç”¨<code>HashRouter</code>ã€‚</p><h2 id="ç†è§£å’Œä½¿ç”¨Router"><a href="#ç†è§£å’Œä½¿ç”¨Router" class="headerlink" title="ç†è§£å’Œä½¿ç”¨Router"></a>ç†è§£å’Œä½¿ç”¨Router</h2><p>åœ¨4.0ä¹‹å‰ç‰ˆæœ¬çš„ API ä¸­ï¼Œ<code>&lt;Router&gt;</code> ç»„ä»¶çš„ children åªèƒ½æ˜¯ React Router æä¾›çš„å„ç§ç»„ä»¶ï¼Œå¦‚<code>&lt;Route&gt;</code>ã€<code>&lt;IndexRoute&gt;</code>ã€<code>&lt;Redirect&gt;</code>ç­‰ã€‚è€Œåœ¨ React Router 4 ä¸­ï¼Œä½ å¯ä»¥å°†å„ç§ç»„ä»¶åŠæ ‡ç­¾æ”¾è¿› <code>&lt;Router&gt;</code>ç»„ä»¶ä¸­ï¼Œä»–çš„è§’è‰²ä¹Ÿæ›´åƒæ˜¯ Redux ä¸­çš„ <code>&lt;Provider&gt;</code>ã€‚ä¸åŒçš„æ˜¯<code>&lt;Provider&gt;</code>æ˜¯ç”¨æ¥ä¿æŒä¸ store çš„æ›´æ–°ï¼Œè€Œ<code>&lt;Router&gt;</code>æ˜¯ç”¨æ¥ä¿æŒä¸ location çš„åŒæ­¥.</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ç¤ºä¾‹1</span><span class="token operator">&lt;</span>Router<span class="token operator">></span>    <span class="token operator">&lt;</span>div<span class="token operator">></span>      <span class="token operator">&lt;</span>ul<span class="token operator">></span>        <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">"/"</span><span class="token operator">></span>é¦–é¡µ<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>        <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">></span>å…³äº<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>        <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">"/topics"</span><span class="token operator">></span>ä¸»é¢˜åˆ—è¡¨<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>      <span class="token operator">&lt;</span>hr<span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">"/"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/topics"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Topics<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">></span></code></pre><p>Routeræ˜¯æ‰€æœ‰è·¯ç”±ç»„ä»¶å…±ç”¨çš„åº•å±‚æ¥å£ï¼Œä¸€èˆ¬æˆ‘ä»¬çš„åº”ç”¨å¹¶ä¸ä¼šä½¿ç”¨è¿™ä¸ªæ¥å£ï¼Œè€Œæ˜¯ä½¿ç”¨é«˜çº§çš„è·¯ç”±ï¼š</p><blockquote><ul><li><code>&lt;BrowserRouter&gt;</code>ï¼šè¿™æ˜¯ä¸€ä¸ªè·¯ç”±ç®¡ç†å™¨,ä½¿ç”¨ HTML5 æä¾›çš„ history API æ¥ä¿æŒ UI å’Œ URL çš„åŒæ­¥ï¼›</li><li><code>&lt;HashRouter&gt;</code>ï¼šä½¿ç”¨ URL çš„ hash (ä¾‹å¦‚ï¼šwindow.location.hash) æ¥ä¿æŒ UI å’Œ URL çš„åŒæ­¥ï¼›</li><li><code>&lt;MemoryRouter&gt;</code>ï¼šèƒ½åœ¨å†…å­˜ä¿å­˜ä½  â€œURLâ€ çš„å†å²çºªå½•(å¹¶æ²¡æœ‰å¯¹åœ°å€æ è¯»å†™)ï¼›</li><li><code>&lt;NativeRouter&gt;</code>ï¼šä¸ºä½¿ç”¨React Nativeæä¾›è·¯ç”±æ”¯æŒï¼›</li><li><code>&lt;StaticRouter&gt;</code>ï¼šä»ä¸ä¼šæ”¹å˜åœ°å€ï¼›</li></ul></blockquote><h2 id="ç†è§£å’Œä½¿ç”¨Route"><a href="#ç†è§£å’Œä½¿ç”¨Route" class="headerlink" title="ç†è§£å’Œä½¿ç”¨Route"></a>ç†è§£å’Œä½¿ç”¨Route</h2><p><code>&lt;Route&gt;</code>ç»„ä»¶æ˜¯react router v4é‡Œæœ€æœ‰ç”¨çš„ç»„ä»¶ã€‚èƒŒåçš„ä½¿ç”¨å“²å­¦ä¹Ÿå¾ˆç®€å•ï¼Œæ— è®ºä½•æ—¶ä½ éœ€è¦åœ¨åŒ¹é…æŸä¸ªè·¯å¾„çš„æ—¶å€™ç»˜åˆ¶ä¸€ä¸ªç»„ä»¶ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨<code>Route</code>ç»„ä»¶ã€‚</p><p><code>Route</code>ç»„ä»¶å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å±æ€§ï¼š</p><blockquote><ul><li><code>path</code>å±æ€§ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œå®ƒçš„å€¼å°±æ˜¯ç”¨æ¥åŒ¹é…urlçš„ã€‚</li><li><code>component</code>å±æ€§ï¼Œå®ƒçš„å€¼æ˜¯ä¸€ä¸ªç»„ä»¶ã€‚åœ¨pathåŒ¹é…æˆåŠŸä¹‹åä¼šç»˜åˆ¶è¿™ä¸ªç»„ä»¶ã€‚</li><li><code>exact</code>å±æ€§ï¼Œä¸ºtrueæ—¶ï¼Œåˆ™è¦æ±‚è·¯å¾„ä¸location.pathnameå¿…é¡»å®Œå…¨åŒ¹é…ã€‚</li><li><code>strict</code>å±æ€§ï¼Œä¸ºtrueçš„æ—¶å€™ï¼Œæœ‰ç»“å°¾æ–œçº¿çš„è·¯å¾„åªèƒ½åŒ¹é…æœ‰æ–œçº¿çš„location.pathnameã€‚</li></ul></blockquote><p>è¿˜æœ‰å…¶ä»–çš„ä¸€äº›å±æ€§ï¼Œå¯ä»¥ç”¨æ¥ä»£æ›¿<code>component</code>å±æ€§ã€‚</p><blockquote><ul><li><code>render</code>å±æ€§ï¼Œä¸€ä¸ªè¿”å›Reactç»„ä»¶çš„æ–¹æ³•ã€‚ä¼ è¯´ä¸­çš„rencer-propå°±æ˜¯ä»è¿™é‡Œæ¥çš„ã€‚</li><li><code>children</code>å±æ€§ï¼Œè¿”å›ä¸€ä¸ªReactç»„ä»¶çš„æ–¹æ³•ã€‚åªä¸è¿‡è¿™ä¸ªæ€»æ˜¯ä¼šç»˜åˆ¶ï¼Œå³ä½¿æ²¡æœ‰åŒ¹é…çš„è·¯å¾„çš„æ—¶å€™ã€‚</li></ul></blockquote><p>å¤šæ•°çš„æ—¶å€™æ˜¯ç”¨<code>component</code>å±æ€§å°±å¯ä»¥æ»¡è¶³ã€‚ä½†æ˜¯ï¼ŒæŸäº›æƒ…å†µä¸‹ä½ ä¸å¾—ä¸ä½¿ç”¨<code>render</code>æˆ–<code>children</code>å±æ€§ã€‚</p><blockquote><ul><li>match</li><li>location</li><li>history</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> FadingRoute <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> component<span class="token punctuation">,</span> <span class="token operator">...</span>rest <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>  <span class="token operator">&lt;</span>Route <span class="token punctuation">{</span><span class="token operator">...</span>rest<span class="token punctuation">}</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>    <span class="token operator">&lt;</span>FadeIn<span class="token operator">></span>      <span class="token operator">&lt;</span>componnet <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>FadeIn<span class="token operator">></span>  <span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">&lt;</span>Router<span class="token operator">></span>  <span class="token operator">&lt;</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">"/"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/news"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>NewsFeed<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/user"</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token operator">&lt;</span>div<span class="token operator">></span>UserPage<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>FadingRoute path<span class="token operator">=</span><span class="token string">"/others"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Something<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">></span><span class="token comment" spellcheck="true">// &lt;Route component>çš„ä¼˜å…ˆçº§è¦æ¯”&lt;Route render>é«˜ï¼Œæ‰€ä»¥ä¸è¦åœ¨åŒä¸€ä¸ª&lt;Route>ä¸­åŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªå±æ€§</span></code></pre><h3 id="exacté…ç½®ï¼š"><a href="#exacté…ç½®ï¼š" class="headerlink" title="exacté…ç½®ï¼š"></a>exacté…ç½®ï¼š</h3><table><thead><tr><th>è·¯å¾„</th><th align="right">location.pathname</th><th align="center">exact</th><th align="center">æ˜¯å¦åŒ¹é…</th></tr></thead><tbody><tr><td>/my</td><td align="right">/my/one</td><td align="center">true</td><td align="center">å¦</td></tr><tr><td>/my</td><td align="right">/my/one</td><td align="center">false</td><td align="center">æ˜¯</td></tr></tbody></table><h3 id="stricté…ç½®ï¼š"><a href="#stricté…ç½®ï¼š" class="headerlink" title="stricté…ç½®ï¼š"></a>stricté…ç½®ï¼š</h3><table><thead><tr><th>è·¯å¾„</th><th align="right">location.pathname</th><th align="center">strict</th><th align="center">æ˜¯å¦åŒ¹é…</th></tr></thead><tbody><tr><td>/my/</td><td align="right">/my</td><td align="center">true</td><td align="center">å¦</td></tr><tr><td>/my/</td><td align="right">/my/</td><td align="center">true</td><td align="center">æ˜¯</td></tr><tr><td>/my/</td><td align="right">/my/one</td><td align="center">true</td><td align="center">æ˜¯</td></tr></tbody></table><h2 id="ç†è§£å¹¶ä½¿ç”¨Link"><a href="#ç†è§£å¹¶ä½¿ç”¨Link" class="headerlink" title="ç†è§£å¹¶ä½¿ç”¨Link"></a>ç†è§£å¹¶ä½¿ç”¨Link</h2><p>ä½¿ç”¨<code>Link</code>å¯ä»¥åœ¨Reactåº”ç”¨çš„ä¸åŒé¡µé¢ä¹‹é—´è·³è½¬ã€‚ä¸unclorä¼šé‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ä¸åŒï¼Œ<code>Link</code>åªä¼šé‡æ–°åŠ è½½é¡µé¢é‡Œå’Œå½“å‰urlå¯ä»¥åŒ¹é…çš„éƒ¨åˆ†ã€‚</p><blockquote><ul><li>toï¼ˆstring/objectï¼‰ï¼šè¦è·³è½¬çš„è·¯å¾„æˆ–åœ°å€ï¼›</li><li>replaceï¼ˆboolï¼‰ï¼šä¸º true æ—¶ï¼Œç‚¹å‡»é“¾æ¥åå°†ä½¿ç”¨æ–°åœ°å€æ›¿æ¢æ‰è®¿é—®å†å²è®°å½•é‡Œé¢çš„åŸåœ°å€ï¼›ä¸º false æ—¶ï¼Œç‚¹å‡»é“¾æ¥åå°†åœ¨åŸæœ‰è®¿é—®å†å²è®°å½•çš„åŸºç¡€ä¸Šæ·»åŠ ä¸€ä¸ªæ–°çš„çºªå½•ã€‚é»˜è®¤ä¸º falseï¼›</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>  pathname<span class="token punctuation">:</span> <span class="token string">'/me'</span><span class="token punctuation">,</span>  search<span class="token punctuation">:</span> <span class="token string">'?sort=asc'</span><span class="token punctuation">,</span>  hash<span class="token punctuation">:</span> <span class="token string">'#hash'</span><span class="token punctuation">,</span>  state<span class="token punctuation">:</span> <span class="token punctuation">{</span> fromHome<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><p>å®ä¾‹:</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span><span class="token keyword">const</span> Nav <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>  <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">'/'</span><span class="token operator">></span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>  <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">></span>About<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>  <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">"/other"</span><span class="token operator">></span>Other<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>  <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">"/user"</span><span class="token operator">></span>User<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>  <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">"/my"</span><span class="token operator">></span>My<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>  <span class="token comment" spellcheck="true">// ç¦æ­¢è·³è½¬</span><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">'##'</span><span class="token operator">></span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>  <span class="token comment" spellcheck="true">// æ„æƒ³ä¸åˆ°çš„æ•ˆæœ</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="ä»€ä¹ˆæ˜¯NavLink"><a href="#ä»€ä¹ˆæ˜¯NavLink" class="headerlink" title="ä»€ä¹ˆæ˜¯NavLink"></a>ä»€ä¹ˆæ˜¯NavLink</h2><p><code>NavLink</code>æ˜¯<code>Link</code>çš„ä¸€ä¸ªå­ç±»ï¼Œåœ¨Linkç»„ä»¶çš„åŸºç¡€ä¸Šå¢åŠ äº†ç»˜åˆ¶ç»„ä»¶çš„æ ·å¼ï¼Œæ¯”å¦‚ï¼š</p><blockquote><ul><li>activeClassNameï¼ˆstringï¼‰ï¼šè®¾ç½®é€‰ä¸­æ ·å¼ï¼Œé»˜è®¤å€¼ä¸º activeï¼›</li><li>activeStyleï¼ˆobjectï¼‰ï¼šå½“å…ƒç´ è¢«é€‰ä¸­æ—¶, ä¸ºæ­¤å…ƒç´ æ·»åŠ æ ·å¼ï¼›</li><li>exactï¼ˆboolï¼‰ï¼šä¸º true æ—¶, åªæœ‰å½“åœ°å€å®Œå…¨åŒ¹é… class å’Œ style æ‰ä¼šåº”ç”¨ï¼›</li><li>strictï¼ˆboolï¼‰ï¼šä¸º true æ—¶ï¼Œåœ¨ç¡®å®šä½ç½®æ˜¯å¦ä¸å½“å‰ URL åŒ¹é…æ—¶ï¼Œå°†è€ƒè™‘ä½ç½® pathname åçš„æ–œçº¿ï¼›</li><li>isActiveï¼ˆfuncï¼‰ï¼šåˆ¤æ–­é“¾æ¥æ˜¯å¦æ¿€æ´»çš„é¢å¤–é€»è¾‘çš„åŠŸèƒ½ï¼›</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// activeClassNameé€‰ä¸­æ—¶æ ·å¼ä¸ºselected</span><span class="token operator">&lt;</span>NavLink  to<span class="token operator">=</span><span class="token string">"/faq"</span>  activeClassName<span class="token operator">=</span><span class="token string">"selected"</span><span class="token operator">></span>FAQs<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">></span><span class="token comment" spellcheck="true">// é€‰ä¸­æ—¶æ ·å¼ä¸ºactiveStyleçš„æ ·å¼è®¾ç½®</span><span class="token operator">&lt;</span>NavLink  to<span class="token operator">=</span><span class="token string">"/faq"</span>  activeStyle<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>    fontWeight<span class="token punctuation">:</span> <span class="token string">'bold'</span><span class="token punctuation">,</span>    color<span class="token punctuation">:</span> <span class="token string">'red'</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span>FAQs<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">></span><span class="token comment" spellcheck="true">// å½“event idä¸ºå¥‡æ•°çš„æ—¶å€™ï¼Œæ¿€æ´»é“¾æ¥</span><span class="token keyword">const</span> oddEvent <span class="token operator">=</span> <span class="token punctuation">(</span>match<span class="token punctuation">,</span> location<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token boolean">false</span>  <span class="token punctuation">}</span>  <span class="token keyword">const</span> eventID <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>match<span class="token punctuation">.</span>params<span class="token punctuation">.</span>eventID<span class="token punctuation">)</span>  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>eventID<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> eventID <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token operator">&lt;</span>NavLink  to<span class="token operator">=</span><span class="token string">"/events/123"</span>  isActive<span class="token operator">=</span><span class="token punctuation">{</span>oddEvent<span class="token punctuation">}</span><span class="token operator">></span>Event <span class="token number">123</span><span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">></span></code></pre><h2 id="Switchçš„ç”¨æ³•"><a href="#Switchçš„ç”¨æ³•" class="headerlink" title="Switchçš„ç”¨æ³•"></a>Switchçš„ç”¨æ³•</h2><p>ç»„ä»¶å’Œè¯­æ³•ä¸­çš„ <code>switch</code> åŠŸèƒ½ç±»ä¼¼ï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªåŒ¹é…çš„è·¯ç”±ã€‚è¿™ä¸ªé€»è¾‘å¾ˆç›´è§‚ä¹Ÿå°±æ˜¯æ’ä»–æ€§ï¼Œä¸»è¦è§£å†³ä½¿ç”¨å¤šä¸ª <code>&lt;Route&gt;</code> æ—¶å¤šä¸ªè·¯ç”±åŒæ—¶åŒ¹é…çš„é—®é¢˜ã€‚<br><code>&lt;Switch&gt;</code>çš„ç‹¬ç‰¹ä¹‹å¤„æ˜¯ç‹¬å®ƒä»…ä»…æ¸²æŸ“ä¸€ä¸ªè·¯ç”±ã€‚ç›¸ååœ°ï¼Œæ¯ä¸€ä¸ªåŒ…å«åŒ¹é…åœ°å€(location)çš„<code>&lt;Route&gt;</code>éƒ½ä¼šè¢«æ¸²æŸ“ã€‚<br>å®ä¾‹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/:user"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>User<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>Route component<span class="token operator">=</span><span class="token punctuation">{</span>NoMatch<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span></code></pre><p>å¦‚æœç°åœ¨çš„URLæ˜¯/aboutï¼Œé‚£ä¹ˆ<about>, <user>, è¿˜æœ‰<nomatch>éƒ½ä¼šè¢«æ¸²æŸ“ï¼Œå› ä¸ºå®ƒä»¬éƒ½ä¸è·¯å¾„(path)åŒ¹é…ã€‚è¿™ç§è®¾è®¡ï¼Œå…è®¸æˆ‘ä»¬ä»¥å¤šç§æ–¹å¼å°†å¤šä¸ª<route>ç»„åˆåˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ï¼Œä¾‹å¦‚ä¾§æ (sidebars)ï¼Œé¢åŒ…å±‘(breadcrumbs)ï¼Œbootstrap tabsç­‰ç­‰ã€‚ ç„¶è€Œï¼Œå¶å°”æˆ‘ä»¬åªæƒ³é€‰æ‹©ä¸€ä¸ª<route>æ¥æ¸²æŸ“ã€‚å¦‚æœæˆ‘ä»¬ç°åœ¨å¤„äº/aboutï¼Œæˆ‘ä»¬ä¹Ÿä¸å¸Œæœ›åŒ¹é…/:userï¼ˆæˆ–è€…æ˜¾ç¤ºæˆ‘ä»¬çš„ â€œ404â€ é¡µé¢ ï¼‰ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨ Switch çš„æ–¹æ³•æ¥å®ç°ï¼š</route></route></nomatch></user></about></p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Switch<span class="token operator">></span>  <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">"/"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/:user"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>User<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>Route component<span class="token operator">=</span><span class="token punctuation">{</span>NoMatch<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span></code></pre><h2 id="ä½¿ç”¨Redirectç»„ä»¶å®ç°é‡å®šå‘"><a href="#ä½¿ç”¨Redirectç»„ä»¶å®ç°é‡å®šå‘" class="headerlink" title="ä½¿ç”¨Redirectç»„ä»¶å®ç°é‡å®šå‘"></a>ä½¿ç”¨Redirectç»„ä»¶å®ç°é‡å®šå‘</h2><p>æ— è®ºä½•æ—¶ä½ è¦é‡å®šå‘åˆ°å¦å¤–ä¸€ä¸ªåœ°å€çš„æ—¶å€™ï¼Œéƒ½å¯ä»¥ä½¿ç”¨<code>Redirect</code>ç»„ä»¶ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">"register"</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><h2 id="æµè§ˆå™¨å†å²"><a href="#æµè§ˆå™¨å†å²" class="headerlink" title="æµè§ˆå™¨å†å²"></a>æµè§ˆå™¨å†å²</h2><p>react router v4ä¸­ï¼Œæä¾›äº†ä¸€ä¸ª<code>history</code>å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡åŒ…å«äº†å¤šä¸ªapiï¼Œå¯ä»¥ç”¨æ¥æ“ä½œæµè§ˆå™¨å†å²ç­‰ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥åœ¨Reactåº”ç”¨é‡Œä½¿ç”¨historyå¯¹è±¡çš„æ–¹æ³•ï¼š</p><pre class=" language-js"><code class="language-js">goMy <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"/my"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>goMy<span class="token punctuation">}</span><span class="token operator">></span>æˆ‘çš„<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">}</span></code></pre><p>ç”¨å¦å¤–çš„æ–¹æ³•å¯ä»¥å†™æˆï¼š</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">"/my"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">"my"</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><h2 id="ä½¿ç”¨react-router-domå®ç°ä½ çš„ç¬¬ä¸€ä¸ªdemo"><a href="#ä½¿ç”¨react-router-domå®ç°ä½ çš„ç¬¬ä¸€ä¸ªdemo" class="headerlink" title="ä½¿ç”¨react router domå®ç°ä½ çš„ç¬¬ä¸€ä¸ªdemo"></a>ä½¿ç”¨react router domå®ç°ä½ çš„ç¬¬ä¸€ä¸ªdemo</h2><p>ç°åœ¨æˆ‘ä»¬ç”¨react router domæ¥å®ç°ç¬¬ä¸€ä¸ªdemoã€‚</p><p>é¦–å…ˆï¼Œå¼•å…¥å¿…è¦çš„ç»„ä»¶ã€‚æ¯”å¦‚ï¼š<code>Route</code>å’Œ<code>BrowserRouter</code>ã€‚</p><p>å†™Appç»„ä»¶</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span><span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>  <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">></span>    <span class="token operator">&lt;</span>BaseLayout <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">></span><span class="token punctuation">)</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>æˆ‘ä»¬æ¥å·²åˆ›å»ºçš„ç»„ä»¶ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> BaseLayout <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"base"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>header<span class="token operator">></span>      <span class="token operator">&lt;</span>p<span class="token operator">></span>React Router v4 Browser Example<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>      <span class="token operator">&lt;</span>nav<span class="token operator">></span>        <span class="token operator">&lt;</span>ul<span class="token operator">></span>          <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link <span class="token operator">=</span><span class="token string">"/"</span><span class="token operator">></span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>          <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link <span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">></span>About<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>          <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link <span class="token operator">=</span><span class="token string">"/me"</span><span class="token operator">></span>Profile<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>          <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link <span class="token operator">=</span><span class="token string">"/login"</span><span class="token operator">></span>Login<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>          <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link <span class="token operator">=</span><span class="token string">"/register"</span><span class="token operator">></span>Register<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>          <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link <span class="token operator">=</span><span class="token string">"/contact"</span><span class="token operator">></span>Contact<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>nav<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">></span>    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/"</span> exact component<span class="token operator">=</span><span class="token punctuation">{</span>HomePage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>AboutPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/contact"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ContactPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/login"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>LoginPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/register"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>RegisterPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/me"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ProfilePage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span>footer<span class="token operator">></span>      React Router v4 Browser Example <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2017</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>footer<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>åŒæ—¶æˆ‘ä»¬ç”¨react router v4é‡Œçš„Linkå’ŒNavLinkç»„ä»¶ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> BaseLayout <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"base"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>header<span class="token operator">></span>      <span class="token operator">&lt;</span>p<span class="token operator">></span>React Router v4 Browser Example<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>      <span class="token operator">&lt;</span>nav<span class="token operator">></span>        <span class="token operator">&lt;</span>ul<span class="token operator">></span>          <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link <span class="token operator">=</span><span class="token string">"/"</span><span class="token operator">></span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>          <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link <span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">></span>About<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>          <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link <span class="token operator">=</span><span class="token string">"/me"</span><span class="token operator">></span>Profile<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>          <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link <span class="token operator">=</span><span class="token string">"/login"</span><span class="token operator">></span>Login<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>          <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link <span class="token operator">=</span><span class="token string">"/register"</span><span class="token operator">></span>Register<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>          <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token operator">&lt;</span>Link <span class="token operator">=</span><span class="token string">"/contact"</span><span class="token operator">></span>Contact<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>nav<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">></span>    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/"</span> exact component<span class="token operator">=</span><span class="token punctuation">{</span>HomePage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/about"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>AboutPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/contact"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ContactPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/login"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>LoginPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/register"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>RegisterPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/me"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ProfilePage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span>footer<span class="token operator">></span>      React Router v4 Browser Example <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2017</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>footer<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å‚è€ƒåœ°å€:</p><p><a href="https://www.techiediaries.com/react-router-dom-v4/" target="_blank" rel="noopener">react router 4</a>;<br><a href="https://juejin.im/post/5d6352116fb9a06ae8361932#heading-33" target="_blank" rel="noopener">Runä¸˜æ¯”ç‰¹-æ˜é‡‘</a>;</p>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSæ•°ç»„reduce()</title>
      <link href="/2020/01/07/t-2/"/>
      <url>/2020/01/07/t-2/</url>
      
        <content type="html"><![CDATA[<h2 id="1ã€è¯­æ³•"><a href="#1ã€è¯­æ³•" class="headerlink" title="1ã€è¯­æ³•"></a>1ã€è¯­æ³•</h2><p><code>reduce()</code> æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼ï¼ˆä»å·¦åˆ°å³ï¼‰å¼€å§‹ç¼©å‡ï¼Œæœ€ç»ˆè®¡ç®—ä¸ºä¸€ä¸ªå€¼ã€‚</p><p><code>reduce()</code> å¯ä»¥ä½œä¸ºä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œç”¨äºå‡½æ•°çš„ composeã€‚</p><blockquote><ul><li>æ³¨æ„: reduce() å¯¹äºç©ºæ•°ç»„æ˜¯ä¸ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°çš„ã€‚</li></ul></blockquote><pre class=" language-js"><code class="language-js">array<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> currentValue<span class="token punctuation">,</span> currentIndex<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">,</span> initialValue<span class="token punctuation">)</span><span class="token punctuation">;</span>callback ï¼ˆæ‰§è¡Œæ•°ç»„ä¸­æ¯ä¸ªå€¼çš„å‡½æ•°ï¼ŒåŒ…å«å››ä¸ªå‚æ•°ï¼‰    <span class="token number">1</span>ã€total ï¼ˆä¸Šä¸€æ¬¡è°ƒç”¨å›è°ƒè¿”å›çš„å€¼ï¼Œæˆ–è€…æ˜¯æä¾›çš„åˆå§‹å€¼ï¼ˆinitialValueï¼‰ï¼‰å¿…éœ€    <span class="token number">2</span>ã€currentValue ï¼ˆæ•°ç»„ä¸­å½“å‰è¢«å¤„ç†çš„å…ƒç´ ï¼‰å¿…éœ€    <span class="token number">3</span>ã€currentIndex ï¼ˆå½“å‰å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ï¼‰å¯é€‰    <span class="token number">4</span>ã€arr ï¼ˆè°ƒç”¨ reduce çš„æ•°ç»„ï¼‰å¯é€‰initialValue ï¼ˆä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ callback çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ï¼‰</code></pre><h2 id="2-å®ä¾‹è§£æ-initialValue-å‚æ•°"><a href="#2-å®ä¾‹è§£æ-initialValue-å‚æ•°" class="headerlink" title="2 å®ä¾‹è§£æ initialValue å‚æ•°"></a>2 å®ä¾‹è§£æ initialValue å‚æ•°</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> sum <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> prev <span class="token operator">+</span> cur<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// æ‰“å°ç»“æœï¼š</span><span class="token comment" spellcheck="true">// 1 2 1</span><span class="token comment" spellcheck="true">// 3 3 2</span><span class="token comment" spellcheck="true">// 6 4 3</span><span class="token comment" spellcheck="true">// [1, 2, 3, 4] 10</span></code></pre><p>è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œä¸Šé¢çš„ä¾‹å­indexæ˜¯ä»1å¼€å§‹çš„ï¼Œç¬¬ä¸€æ¬¡çš„prevçš„å€¼æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå€¼ã€‚æ•°ç»„é•¿åº¦æ˜¯4ï¼Œä½†æ˜¯reduceå‡½æ•°å¾ªç¯3æ¬¡ã€‚</p><blockquote><ul><li>å†çœ‹ç¬¬äºŒä¸ªä¾‹å­ï¼š</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span>  arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> sum <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> prev <span class="token operator">+</span> cur<span class="token punctuation">;</span><span class="token punctuation">}</span>ï¼Œ<span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//æ³¨æ„è¿™é‡Œè®¾ç½®äº†åˆå§‹å€¼</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// æ‰“å°ç»“æœï¼š</span><span class="token comment" spellcheck="true">// 0 1 0</span><span class="token comment" spellcheck="true">// 1 2 1</span><span class="token comment" spellcheck="true">// 3 3 2</span><span class="token comment" spellcheck="true">// 6 4 3</span><span class="token comment" spellcheck="true">// [1, 2, 3, 4] 10</span></code></pre><p>è¿™ä¸ªä¾‹å­indexæ˜¯ä»0å¼€å§‹çš„ï¼Œç¬¬ä¸€æ¬¡çš„prevçš„å€¼æ˜¯æˆ‘ä»¬è®¾ç½®çš„åˆå§‹å€¼0ï¼Œæ•°ç»„é•¿åº¦æ˜¯4ï¼Œreduceå‡½æ•°å¾ªç¯4æ¬¡ã€‚</p><blockquote><ul><li>ç»“è®ºï¼šå¦‚æœæ²¡æœ‰æä¾›initialValueï¼Œreduce ä¼šä»ç´¢å¼•1çš„åœ°æ–¹å¼€å§‹æ‰§è¡Œ callback æ–¹æ³•ï¼Œè·³è¿‡ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚å¦‚æœæä¾›initialValueï¼Œä»ç´¢å¼•0å¼€å§‹ã€‚</li></ul></blockquote><p>æ³¨æ„ï¼šå¦‚æœè¿™ä¸ªæ•°ç»„ä¸ºç©ºï¼Œè¿ç”¨reduceæ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span>  arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> sum <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> prev <span class="token operator">+</span> cur<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//æŠ¥é”™ï¼Œ"TypeError: Reduce of empty array with no initial value"</span></code></pre><p>ä½†æ˜¯è¦æ˜¯æˆ‘ä»¬è®¾ç½®äº†åˆå§‹å€¼å°±ä¸ä¼šæŠ¥é”™ï¼Œå¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span>  arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> sum <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> prev <span class="token operator">+</span> cur<span class="token punctuation">;</span><span class="token punctuation">}</span>ï¼Œ<span class="token number">0</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [] 0</span></code></pre><h2 id="3ã€reduceçš„ç®€å•ç”¨æ³•"><a href="#3ã€reduceçš„ç®€å•ç”¨æ³•" class="headerlink" title="3ã€reduceçš„ç®€å•ç”¨æ³•"></a>3ã€reduceçš„ç®€å•ç”¨æ³•</h2><p>å½“ç„¶æœ€ç®€å•çš„å°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„æ•°ç»„æ±‚å’Œï¼Œæ±‚ä¹˜ç§¯äº†ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> sum <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">redece</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> x<span class="token operator">+</span>y <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> mul <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">redece</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> x<span class="token operator">*</span>y <span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> sum <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//æ±‚å’Œï¼Œ10</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> mul <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//æ±‚ä¹˜ç§¯ï¼Œ24</span></code></pre><h2 id="4ã€reduceçš„é«˜çº§ç”¨æ³•"><a href="#4ã€reduceçš„é«˜çº§ç”¨æ³•" class="headerlink" title="4ã€reduceçš„é«˜çº§ç”¨æ³•"></a>4ã€reduceçš„é«˜çº§ç”¨æ³•</h2><h3 id="ï¼ˆ1ï¼‰è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°"><a href="#ï¼ˆ1ï¼‰è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°" class="headerlink" title="ï¼ˆ1ï¼‰è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°"></a>ï¼ˆ1ï¼‰è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> color <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span><span class="token string">'blue'</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">,</span><span class="token string">'red'</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">,</span><span class="token string">'red'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> colorNum <span class="token operator">=</span> color<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span>cur<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>cur <span class="token keyword">in</span> pre<span class="token punctuation">)</span><span class="token punctuation">{</span>        pre<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token operator">++</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>        pre<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> pre<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colorNum<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// {red: 3, blue: 1, green: 2}</span></code></pre><h3 id="ï¼ˆ2ï¼‰æ•°ç»„å»é‡"><a href="#ï¼ˆ2ï¼‰æ•°ç»„å»é‡" class="headerlink" title="ï¼ˆ2ï¼‰æ•°ç»„å»é‡"></a>ï¼ˆ2ï¼‰æ•°ç»„å»é‡</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span>cur<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>pre<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token keyword">return</span> pre<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>      <span class="token keyword">return</span> pre    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// [1, 2, 3, 4]</span></code></pre><h3 id="ï¼ˆ3ï¼‰å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´"><a href="#ï¼ˆ3ï¼‰å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´" class="headerlink" title="ï¼ˆ3ï¼‰å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´"></a>ï¼ˆ3ï¼‰å°†äºŒç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span>cur<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>    <span class="token keyword">return</span> pre<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [0, 1, 2, 3, 4, 5]</span></code></pre><h3 id="ï¼ˆ3ï¼‰å°†å¤šç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´"><a href="#ï¼ˆ3ï¼‰å°†å¤šç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´" class="headerlink" title="ï¼ˆ3ï¼‰å°†å¤šç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´"></a>ï¼ˆ3ï¼‰å°†å¤šç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token keyword">const</span> newArr <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span>cur<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span>pre<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token operator">?</span><span class="token function">newArr</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">:</span>cur<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">newArr</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[0, 1, 2, 3, 4, 5, 6, 7]</span></code></pre><h3 id="ï¼ˆ4ï¼‰ã€å¯¹è±¡é‡Œçš„å±æ€§æ±‚å’Œ"><a href="#ï¼ˆ4ï¼‰ã€å¯¹è±¡é‡Œçš„å±æ€§æ±‚å’Œ" class="headerlink" title="ï¼ˆ4ï¼‰ã€å¯¹è±¡é‡Œçš„å±æ€§æ±‚å’Œ"></a>ï¼ˆ4ï¼‰ã€å¯¹è±¡é‡Œçš„å±æ€§æ±‚å’Œ</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span>        subject<span class="token punctuation">:</span> <span class="token string">'math'</span><span class="token punctuation">,</span>        score<span class="token punctuation">:</span> <span class="token number">10</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        subject<span class="token punctuation">:</span> <span class="token string">'chinese'</span><span class="token punctuation">,</span>        score<span class="token punctuation">:</span> <span class="token number">20</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        subject<span class="token punctuation">:</span> <span class="token string">'english'</span><span class="token punctuation">,</span>        score<span class="token punctuation">:</span> <span class="token number">30</span>    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> sum <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span> cur<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> cur<span class="token punctuation">.</span>score <span class="token operator">+</span> pre<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//60</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¯æ—¥ä¸€é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¢ç»¿ç¯ä¸æ–­äº¤æ›¿é‡å¤äº®ç¯</title>
      <link href="/2020/01/07/t-1/"/>
      <url>/2020/01/07/t-1/</url>
      
        <content type="html"><![CDATA[<p>çº¢ç¯ä¸‰ç§’äº®ä¸€æ¬¡ï¼Œç»¿ç¯ä¸€ç§’äº®ä¸€æ¬¡ï¼Œé»„ç¯2ç§’äº®ä¸€æ¬¡ï¼›å¦‚ä½•è®©ä¸‰ä¸ªç¯ä¸æ–­äº¤æ›¿é‡å¤äº®ç¯ ï¼Ÿ</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">red</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">green</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'green'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">yellow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'yellow'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> light <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>timmer<span class="token punctuation">,</span> cb<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> timmer<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> step <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">light</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> red<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">light</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span> green<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">light</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> yellow<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¯æ—¥ä¸€é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> promise </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cssæ¸…é™¤æµ®åŠ¨æ–¹æ³•ï¼ˆ9ç§æ–¹æ³•ï¼‰</title>
      <link href="/2020/01/06/css/"/>
      <url>/2020/01/06/css/</url>
      
        <content type="html"><![CDATA[<p>æµ®åŠ¨çš„å®šä¹‰ï¼šä½¿å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼ŒæŒ‰ç…§æŒ‡å®šæ–¹å‘å‘ç”Ÿç§»åŠ¨ï¼Œé‡åˆ°çˆ¶çº§è¾¹ç•Œæˆ–è€…ç›¸é‚»çš„æµ®åŠ¨å…ƒç´ åœäº†ä¸‹æ¥ã€‚</p><h4 id="ä¸ºä»€ä¹ˆè¦æ¸…é™¤æµ®åŠ¨ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦æ¸…é™¤æµ®åŠ¨ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æ¸…é™¤æµ®åŠ¨ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦æ¸…é™¤æµ®åŠ¨ï¼Ÿ</h4><p>æ¸…é™¤æµ®åŠ¨ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ï¼Œçˆ¶å…ƒç´ å› ä¸ºå­çº§å…ƒç´ æµ®åŠ¨å¼•èµ·çš„å†…éƒ¨é«˜åº¦ä¸º0çš„é—®é¢˜å½“çˆ¶å…ƒç´ ä¸ç»™é«˜åº¦çš„æ—¶å€™ï¼Œå†…éƒ¨å…ƒç´ ä¸æµ®åŠ¨æ—¶ä¼šæ’‘å¼€ï¼Œè€Œæµ®åŠ¨çš„æ—¶å€™ï¼Œçˆ¶å…ƒç´ å˜æˆä¸€æ¡çº¿</p><p>clearï¼šbothï¼šåœ¨å·¦å³ä¸¤ä¾§å‡ä¸å…è®¸æµ®åŠ¨å…ƒç´ ã€‚æœ¬è´¨å°±æ˜¯é—­åˆæµ®åŠ¨ï¼Œ å°±æ˜¯è®©çˆ¶ç›’å­é—­åˆå‡ºå£å’Œå…¥å£ï¼Œä¸è®©å­ç›’å­å‡ºæ¥</p><p>clear:left | right | both | none | inheritï¼šå…ƒç´ çš„æŸä¸ªæ–¹å‘ä¸Šä¸èƒ½æœ‰æµ®åŠ¨å…ƒç´ <br>å¦‚æœæˆ‘ä»¬æ¸…é™¤äº†æµ®åŠ¨ï¼Œçˆ¶å…ƒç´ è‡ªåŠ¨æ£€æµ‹å­ç›’å­æœ€é«˜çš„é«˜åº¦ï¼Œç„¶åä¸å…¶åŒé«˜ã€‚</p><p>é«˜åº¦å¡Œé™·ï¼šå¦‚æœçˆ¶å…ƒç´ åªåŒ…å«æµ®åŠ¨å…ƒç´ ï¼Œä¸”çˆ¶å…ƒç´ æœªè®¾ç½®é«˜åº¦å’Œå®½åº¦çš„æ—¶å€™ã€‚é‚£ä¹ˆå®ƒçš„é«˜åº¦å°±ä¼šå¡Œç¼©ä¸ºé›¶</p><h4 id="é¡µé¢ç»“æ„"><a href="#é¡µé¢ç»“æ„" class="headerlink" title="é¡µé¢ç»“æ„"></a>é¡µé¢ç»“æ„</h4><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"div1"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"left"</span><span class="token operator">></span>Left<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span>Right<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"clearfloat"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"div2"</span><span class="token operator">></span>    div2<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></code></pre><h3 id="1-çˆ¶çº§divå®šä¹‰ä¼ªç±»ï¼šafterå’Œzoom"><a href="#1-çˆ¶çº§divå®šä¹‰ä¼ªç±»ï¼šafterå’Œzoom" class="headerlink" title="1.çˆ¶çº§divå®šä¹‰ä¼ªç±»ï¼šafterå’Œzoom"></a>1.çˆ¶çº§divå®šä¹‰ä¼ªç±»ï¼šafterå’Œzoom</h3><p>ä¸‡èƒ½æ¸…é™¤æ³• afterä¼ªç±» æ¸…æµ®åŠ¨</p><blockquote><ul><li>åŸç†ï¼šIE8ä»¥ä¸Šå’ŒéIEæµè§ˆå™¨æ‰æ”¯æŒ:afterï¼ŒåŸç†å’Œæ–¹æ³•2æœ‰ç‚¹ç±»ä¼¼ï¼Œzoom(IEè½¬æœ‰å±æ€§)å¯è§£å†³ie6,ie7æµ®åŠ¨é—®é¢˜</li></ul></blockquote><blockquote><ul><li>ç¼ºç‚¹ï¼šie6-7ä¸æ”¯æŒä¼ªå…ƒç´ ï¼šafterï¼Œä½¿ç”¨zoom:1è§¦å‘hasLayout.</li></ul></blockquote><pre class=" language-css"><code class="language-css">    <span class="token selector"><span class="token class">.div1</span></span><span class="token punctuation">{</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#000080</span><span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span><span class="token number">1</span>px solid red<span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.div2</span></span><span class="token punctuation">{</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#800080</span><span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span><span class="token number">1</span>px solid red<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">100</span>px<span class="token punctuation">;</span><span class="token property">margin-top</span><span class="token punctuation">:</span><span class="token number">10</span>px<span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.left</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span>left<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span><span class="token number">20%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">200</span>px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#DDD</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.right</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span>right<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span><span class="token number">30%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">80</span>px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#DDD</span><span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/*æ¸…é™¤æµ®åŠ¨ä»£ç */</span><span class="token selector"><span class="token class">.clearfloat</span><span class="token pseudo-element">:after</span></span><span class="token punctuation">{</span><span class="token property">display</span><span class="token punctuation">:</span>block<span class="token punctuation">;</span><span class="token property">clear</span><span class="token punctuation">:</span>both<span class="token punctuation">;</span><span class="token property">content</span><span class="token punctuation">:</span><span class="token string">""</span><span class="token punctuation">;</span><span class="token property">visibility</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.clearfloat</span></span><span class="token punctuation">{</span><span class="token property">zoom</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span></code></pre><h3 id="2-ä½¿ç”¨beforeå’ŒafteråŒä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨"><a href="#2-ä½¿ç”¨beforeå’ŒafteråŒä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨" class="headerlink" title="2.ä½¿ç”¨beforeå’ŒafteråŒä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨"></a>2.ä½¿ç”¨beforeå’ŒafteråŒä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨</h3><pre class=" language-css"><code class="language-css">    <span class="token selector"><span class="token class">.div1</span></span><span class="token punctuation">{</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#000080</span><span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span><span class="token number">1</span>px solid red<span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.div2</span></span><span class="token punctuation">{</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#800080</span><span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span><span class="token number">1</span>px solid red<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">100</span>px<span class="token punctuation">;</span><span class="token property">margin-top</span><span class="token punctuation">:</span><span class="token number">10</span>px<span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.left</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span>left<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span><span class="token number">20%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">200</span>px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#DDD</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.right</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span>right<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span><span class="token number">30%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">80</span>px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#DDD</span><span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/*æ¸…é™¤æµ®åŠ¨ä»£ç */</span>    <span class="token selector"><span class="token class">.clearfloat</span><span class="token pseudo-element">:after</span>, <span class="token class">.clearfloat</span><span class="token pseudo-element">:before</span> </span><span class="token punctuation">{</span><span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span> <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.clearfloat</span><span class="token pseudo-element">:after</span> </span><span class="token punctuation">{</span><span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.clearfloat</span> </span><span class="token punctuation">{</span>*<span class="token property">zoom</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="3-åœ¨ç»“å°¾å¤„æ·»åŠ ç©ºdivæ ‡ç­¾clear-both"><a href="#3-åœ¨ç»“å°¾å¤„æ·»åŠ ç©ºdivæ ‡ç­¾clear-both" class="headerlink" title="3.åœ¨ç»“å°¾å¤„æ·»åŠ ç©ºdivæ ‡ç­¾clear:both"></a>3.åœ¨ç»“å°¾å¤„æ·»åŠ ç©ºdivæ ‡ç­¾clear:both</h3><blockquote><ul><li>åŸç†ï¼šæ·»åŠ ä¸€ä¸ªç©ºdivï¼Œåˆ©ç”¨cssæé«˜çš„clear:bothæ¸…é™¤æµ®åŠ¨ï¼Œè®©çˆ¶çº§divèƒ½è‡ªåŠ¨è·å–åˆ°é«˜åº¦</li><li>ç¼ºç‚¹ï¼šå¦‚æœé¡µé¢æµ®åŠ¨å¸ƒå±€å¤šï¼Œå°±è¦å¢åŠ å¾ˆå¤šç©ºdivï¼Œè®©äººæ„Ÿè§‰å¾ˆä¸çˆ½, ç¼ºç‚¹ï¼šæ·»åŠ æ— æ„ä¹‰æ ‡ç­¾ï¼Œè¯­ä¹‰åŒ–å·®</li></ul></blockquote><pre class=" language-css"><code class="language-css">    <span class="token selector"><span class="token class">.div1</span></span><span class="token punctuation">{</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#000080</span><span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span><span class="token number">1</span>px solid red<span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.div2</span></span><span class="token punctuation">{</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#800080</span><span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span><span class="token number">1</span>px solid red<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">100</span>px<span class="token punctuation">;</span> <span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.left</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span>left<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span><span class="token number">20%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">200</span>px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#DDD</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.right</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span>right<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span><span class="token number">30%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">80</span>px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#DDD</span><span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/*æ¸…é™¤æµ®åŠ¨ä»£ç */</span>    <span class="token selector"><span class="token class">.clearfloat</span></span><span class="token punctuation">{</span><span class="token property">clear</span><span class="token punctuation">:</span>both<span class="token punctuation">}</span></code></pre><h3 id="4-çˆ¶çº§divå®šä¹‰height"><a href="#4-çˆ¶çº§divå®šä¹‰height" class="headerlink" title="4.çˆ¶çº§divå®šä¹‰height"></a>4.çˆ¶çº§divå®šä¹‰height</h3><blockquote><ul><li>åŸç†ï¼šçˆ¶çº§divæ‰‹åŠ¨å®šä¹‰heightï¼Œå°±è§£å†³äº†çˆ¶çº§divæ— æ³•è‡ªåŠ¨è·å–åˆ°é«˜åº¦çš„é—®é¢˜</li><li>ç¼ºç‚¹ï¼šåªé€‚åˆé«˜åº¦å›ºå®šçš„å¸ƒå±€ï¼Œè¦ç»™å‡ºç²¾ç¡®çš„é«˜åº¦ï¼Œå¦‚æœé«˜åº¦å’Œçˆ¶çº§divä¸ä¸€æ ·æ—¶ï¼Œä¼šäº§ç”Ÿé—®é¢˜ å»ºè®®ï¼šä¸æ¨èä½¿ç”¨ï¼Œåªå»ºè®®é«˜åº¦å›ºå®šçš„å¸ƒå±€æ—¶ä½¿ç”¨</li></ul></blockquote><pre class=" language-css"><code class="language-css">    <span class="token selector"><span class="token class">.div1</span></span><span class="token punctuation">{</span>        <span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#000080</span><span class="token punctuation">;</span>        <span class="token property">border</span><span class="token punctuation">:</span><span class="token number">1</span>px solid red<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">/*è§£å†³ä»£ç */</span>        <span class="token property">height</span><span class="token punctuation">:</span><span class="token number">200</span>px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.div2</span></span><span class="token punctuation">{</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#800080</span><span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span><span class="token number">1</span>px solid red<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">100</span>px<span class="token punctuation">;</span> <span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.left</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span>left<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span><span class="token number">20%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">200</span>px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#DDD</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.right</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span>right<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span><span class="token number">30%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">80</span>px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#DDD</span><span class="token punctuation">}</span></code></pre><h3 id="5-çˆ¶çº§divå®šä¹‰overflow-hidden"><a href="#5-çˆ¶çº§divå®šä¹‰overflow-hidden" class="headerlink" title="5.çˆ¶çº§divå®šä¹‰overflow:hidden"></a>5.çˆ¶çº§divå®šä¹‰overflow:hidden</h3><p>é€šè¿‡è§¦å‘BFCæ–¹å¼ï¼Œå®ç°æ¸…é™¤æµ®åŠ¨å†…å®¹å¢å¤šçš„æ—¶å€™å®¹æ˜“é€ æˆä¸ä¼šè‡ªåŠ¨æ¢è¡Œå¯¼è‡´å†…å®¹è¢«éšè—æ‰ï¼Œæ— æ³•æ˜¾ç¤ºè¦æº¢å‡ºçš„å…ƒç´ </p><blockquote><ul><li>åŸç†ï¼šå¿…é¡»å®šä¹‰widthæˆ–zoom:1ï¼ŒåŒæ—¶ä¸èƒ½å®šä¹‰heightï¼Œä½¿ç”¨overflow:hiddenæ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ£€æŸ¥æµ®åŠ¨åŒºåŸŸçš„é«˜åº¦  </li><li>ç¼ºç‚¹ï¼šä¸èƒ½å’Œpositioné…åˆä½¿ç”¨ï¼Œå› ä¸ºè¶…å‡ºçš„å°ºå¯¸çš„ä¼šè¢«éšè— </li><li>å»ºè®®ï¼šåªæ¨èæ²¡æœ‰ä½¿ç”¨positionæˆ–å¯¹overflow:hiddenç†è§£æ¯”è¾ƒæ·±çš„æœ‹å‹ä½¿ç”¨</li></ul></blockquote><pre class=" language-css"><code class="language-css">    <span class="token selector"><span class="token class">.div1</span></span><span class="token punctuation">{</span>        <span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#000080</span><span class="token punctuation">;</span>        <span class="token property">border</span><span class="token punctuation">:</span><span class="token number">1</span>px solid red<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">/*è§£å†³ä»£ç */</span>        <span class="token property">width</span><span class="token punctuation">:</span><span class="token number">98%</span><span class="token punctuation">;</span>        <span class="token property">overflow</span><span class="token punctuation">:</span>hidden    <span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.div2</span></span><span class="token punctuation">{</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#800080</span><span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span><span class="token number">1</span>px solid red<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">100</span>px<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span><span class="token number">98%</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.left</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span>left<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span><span class="token number">20%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">200</span>px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#DDD</span><span class="token punctuation">}</span>    <span class="token selector"><span class="token class">.right</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span>right<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span><span class="token number">30%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">80</span>px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#DDD</span><span class="token punctuation">}</span></code></pre><h3 id="6-çˆ¶çº§divå®šä¹‰overflow-auto"><a href="#6-çˆ¶çº§divå®šä¹‰overflow-auto" class="headerlink" title="6.çˆ¶çº§divå®šä¹‰overflow:auto"></a>6.çˆ¶çº§divå®šä¹‰overflow:auto</h3><blockquote><ul><li>åŸç†ï¼šå¿…é¡»å®šä¹‰widthæˆ–zoom:1ï¼ŒåŒæ—¶ä¸èƒ½å®šä¹‰heightï¼Œä½¿ç”¨overflow:autoæ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ£€æŸ¥æµ®åŠ¨åŒºåŸŸçš„é«˜åº¦     </li><li>ç¼ºç‚¹ï¼šå†…éƒ¨å®½é«˜è¶…è¿‡çˆ¶çº§divæ—¶ï¼Œä¼šå‡ºç°æ»šåŠ¨æ¡ã€‚ </li><li>å»ºè®®ï¼šä¸æ¨èä½¿ç”¨ï¼Œå¦‚æœä½ éœ€è¦å‡ºç°æ»šåŠ¨æ¡æˆ–è€…ç¡®ä¿ä½ çš„ä»£ç ä¸ä¼šå‡ºç°æ»šåŠ¨æ¡å°±ä½¿ç”¨å§ã€‚</li></ul></blockquote><h3 id="7-çˆ¶çº§divä¹Ÿä¸€èµ·æµ®åŠ¨"><a href="#7-çˆ¶çº§divä¹Ÿä¸€èµ·æµ®åŠ¨" class="headerlink" title="7.çˆ¶çº§divä¹Ÿä¸€èµ·æµ®åŠ¨"></a>7.çˆ¶çº§divä¹Ÿä¸€èµ·æµ®åŠ¨</h3><blockquote><p>-åŸç†ï¼šæ‰€æœ‰ä»£ç ä¸€èµ·æµ®åŠ¨ï¼Œå°±å˜æˆäº†ä¸€ä¸ªæ•´ä½“ ä¼˜ç‚¹ï¼šæ²¡æœ‰ä¼˜ç‚¹<br>-ç¼ºç‚¹ï¼šä¼šäº§ç”Ÿæ–°çš„æµ®åŠ¨é—®é¢˜ã€‚ å»ºè®®ï¼šä¸æ¨èä½¿ç”¨ï¼Œåªä½œäº†è§£ã€‚</p></blockquote><h3 id="8-çˆ¶çº§divå®šä¹‰display-table"><a href="#8-çˆ¶çº§divå®šä¹‰display-table" class="headerlink" title="8.çˆ¶çº§divå®šä¹‰display:table"></a>8.çˆ¶çº§divå®šä¹‰display:table</h3><blockquote><ul><li>åŸç†ï¼šå°†divå±æ€§å˜æˆè¡¨æ ¼ </li><li>ä¼˜ç‚¹ï¼šæ²¡æœ‰ä¼˜ç‚¹ </li><li>ç¼ºç‚¹ï¼šä¼šäº§ç”Ÿæ–°çš„æœªçŸ¥é—®é¢˜ å»ºè®®ï¼šä¸æ¨èä½¿ç”¨ï¼Œåªä½œäº†è§£</li></ul></blockquote><h3 id="9ç»“å°¾å¤„åŠ bræ ‡ç­¾clear-both"><a href="#9ç»“å°¾å¤„åŠ bræ ‡ç­¾clear-both" class="headerlink" title="9ç»“å°¾å¤„åŠ bræ ‡ç­¾clear:both"></a>9ç»“å°¾å¤„åŠ bræ ‡ç­¾clear:both</h3><pre class=" language-css"><code class="language-css">   <span class="token selector"><span class="token class">.div1</span></span><span class="token punctuation">{</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#000080</span><span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span><span class="token number">1</span>px solid red<span class="token punctuation">;</span><span class="token property">zoom</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span>   <span class="token selector"><span class="token class">.div2</span></span><span class="token punctuation">{</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#800080</span><span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span><span class="token number">1</span>px solid red<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">100</span>px<span class="token punctuation">}</span>   <span class="token selector"><span class="token class">.left</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span>left<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span><span class="token number">20%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">200</span>px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#DDD</span><span class="token punctuation">}</span>   <span class="token selector"><span class="token class">.right</span></span><span class="token punctuation">{</span><span class="token property">float</span><span class="token punctuation">:</span>right<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span><span class="token number">30%</span><span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">80</span>px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token hexcode">#DDD</span><span class="token punctuation">}</span>   <span class="token comment" spellcheck="true">/*è§£å†³ä»£ç */</span>   <span class="token selector"><span class="token class">.clearfloat</span></span><span class="token punctuation">{</span><span class="token property">clear</span><span class="token punctuation">:</span>both<span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webpack</title>
      <link href="/2019/12/31/webpack-0/"/>
      <url>/2019/12/31/webpack-0/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€ä»€ä¹ˆæ˜¯webpack"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯webpack" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯webpack"></a>ä¸€ã€ä»€ä¹ˆæ˜¯webpack</h3><p>webpackæ˜¯ä¸€ä¸ªæ‰“åŒ…å·¥å…·ï¼Œä»–çš„å®—æ—¨æ˜¯ä¸€åˆ‡é™æ€èµ„æºçš†å¯æ‰“åŒ…ã€‚æœ‰äººå°±ä¼šé—®ä¸ºä»€ä¹ˆè¦webpackï¼Ÿwebpackæ˜¯ç°ä»£å‰ç«¯æŠ€æœ¯çš„åŸºçŸ³ï¼Œå¸¸è§„çš„å¼€å‘æ–¹å¼ï¼Œæ¯”å¦‚jquery,html,cssé™æ€ç½‘é¡µå¼€å‘å·²ç»è½åäº†ã€‚ç°åœ¨æ˜¯MVVMçš„æ—¶ä»£ï¼Œæ•°æ®é©±åŠ¨ç•Œé¢ã€‚webpackå®ƒåšçš„äº‹æƒ…æ˜¯ï¼Œåˆ†æä½ çš„é¡¹ç›®ç»“æ„ï¼Œæ‰¾åˆ°JavaScriptæ¨¡å—ä»¥åŠå…¶å®ƒçš„ä¸€äº›æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡Œçš„æ‹“å±•è¯­è¨€ï¼ˆScssï¼ŒTypeScriptç­‰ï¼‰ï¼Œå¹¶å°†å…¶æ‰“åŒ…ä¸ºåˆé€‚çš„æ ¼å¼ä»¥ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚</p><h3 id="äºŒã€webpackæ ¸å¿ƒæ¦‚å¿µ"><a href="#äºŒã€webpackæ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="äºŒã€webpackæ ¸å¿ƒæ¦‚å¿µ"></a>äºŒã€webpackæ ¸å¿ƒæ¦‚å¿µ</h3><blockquote><ul><li>1ã€Entryï¼ˆå…¥å£ï¼‰ï¼šæŒ‡ç¤º webpack åº”è¯¥ä½¿ç”¨å“ªä¸ªæ¨¡å—ï¼Œæ¥ä½œä¸ºæ„å»ºå…¶å†…éƒ¨ä¾èµ–å›¾çš„å¼€å§‹ã€‚è¿›å…¥å…¥å£èµ·ç‚¹åï¼Œwebpack ä¼šæ‰¾å‡ºæœ‰å“ªäº›æ¨¡å—å’Œåº“æ˜¯å…¥å£èµ·ç‚¹ï¼ˆç›´æ¥å’Œé—´æ¥ï¼‰ä¾èµ–çš„ã€‚</li></ul></blockquote><blockquote><ul><li>2ã€Outputï¼ˆå‡ºå£ï¼‰ï¼šå‘Šè¯‰ webpack åœ¨å“ªé‡Œè¾“å‡ºå®ƒæ‰€åˆ›å»ºçš„ç»“æœæ–‡ä»¶ï¼Œä»¥åŠå¦‚ä½•å‘½åè¿™äº›æ–‡ä»¶ï¼Œé»˜è®¤å€¼ä¸º./distã€‚</li></ul></blockquote><blockquote><ul><li>3ã€Loaderï¼ˆæ¨¡å—è½¬æ¢å™¨ï¼‰ï¼šå°†æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶è½¬æ¢ä¸º webpack èƒ½å¤Ÿå¤„ç†çš„æœ‰æ•ˆæ¨¡å—ï¼Œç„¶åä½ å°±å¯ä»¥åˆ©ç”¨ webpack çš„æ‰“åŒ…èƒ½åŠ›ï¼Œå¯¹å®ƒä»¬è¿›è¡Œå¤„ç†ã€‚</li></ul></blockquote><blockquote><ul><li>4ã€Pluginsï¼ˆæ’ä»¶ï¼‰ï¼šåœ¨ Webpack æ„å»ºæµç¨‹ä¸­çš„ç‰¹å®šæ—¶æœºæ³¨å…¥æ‰©å±•é€»è¾‘æ¥æ”¹å˜æ„å»ºç»“æœæˆ–åšä½ æƒ³è¦çš„äº‹æƒ…ã€‚</li></ul></blockquote><blockquote><ul><li>5ã€Module(æ¨¡å—)ï¼šå¼€å‘è€…å°†ç¨‹åºåˆ†è§£æˆç¦»æ•£åŠŸèƒ½å—ï¼Œå¹¶ç§°ä¹‹ä¸ºæ¨¡å—ï¼Œåœ¨webpacké‡Œä¸€ä¸ªæ¨¡å—å¯¹åº”ç€ä¸€ä¸ªæ–‡ä»¶ï¼Œwebpackä¼šä»é…ç½®çš„ Entry å¼€å§‹é€’å½’æ‰¾å‡ºæ‰€æœ‰ä¾èµ–çš„æ¨¡å—ã€‚</li></ul></blockquote><h3 id="ä¸‰ã€webpackæ‰§è¡Œæµç¨‹"><a href="#ä¸‰ã€webpackæ‰§è¡Œæµç¨‹" class="headerlink" title="ä¸‰ã€webpackæ‰§è¡Œæµç¨‹"></a>ä¸‰ã€webpackæ‰§è¡Œæµç¨‹</h3><p>webpackå¯åŠ¨åä¼šåœ¨entryé‡Œé…ç½®çš„moduleå¼€å§‹é€’å½’è§£æentryæ‰€ä¾èµ–çš„æ‰€æœ‰moduleï¼Œæ¯æ‰¾åˆ°ä¸€ä¸ªmodule, å°±ä¼šæ ¹æ®é…ç½®çš„loaderå»æ‰¾ç›¸åº”çš„è½¬æ¢è§„åˆ™ï¼Œå¯¹moduleè¿›è¡Œè½¬æ¢ååœ¨è§£æå½“å‰moduleæ‰€ä¾èµ–çš„moduleï¼Œè¿™äº›æ¨¡å—ä¼šä»¥entryä¸ºåˆ†ç»„ï¼Œä¸€ä¸ªentryå’Œæ‰€æœ‰ç›¸ä¾èµ–çš„moduleä¹Ÿå°±æ˜¯ä¸€ä¸ªchunkï¼Œæœ€åwebpackä¼šæŠŠæ‰€æœ‰chunkè½¬æ¢æˆæ–‡ä»¶è¾“å‡ºï¼Œåœ¨æ•´ä¸ªæµç¨‹ä¸­webpackä¼šåœ¨æ°å½“çš„æ—¶æœºæ‰§è¡Œpluginçš„é€»è¾‘</p><h3 id="å››ã€webpackç®€å•æ‰“åŒ…æ¡ˆä¾‹"><a href="#å››ã€webpackç®€å•æ‰“åŒ…æ¡ˆä¾‹" class="headerlink" title="å››ã€webpackç®€å•æ‰“åŒ…æ¡ˆä¾‹"></a>å››ã€webpackç®€å•æ‰“åŒ…æ¡ˆä¾‹</h3><h4 id="ã€4-1ã€‘å‡†å¤‡å·¥ä½œ"><a href="#ã€4-1ã€‘å‡†å¤‡å·¥ä½œ" class="headerlink" title="ã€4.1ã€‘å‡†å¤‡å·¥ä½œ"></a>ã€4.1ã€‘å‡†å¤‡å·¥ä½œ</h4><p>æ–°å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ç”¨äºåˆ›å»ºé¡¹ç›®ï¼Œ å¦‚ä¸‹æˆ‘åœ¨Dç›˜åˆ›å»ºäº†ä¸€ä¸ªåä¸ºwebpack_demoçš„æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨ç»ˆç«¯è¿›å…¥æ–‡ä»¶å¤¹ï¼Œ ä½¿ç”¨npm init å‘½ä»¤åˆå§‹åŒ–ä¸€ä¸ªpackage.jsonæ–‡ä»¶ï¼Œè¾“å…¥è¿™ä¸ªå‘½ä»¤åï¼Œç»ˆç«¯ä¼šé—®ä½ ä¸€ç³»åˆ—è¯¸å¦‚é¡¹ç›®åç§°ï¼Œé¡¹ç›®æè¿°ï¼Œä½œè€…ç­‰ä¿¡æ¯ï¼Œä¸è¿‡å¦‚æœä½ ä¸æ‰“ç®—å‘å¸ƒè¿™ä¸ªæ¨¡å—ï¼Œç›´æ¥ä¸€è·¯å›è½¦å°±å¥½ã€‚ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨npm init -yè¿™ä¸ªå‘½ä»¤æ¥ä¸€æ¬¡ç”Ÿæˆpackage.jsonæ–‡ä»¶ï¼Œè¿™æ ·ç»ˆç«¯ä¸ä¼šè¯¢é—®ä½ é—®é¢˜ï¼‰ã€‚</p><h4 id="ã€4-2ã€‘å®‰è£…webpack"><a href="#ã€4-2ã€‘å®‰è£…webpack" class="headerlink" title="ã€4.2ã€‘å®‰è£…webpack"></a>ã€4.2ã€‘å®‰è£…webpack</h4><p>æ¥ä¸‹æ¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…webpackï¼Œå¦‚æœä½ æƒ³ä¸€æ­¥åˆ°ä½çš„è¯ï¼Œå°±æŠŠå…¨å±€webpackå’Œæœ¬åœ°é¡¹ç›®webpackå…¨éƒ½å…ˆè£…äº†ï¼Œå› ä¸ºåé¢ä¸€äº›æ¨¡å—ä¼šç”¨åˆ°ã€‚</p><pre class=" language-js"><code class="language-js">npm install webpack <span class="token operator">--</span>global                <span class="token comment" spellcheck="true">// å®‰è£…å…¨å±€webpackå‘½ä»¤</span>npm install webpack webpack<span class="token operator">-</span>cli <span class="token operator">--</span>save<span class="token operator">-</span>dev  <span class="token comment" spellcheck="true">// å®‰è£…æœ¬åœ°é¡¹ç›®æ¨¡å—</span><span class="token comment" spellcheck="true">// install    å¯ç®€å†™ä¸ºi,</span><span class="token comment" spellcheck="true">// --global   å¯ç®€å†™ä¸º-g</span><span class="token comment" spellcheck="true">// --save     å¯ç®€å†™ä¸º-S</span><span class="token comment" spellcheck="true">// --save-dev å¯ç®€å†™ä¸º-D</span></code></pre><h4 id="ã€4-3ã€‘æ–°å»ºæ–‡ä»¶"><a href="#ã€4-3ã€‘æ–°å»ºæ–‡ä»¶" class="headerlink" title="ã€4.3ã€‘æ–°å»ºæ–‡ä»¶"></a>ã€4.3ã€‘æ–°å»ºæ–‡ä»¶</h4><p>åœ¨webpack_demoæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«ä¸ºsrcæ–‡ä»¶å¤¹å’Œdistæ–‡ä»¶å¤¹ï¼Œæ¥ç€åœ¨srcæ–‡ä»¶å¤¹ä¸‹æ–°å¢index.jsæ–‡ä»¶å’Œhello.jsæ–‡ä»¶ï¼Œåœ¨distæ–‡ä»¶å¤¹ä¸‹æ–°å¢index.htmlæ–‡ä»¶ã€‚æ­¤æ—¶é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š<br><a href="https://user-gold-cdn.xitu.io/2019/12/24/16f374c2eb7d555a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" target="_blank" rel="noopener">é¡¹ç›®ç»“æ„å›¾</a><br>åœ¨hello.jsä¸­å¯¼å‡ºä¸€ä¸ªæ¨¡å—</p><pre class=" language-js"><code class="language-js"> <span class="token comment" spellcheck="true">// hello.js </span> module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> hello <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    hello<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"hello xxx!"</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> hello<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>åœ¨index.jsä¸­å¼•å…¥è¿™ä¸ªhello.jsæ¨¡å—</p><pre class=" language-js"><code class="language-js">  <span class="token comment" spellcheck="true">// index.js</span><span class="token keyword">const</span> hello <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./hello.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#root"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>åœ¨index.htmlä¸‹å¼•å…¥æ‰“åŒ…åçš„jsæ–‡ä»¶bundle.js</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>title<span class="token operator">></span>Webpack demo<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">'root'</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"bundle.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>   <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>è¿™æ˜¯æ‰“åŒ…ä¹‹åçš„jsæ–‡ä»¶ï¼Œæˆ‘ä»¬æš‚æ—¶å‘½åä¸ºbundle<span class="token punctuation">.</span>js<span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><h4 id="ã€4-4ã€‘è¿›è¡Œæ‰“åŒ…"><a href="#ã€4-4ã€‘è¿›è¡Œæ‰“åŒ…" class="headerlink" title="ã€4.4ã€‘è¿›è¡Œæ‰“åŒ…"></a>ã€4.4ã€‘è¿›è¡Œæ‰“åŒ…</h4><p>åœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ‰“åŒ…</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpackå…¨å±€å®‰è£…çš„æƒ…å†µä¸‹ï¼Œoutputåé¢çš„æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶è·¯å¾„ï¼Œbundle.jsä¸ºæ‰“åŒ…åçš„jsæ–‡ä»¶å</span>webpack src<span class="token operator">/</span>index<span class="token punctuation">.</span>js <span class="token operator">--</span>output dist<span class="token operator">/</span>bundle<span class="token punctuation">.</span>js  <span class="token comment" spellcheck="true">// --outputå¯ç®€å†™ä¸º-o</span><span class="token comment" spellcheck="true">// ä¸Šè¿°å‘½ä»¤ç›¸å½“äºæŠŠsrcæ–‡ä»¶å¤¹ä¸‹çš„index.jsæ–‡ä»¶æ‰“åŒ…åˆ°distæ–‡ä»¶å¤¹ä¸‹çš„bundle.jsï¼Œè¿™æ ·å°±ç”Ÿæˆäº†æ‰“åŒ…åçš„æ–‡ä»¶ä¾›index.htmlå¼•å…¥</span></code></pre><p>ç»“æœå¦‚ä¸‹<br><a href="https://user-gold-cdn.xitu.io/2019/12/24/16f374c2eca103e8?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" target="_blank" rel="noopener">æ‰“åŒ…ç»“æœå›¾</a><br>æˆ‘ä»¬å·²ç»æˆåŠŸä½¿ç”¨webpackè¿›è¡Œæ‰“åŒ…ï¼Œè¿™æ—¶å°ä¼™ä¼´è¦è¯´äº†ï¼Œæ¯æ¬¡éƒ½åœ¨ç»ˆç«¯ä¸­è¾“å…¥è¿™ä¹ˆé•¿çš„å‘½ä»¤ï¼Œæ„Ÿè§‰å¥½çƒ¦å•Šï¼Œæ¥ä¸‹æ¥å­¦ä¹ é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä½¿ç”¨webpackã€‚</p><h4 id="ã€4-5ã€‘é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä½¿ç”¨webpack"><a href="#ã€4-5ã€‘é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä½¿ç”¨webpack" class="headerlink" title="ã€4.5ã€‘é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä½¿ç”¨webpack"></a>ã€4.5ã€‘é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä½¿ç”¨webpack</h4><p>åœ¨å½“å‰é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶webpack.config.jsï¼Œæˆ‘ä»¬å†™ä¸‹å¦‚ä¸‹ç®€å•é…ç½®ä»£ç ï¼Œç›®å‰åªæ¶‰åŠå…¥å£é…ç½®ï¼ˆç›¸å½“äºæˆ‘ä»¬çš„index.jsï¼Œä»å®ƒå¼€å§‹æ‰“åŒ…ï¼‰å’Œå‡ºå£é…ç½®ï¼ˆç›¸å½“äºæˆ‘ä»¬æ‰“åŒ…ç”Ÿæˆçš„bundle.jsï¼‰ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.config.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>    entry<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å…¥å£æ–‡ä»¶</span>    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>        path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> __dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>        filename<span class="token punctuation">:</span> <span class="token string">"bundle.js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// path.joinçš„åŠŸèƒ½æ˜¯æ‹¼æ¥è·¯å¾„ç‰‡æ®µ</span><span class="token comment" spellcheck="true">// __dirnameæ˜¯node.jsä¸­çš„ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå®ƒæŒ‡å‘å½“å‰æ‰§è¡Œè„šæœ¬æ‰€åœ¨çš„ç›®å½•ï¼Œå³D:\webpack_demo</span></code></pre><p>æœ‰äº†è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬åªéœ€åœ¨ç»ˆç«¯ä¸­è¿è¡Œwebpackå‘½ä»¤å°±å¯è¿›è¡Œæ‰“åŒ…ï¼Œè¿™æ¡å‘½ä»¤ä¼šè‡ªåŠ¨å¼•ç”¨webpack.config.jsæ–‡ä»¶ä¸­çš„é…ç½®é€‰é¡¹</p><h4 id="ã€4-6ã€‘package-jsonæ–‡ä»¶ä¸­è‡ªå®šä¹‰è„šæœ¬å‘½ä»¤"><a href="#ã€4-6ã€‘package-jsonæ–‡ä»¶ä¸­è‡ªå®šä¹‰è„šæœ¬å‘½ä»¤" class="headerlink" title="ã€4.6ã€‘package.jsonæ–‡ä»¶ä¸­è‡ªå®šä¹‰è„šæœ¬å‘½ä»¤"></a>ã€4.6ã€‘package.jsonæ–‡ä»¶ä¸­è‡ªå®šä¹‰è„šæœ¬å‘½ä»¤</h4><p>Nodeé¡¹ç›®ä¸€èˆ¬éƒ½æœ‰ä¸€ä¸ªpackage.jsonæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ç”¨äºæè¿°å½“å‰é¡¹ç›®ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªscriptså±æ€§ï¼Œè¯¥å±æ€§å¯ä»¥è‡ªå®šä¹‰è„šæœ¬å‘½ä»¤ï¼Œä¾‹å¦‚æˆ‘ä»¬è¿è¡Œçš„æ‰“åŒ…å‘½ä»¤ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨scriptsé‡Œæ·»åŠ è‡ªå®šä¹‰è„šæœ¬ä¸º<br><a href="https://user-gold-cdn.xitu.io/2019/12/24/16f374c2f40cd7cf?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" target="_blank" rel="noopener">package.jsonå›¾</a><br>ä¹‹åå°±å¯ä»¥ä½¿ç”¨npm run buildæ¥è¿è¡Œè¯¥è„šæœ¬å‘½ä»¤ï¼Œè¿™æ ·æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿå¦‚æœå‘½ä»¤è¡Œå¾ˆçŸ­ï¼Œå¥½å¤„å½“ç„¶ä¸æ˜æ˜¾äº†ï¼Œä½†æ˜¯å¦‚ä½•å‘½ä»¤è¡Œå¾ˆé•¿å‘¢ï¼Ÿé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æ¯æ¬¡éƒ½éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œé…ç½®äº†scriptsåï¼Œ npm run keyå€¼ç›¸å½“äºåœ¨ç»ˆç«¯è¿è¡Œäº†valueå€¼</p><h3 id="äº”ã€æ„å»ºæœ¬åœ°æœåŠ¡"><a href="#äº”ã€æ„å»ºæœ¬åœ°æœåŠ¡" class="headerlink" title="äº”ã€æ„å»ºæœ¬åœ°æœåŠ¡"></a>äº”ã€æ„å»ºæœ¬åœ°æœåŠ¡</h3><p>ä¸Šé¢æ¡ˆä¾‹æˆ‘ä»¬æ˜¯é€šè¿‡æ‰“å¼€æœ¬åœ°HTMLæ–‡ä»¶æ¥æŸ¥çœ‹é¡µé¢çš„ï¼Œvueï¼Œreactæ¡†æ¶æ—¶éƒ½æ˜¯è¿è¡Œåœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Šçš„ï¼Œé‚£æˆ‘ä»¬èƒ½ä¸èƒ½ä¹Ÿæ”¹æˆé‚£æ ·å‘¢ï¼Ÿæ¥ä¸‹æ¥å­¦ä¹ å¦‚ä½•æ„å»ºæœ¬åœ°æœåŠ¡</p><h4 id="ã€5-1ã€‘webpack-dev-serveré…ç½®æœ¬åœ°æœåŠ¡å™¨"><a href="#ã€5-1ã€‘webpack-dev-serveré…ç½®æœ¬åœ°æœåŠ¡å™¨" class="headerlink" title="ã€5.1ã€‘webpack-dev-serveré…ç½®æœ¬åœ°æœåŠ¡å™¨"></a>ã€5.1ã€‘webpack-dev-serveré…ç½®æœ¬åœ°æœåŠ¡å™¨</h4><p>Webpackæä¾›äº†ä¸€ä¸ªå¯é€‰çš„æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œè¿™ä¸ªæœ¬åœ°æœåŠ¡å™¨åŸºäºnode.jsæ„å»ºï¼Œå®ƒæ˜¯ä¸€ä¸ªå•ç‹¬çš„ç»„ä»¶ï¼Œåœ¨webpackä¸­è¿›è¡Œé…ç½®ä¹‹å‰éœ€è¦å•ç‹¬å®‰è£…å®ƒä½œä¸ºé¡¹ç›®ä¾èµ–ï¼š</p><pre class=" language-js"><code class="language-js">npm install webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server <span class="token operator">-</span>D</code></pre><h4 id="ã€5-2ã€‘devServeré…ç½®é¡¹"><a href="#ã€5-2ã€‘devServeré…ç½®é¡¹" class="headerlink" title="ã€5.2ã€‘devServeré…ç½®é¡¹"></a>ã€5.2ã€‘devServeré…ç½®é¡¹</h4><blockquote><ul><li>contentBaseï¼šè¯¥é…ç½®é¡¹æŒ‡å®šäº†æœåŠ¡å™¨èµ„æºçš„æ ¹ç›®å½•ï¼Œå¦‚æœä¸é…ç½®contentBaseçš„è¯ï¼Œé‚£ä¹ˆcontentBaseé»˜è®¤æ˜¯å½“å‰æ‰§è¡Œçš„ç›®å½•,ä¸€èˆ¬æ˜¯é¡¹ç›®çš„æ ¹ç›®å½•</li><li>portï¼šæŒ‡å®šäº†å¼€å¯æœåŠ¡å™¨çš„ç«¯å£å·ï¼Œé»˜è®¤ä¸º8080</li><li>hostï¼šé…ç½® DevServerçš„æœåŠ¡å™¨ç›‘å¬åœ°å€ï¼Œé»˜è®¤ä¸º 127.0.0.1</li><li>headersï¼šè¯¥é…ç½®é¡¹å¯ä»¥åœ¨HTTPå“åº”ä¸­æ³¨å…¥ä¸€äº›HTTPå“åº”å¤´ã€‚ä¾‹å¦‚ï¼š</li></ul></blockquote><pre class=" language-json"><code class="language-json">    headers<span class="token operator">:</span> <span class="token punctuation">{</span>      'X-foo'<span class="token operator">:</span> '<span class="token number">112233</span>'    <span class="token punctuation">}</span></code></pre><blockquote><ul><li>historyApiFallbackï¼šè¯¥é…ç½®é¡¹å±æ€§æ˜¯ç”¨æ¥åº”å¯¹è¿”å›404é¡µé¢æ—¶å®šå‘è·³è½¬åˆ°ç‰¹å®šé¡µé¢çš„ã€‚ä¸€èˆ¬æ˜¯åº”ç”¨åœ¨å•é¡µåº”ç”¨ï¼Œæ¯”å¦‚åœ¨è®¿é—®è·¯ç”±æ—¶å€™ï¼Œè®¿é—®ä¸åˆ°è¯¥è·¯ç”±çš„æ—¶å€™ï¼Œé€šè¿‡è¯¥é…ç½®é¡¹ï¼Œè®¾ç½®å±æ€§å€¼ä¸ºtrueçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ° index.htmlä¸‹ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨é€šè¿‡ æ­£åˆ™æ¥åŒ¹é…è·¯ç”±</li></ul></blockquote><pre class=" language-js"><code class="language-js">    <span class="token comment" spellcheck="true">// è·³åˆ°index.htmlé¡µé¢ </span>    historyApiFallback<span class="token punctuation">:</span> <span class="token boolean">true</span>    <span class="token comment" spellcheck="true">// ä½¿ç”¨æ­£åˆ™æ¥åŒ¹é…è·¯ç”±</span>    historyApiFallback<span class="token punctuation">:</span> <span class="token punctuation">{</span>      rewrites<span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token regex">/^\/user/</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'/user.html'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token regex">/^\/home/</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'/home.html'</span> <span class="token punctuation">}</span>      <span class="token punctuation">]</span>    <span class="token punctuation">}</span></code></pre><blockquote><ul><li>hotï¼šè¯¥é…ç½®é¡¹æ˜¯æŒ‡æ¨¡å—æ›¿æ¢æ¢åŠŸèƒ½ï¼ŒDevServer é»˜è®¤è¡Œä¸ºæ˜¯åœ¨å‘ç°æºä»£ç è¢«æ›´æ–°åé€šè¿‡è‡ªåŠ¨åˆ·æ–°æ•´ä¸ªé¡µé¢æ¥åšåˆ°å®æ—¶é¢„è§ˆçš„ï¼Œä½†æ˜¯å¼€å¯æ¨¡å—çƒ­æ›¿æ¢åŠŸèƒ½åï¼Œå®ƒæ˜¯é€šè¿‡åœ¨ä¸åˆ·æ–°æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹é€šè¿‡ä½¿ç”¨æ–°æ¨¡å—æ›¿æ¢æ—§æ¨¡å—æ¥åšåˆ°å®æ—¶é¢„è§ˆçš„ã€‚</li><li>proxy : æœ‰æ—¶å€™æˆ‘ä»¬ä½¿ç”¨webpackåœ¨æœ¬åœ°å¯åŠ¨æœåŠ¡å™¨çš„æ—¶å€™ï¼Œç”±äºæˆ‘ä»¬ä½¿ç”¨çš„è®¿é—®çš„åŸŸåæ˜¯ <a href="http://localhost:8081" target="_blank" rel="noopener">http://localhost:8081</a> è¿™æ ·çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æœåŠ¡ç«¯çš„æ¥å£æ˜¯å…¶ä»–çš„ï¼Œå¯ä»¥é€šè¿‡è¯¥é…ç½®æ¥è§£å†³è·¨åŸŸçš„é—®é¢˜</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// å‡è®¾æœåŠ¡ç«¯æ¥å£åŸŸåä¸ºï¼šhttp://news.baidu.com</span>proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>    target<span class="token punctuation">:</span> <span class="token string">'http://news.baidu.com'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// ç›®æ ‡æ¥å£çš„åŸŸå</span>    <span class="token comment" spellcheck="true">// secure: true,  // https çš„æ—¶å€™ ä½¿ç”¨è¯¥å‚æ•°</span>    changeOrigin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// æ˜¯å¦è·¨åŸŸ</span>    pathRewrite<span class="token punctuation">:</span> <span class="token punctuation">{</span>      <span class="token string">'^/api'</span> <span class="token punctuation">:</span> <span class="token string">''</span>  <span class="token comment" spellcheck="true">// é‡å†™è·¯å¾„</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><blockquote><ul><li>inlineï¼šè®¾ç½®ä¸ºtrueï¼Œå½“æºæ–‡ä»¶æ”¹å˜æ—¶ä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢</li><li>openï¼šè¯¥å±æ€§ç”¨äºDevServerå¯åŠ¨ä¸”ç¬¬ä¸€æ¬¡æ„å»ºå®Œæˆæ—¶ï¼Œè‡ªåŠ¨ä½¿ç”¨æˆ‘ä»¬çš„ç³»ç»Ÿé»˜è®¤æµè§ˆå™¨å»æ‰“å¼€ç½‘é¡µã€‚</li><li>compressï¼šé…ç½®æ˜¯å¦å¯ç”¨ gzip å‹ç¼©ï¼Œboolean ç±»å‹ï¼Œé»˜è®¤ä¸º false</li><li>overlayï¼šè¯¥å±æ€§æ˜¯ç”¨æ¥åœ¨ç¼–è¯‘å‡ºé”™çš„æ—¶å€™ï¼Œåœ¨æµè§ˆå™¨é¡µé¢ä¸Šæ˜¾ç¤ºé”™è¯¯ã€‚è¯¥å±æ€§å€¼é»˜è®¤ä¸ºfalseï¼Œéœ€è¦çš„è¯ï¼Œè®¾ç½®è¯¥å‚æ•°ä¸ºtrue</li></ul></blockquote><h4 id="ã€5-3ã€‘æ·»åŠ é…ç½®é¡¹åˆ°webpack-config-js"><a href="#ã€5-3ã€‘æ·»åŠ é…ç½®é¡¹åˆ°webpack-config-js" class="headerlink" title="ã€5.3ã€‘æ·»åŠ é…ç½®é¡¹åˆ°webpack.config.js"></a>ã€5.3ã€‘æ·»åŠ é…ç½®é¡¹åˆ°webpack.config.js</h4><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.config.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  entry<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å…¥å£æ–‡ä»¶</span>  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>    filename<span class="token punctuation">:</span> <span class="token string">"bundle.js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    port<span class="token punctuation">:</span> <span class="token string">'8080'</span><span class="token punctuation">,</span>    inline<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    open<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    overlay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>        target<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>         changeOrigin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>          pathRewrite<span class="token punctuation">:</span> <span class="token punctuation">{</span>          <span class="token string">'^/api'</span><span class="token punctuation">:</span> <span class="token string">''</span>          <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="ã€5-4ã€‘åœ¨package-jsonæ–‡ä»¶ä¸­æ·»åŠ å¯åŠ¨å‘½ä»¤"><a href="#ã€5-4ã€‘åœ¨package-jsonæ–‡ä»¶ä¸­æ·»åŠ å¯åŠ¨å‘½ä»¤" class="headerlink" title="ã€5.4ã€‘åœ¨package.jsonæ–‡ä»¶ä¸­æ·»åŠ å¯åŠ¨å‘½ä»¤"></a>ã€5.4ã€‘åœ¨package.jsonæ–‡ä»¶ä¸­æ·»åŠ å¯åŠ¨å‘½ä»¤</h4><pre class=" language-js"><code class="language-js">  <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"webpack"</span><span class="token punctuation">,</span>    <span class="token string">"dev"</span><span class="token punctuation">:</span> <span class="token string">"webpack-dev-server --open"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p>  æˆ‘ä»¬ç”¨devæ¥å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œ webpack-dev-serverå°±æ˜¯å¯åŠ¨æœåŠ¡å™¨çš„å‘½ä»¤ï¼Œ- -opnæ˜¯ç”¨äºå¯åŠ¨å®ŒæœåŠ¡å™¨åè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œè¿™æ—¶å€™æˆ‘ä»¬è‡ªå®šä¹‰å‘½ä»¤æ–¹å¼çš„ä¾¿æ·æ€§å°±ä½“ç°å‡ºæ¥äº†ï¼Œå¯ä»¥å¤šä¸ªå‘½ä»¤é›†æˆåœ¨ä¸€èµ·è¿è¡Œï¼Œå³æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªdevå‘½ä»¤åç§°å°±å¯ä»¥åŒæ—¶è¿è¡Œäº†webpack-dev-serverå’Œ- -opnä¸¤ä¸ªå‘½ä»¤ç°åœ¨åœ¨ç»ˆç«¯è¾“å…¥npm run dev è¿è¡ŒæœåŠ¡å™¨</p><p><a href="https://user-gold-cdn.xitu.io/2019/12/24/16f374c31218a006?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" target="_blank" rel="noopener">è¿è¡Œå›¾</a><br>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨<a href="http://localhost:8088/ä¸­æŸ¥çœ‹é¡µé¢" target="_blank" rel="noopener">http://localhost:8088/ä¸­æŸ¥çœ‹é¡µé¢</a> (é€€å‡ºæœåŠ¡å™¨ï¼Œå¯ä½¿ç”¨ctrl+cåï¼Œå†æŒ‰yç¡®è®¤å³å¯é€€å‡ºæœåŠ¡å™¨è¿è¡Œ)</p><h4 id="ã€5-5ã€‘Source-Mapsè°ƒè¯•é…ç½®"><a href="#ã€5-5ã€‘Source-Mapsè°ƒè¯•é…ç½®" class="headerlink" title="ã€5.5ã€‘Source Mapsè°ƒè¯•é…ç½®"></a>ã€5.5ã€‘Source Mapsè°ƒè¯•é…ç½®</h4><p>ä½œä¸ºå¼€å‘ï¼Œä»£ç è°ƒè¯•å½“ç„¶å°‘ä¸äº†ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œç»è¿‡æ‰“åŒ…åçš„æ–‡ä»¶ï¼Œä½ æ˜¯ä¸å®¹æ˜“æ‰¾åˆ°å‡ºé”™çš„åœ°æ–¹çš„ï¼Œ<code>Source Map</code>å°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚é€šè¿‡å¦‚ä¸‹é…ç½®ï¼Œæˆ‘ä»¬ä¼šåœ¨æ‰“åŒ…æ—¶ç”Ÿæˆå¯¹åº”äºæ‰“åŒ…æ–‡ä»¶çš„<code>.map</code>æ–‡ä»¶ï¼Œä½¿å¾—ç¼–è¯‘åçš„ä»£ç å¯è¯»æ€§æ›´é«˜ï¼Œæ›´æ˜“äºè°ƒè¯•ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.config.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  entry<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å…¥å£æ–‡ä»¶</span>  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>    filename<span class="token punctuation">:</span> <span class="token string">"bundle.js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    port<span class="token punctuation">:</span> <span class="token string">'8080'</span><span class="token punctuation">,</span>    inline<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    open<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    overlay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devtool<span class="token punctuation">:</span> <span class="token string">'source-map'</span> <span class="token comment" spellcheck="true">// ä¼šç”Ÿæˆå¯¹äºè°ƒè¯•çš„å®Œæ•´çš„.mapæ–‡ä»¶ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦</span><span class="token punctuation">}</span></code></pre><p>é…ç½®å¥½åï¼Œæˆ‘ä»¬å†æ¬¡è¿è¡Œnpm run buildè¿›è¡Œæ‰“åŒ…ï¼Œè¿™æ—¶æˆ‘ä»¬ä¼šå‘ç°åœ¨distæ–‡ä»¶å¤¹ä¸­å¤šå‡ºäº†ä¸€ä¸ªbundle.js.mapã€‚å¦‚æœæˆ‘ä»¬çš„ä»£ç æœ‰bugï¼Œåœ¨æµè§ˆå™¨çš„è°ƒè¯•å·¥å…·ä¸­ä¼šæç¤ºé”™è¯¯å‡ºç°çš„ä½ç½®ï¼Œè¿™å°±æ˜¯devtoolï¼šâ€™source-mapâ€™ é…ç½®é¡¹çš„ä½œç”¨ã€‚</p><h3 id="å…­ã€Loaders"><a href="#å…­ã€Loaders" class="headerlink" title="å…­ã€Loaders"></a>å…­ã€Loaders</h3><p>loadersæ˜¯webpackæœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œé€šè¿‡ä¸åŒçš„loaderï¼Œwebpackæœ‰èƒ½åŠ›è°ƒç”¨å¤–éƒ¨çš„è„šæœ¬æˆ–å·¥å…·ï¼Œå®ç°å¯¹ä¸åŒæ ¼å¼çš„æ–‡ä»¶çš„å¤„ç†ï¼Œä¾‹å¦‚æŠŠscssè½¬ä¸ºcssï¼Œå°†ES66ã€ES7ç­‰è¯­æ³•è½¬åŒ–ä¸ºå½“å‰æµè§ˆå™¨èƒ½è¯†åˆ«çš„è¯­æ³•ï¼Œå°†JSXè½¬åŒ–ä¸ºjsç­‰å¤šé¡¹åŠŸèƒ½ã€‚Loaderséœ€è¦å•ç‹¬å®‰è£…å¹¶ä¸”éœ€è¦åœ¨webpack.comfig.jsä¸­çš„modulesé…ç½®é¡¹ä¸‹è¿›è¡Œé…ç½®ï¼ŒLoadersçš„é…ç½®åŒ…æ‹¬ä»¥ä¸‹å‡ æ–¹é¢ï¼š</p><blockquote><ul><li>testï¼šä¸€ä¸ªç”¨ä»¥åŒ¹é…loadersæ‰€å¤„ç†æ–‡ä»¶çš„æ‹“å±•åçš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆå¿…é¡»ï¼‰</li><li>loaderï¼šloaderçš„åç§°ï¼ˆå¿…é¡»ï¼‰</li><li>include/excludeï¼š æ‰‹åŠ¨æ·»åŠ å¿…é¡»å¤„ç†çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹ï¼‰æˆ–å±è”½ä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹ï¼‰ï¼ˆå¯é€‰ï¼‰</li><li>optionsï¼š ä¸ºloadersæä¾›é¢å¤–çš„è®¾ç½®é€‰é¡¹ï¼ˆå¯é€‰ï¼‰</li></ul></blockquote><h4 id="ã€6-1ã€‘é…ç½®css-loader"><a href="#ã€6-1ã€‘é…ç½®css-loader" class="headerlink" title="ã€6.1ã€‘é…ç½®css-loader"></a>ã€6.1ã€‘é…ç½®css-loader</h4><p>å¦‚æœæˆ‘ä»¬è¦åŠ è½½ä¸€ä¸ªcssæ–‡ä»¶ï¼Œéœ€è¦å®‰è£…style-loaderå’Œcss-loader</p><pre class=" language-js"><code class="language-js">npm install style<span class="token operator">-</span>loader css<span class="token operator">-</span>loader <span class="token operator">-</span>D</code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.config.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  entry<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å…¥å£æ–‡ä»¶</span>  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>    filename<span class="token punctuation">:</span> <span class="token string">"bundle.js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    port<span class="token punctuation">:</span> <span class="token string">'8080'</span><span class="token punctuation">,</span>    inline<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    open<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    overlay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devtool<span class="token punctuation">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// ä¼šç”Ÿæˆå¯¹äºè°ƒè¯•çš„å®Œæ•´çš„.mapæ–‡ä»¶ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦</span>  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>æˆ‘ä»¬åœ¨srcæ–‡ä»¶å¤¹ä¸‹æ–°å»ºindex.cssæ–‡ä»¶ï¼Œè®¾ç½®bodyçš„æ ·å¼</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* index.css */</span><span class="token selector">body </span><span class="token punctuation">{</span>    <span class="token property">background</span><span class="token punctuation">:</span> gray<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>åœ¨srcæ–‡ä»¶å¤¹ä¸‹çš„index.jså¼•å…¥å®ƒ</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// index.js</span><span class="token keyword">import</span> <span class="token string">'./index.css'</span> <span class="token comment" spellcheck="true">// å¯¼å…¥css</span><span class="token keyword">const</span> hello <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./hello.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#root"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¿è¡Œnpm run devå¯åŠ¨æœåŠ¡å™¨ï¼Œä¼šå‘ç°é¡µé¢èƒŒæ™¯é¢œè‰²å˜æˆäº†ç°è‰²</p><h4 id="ã€6-2ã€‘é…ç½®sass"><a href="#ã€6-2ã€‘é…ç½®sass" class="headerlink" title="ã€6.2ã€‘é…ç½®sass"></a>ã€6.2ã€‘é…ç½®sass</h4><pre class=" language-js"><code class="language-js">npm install sass<span class="token operator">-</span>loader node<span class="token operator">-</span>sass <span class="token operator">-</span>D <span class="token comment" spellcheck="true">// å› ä¸ºsass-loaderä¾èµ–äºnode-sassï¼Œæ‰€ä»¥è¿˜è¦å®‰è£…node-sass</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.config.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  entry<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å…¥å£æ–‡ä»¶</span>  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>    filename<span class="token punctuation">:</span> <span class="token string">"bundle.js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    port<span class="token punctuation">:</span> <span class="token string">'8080'</span><span class="token punctuation">,</span>    inline<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    open<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    overlay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devtool<span class="token punctuation">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// ä¼šç”Ÿæˆå¯¹äºè°ƒè¯•çš„å®Œæ•´çš„.mapæ–‡ä»¶ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦</span>  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.(scss|sass)$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.scsså’Œ.sassç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="ä¸ƒã€Pluginsï¼ˆæ’ä»¶ï¼‰"><a href="#ä¸ƒã€Pluginsï¼ˆæ’ä»¶ï¼‰" class="headerlink" title="ä¸ƒã€Pluginsï¼ˆæ’ä»¶ï¼‰"></a>ä¸ƒã€Pluginsï¼ˆæ’ä»¶ï¼‰</h3><p>æ’ä»¶ï¼ˆPluginsï¼‰æ˜¯ç”¨æ¥æ‹“å±•WebpackåŠŸèƒ½çš„ï¼Œå®ƒä»¬ä¼šåœ¨æ•´ä¸ªæ„å»ºè¿‡ç¨‹ä¸­ç”Ÿæ•ˆï¼Œæ‰§è¡Œç›¸å…³çš„ä»»åŠ¡ã€‚Loaderså’ŒPluginså¸¸å¸¸è¢«å¼„æ··ï¼Œä½†æ˜¯ä»–ä»¬å…¶å®æ˜¯å®Œå…¨ä¸åŒçš„ä¸œè¥¿ï¼Œå¯ä»¥è¿™ä¹ˆæ¥è¯´ï¼Œloadersæ˜¯åœ¨æ‰“åŒ…æ„å»ºè¿‡ç¨‹ä¸­ç”¨æ¥å¤„ç†æºæ–‡ä»¶çš„ï¼ˆJSXï¼ŒScssï¼ŒLess..ï¼‰ï¼Œä¸€æ¬¡å¤„ç†ä¸€ä¸ªï¼Œæ’ä»¶å¹¶ä¸ç›´æ¥æ“ä½œå•ä¸ªæ–‡ä»¶ï¼Œå®ƒç›´æ¥å¯¹æ•´ä¸ªæ„å»ºè¿‡ç¨‹å…¶ä½œç”¨ã€‚</p><h4 id="ã€7-1ã€‘ä½¿ç”¨æ’ä»¶"><a href="#ã€7-1ã€‘ä½¿ç”¨æ’ä»¶" class="headerlink" title="ã€7.1ã€‘ä½¿ç”¨æ’ä»¶"></a>ã€7.1ã€‘ä½¿ç”¨æ’ä»¶</h4><p>å¦‚éœ€ä½¿ç”¨æŸä¸ªæ’ä»¶ï¼Œéœ€è¦é€šè¿‡npmè¿›è¡Œå®‰è£…ï¼Œç„¶ååœ¨webpack.config.jsé…ç½®æ–‡ä»¶çš„pluginsé…ç½®é¡¹ä¸­æ·»åŠ è¯¥æ’ä»¶çš„å®ä¾‹ï¼Œä¸‹é¢æˆ‘ä»¬å…ˆæ¥ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ç‰ˆæƒå£°æ˜æ’ä»¶ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.config.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// è¿™ä¸ªæ’ä»¶ä¸éœ€è¦å®‰è£…ï¼Œæ˜¯åŸºäºwebpackçš„ï¼Œéœ€è¦å¼•å…¥webpackæ¨¡å—</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  entry<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å…¥å£æ–‡ä»¶</span>  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>    filename<span class="token punctuation">:</span> <span class="token string">"bundle.js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    port<span class="token punctuation">:</span> <span class="token string">'8080'</span><span class="token punctuation">,</span>    inline<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    open<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    overlay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devtool<span class="token punctuation">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// ä¼šç”Ÿæˆå¯¹äºè°ƒè¯•çš„å®Œæ•´çš„.mapæ–‡ä»¶ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦</span>  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.(scss|sass)$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.scsså’Œ.sassç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">'ç‰ˆæƒæ‰€æœ‰ï¼Œç¿»ç‰ˆå¿…ç©¶'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">// newä¸€ä¸ªæ’ä»¶çš„å®ä¾‹ </span>  <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>è¿è¡Œnpm run build æ‰“åŒ…åï¼Œæˆ‘ä»¬æŸ¥çœ‹distä¸‹é¢çš„handle.jsæ–‡ä»¶</p><h4 id="ã€7-2ã€‘è‡ªåŠ¨ç”Ÿæˆhtmlæ–‡ä»¶ï¼ˆHtmlWebpackPluginï¼‰"><a href="#ã€7-2ã€‘è‡ªåŠ¨ç”Ÿæˆhtmlæ–‡ä»¶ï¼ˆHtmlWebpackPluginï¼‰" class="headerlink" title="ã€7.2ã€‘è‡ªåŠ¨ç”Ÿæˆhtmlæ–‡ä»¶ï¼ˆHtmlWebpackPluginï¼‰"></a>ã€7.2ã€‘è‡ªåŠ¨ç”Ÿæˆhtmlæ–‡ä»¶ï¼ˆHtmlWebpackPluginï¼‰</h4><p>åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨ä¸€å¼€å§‹å»ºå¥½çš„index.htmlæ–‡ä»¶ï¼Œè€Œä¸”ä¹Ÿæ˜¯æ‰‹åŠ¨å¼•å…¥bundle.jsï¼Œè¦æ˜¯ä»¥åæˆ‘ä»¬å¼•å…¥ä¸æ­¢ä¸€ä¸ªjsæ–‡ä»¶ï¼Œè€Œä¸”æ›´æ”¹jsæ–‡ä»¶åçš„è¯ï¼Œä¹Ÿå¾—æ‰‹åŠ¨æ›´æ”¹index.htmlä¸­çš„jsæ–‡ä»¶åï¼Œæ‰€ä»¥èƒ½ä¸èƒ½è‡ªåŠ¨ç”Ÿæˆindex.htmlä¸”è‡ªåŠ¨å¼•ç”¨æ‰“åŒ…åçš„jså‘¢ï¼ŸHtmlWebpackPluginæ’ä»¶å°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„æˆ‘ä»¬å¯¹é¡¹ç›®ç»“æ„è¿›è¡Œä¸€äº›æ›´æ”¹ï¼š</p><p>1 .æŠŠæ•´ä¸ªdistæ–‡ä»¶å¤¹åˆ é™¤<br>2 .åœ¨srcæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªindex.html(åç§°è‡ªå®šä¹‰)æ–‡ä»¶æ¨¡æ¿ï¼ˆå½“ç„¶è¿™ä¸ªæ˜¯å¯é€‰çš„ï¼Œå› ä¸ºå°±ç®—ä¸è®¾ç½®æ¨¡æ¿ï¼ŒHtmlWebpackPluginæ’ä»¶ä¹Ÿä¼šç”Ÿæˆé»˜è®¤htmlæ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬è®¾ç½®æ¨¡å—ä¼šè®©æˆ‘ä»¬çš„å¼€å‘æ›´åŠ çµæ´»ï¼‰ï¼Œå¦‚ä¸‹ï¼š</p><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- index.html --></span><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>root<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>å®‰è£…HtmlWebpackPluginæ’ä»¶</p><pre class=" language-js"><code class="language-js">npm install html<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">-</span>D</code></pre><p>å¼•å…¥HtmlWebpackPluginæ’ä»¶ï¼Œå¹¶é…ç½®äº†å¼•ç”¨äº†æˆ‘ä»¬è®¾ç½®çš„æ¨¡æ¿ï¼Œå¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.config.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// è¿™ä¸ªæ’ä»¶ä¸éœ€è¦å®‰è£…ï¼Œæ˜¯åŸºäºwebpackçš„ï¼Œéœ€è¦å¼•å…¥webpackæ¨¡å—</span><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥HtmlWebpackPluginæ’ä»¶</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  entry<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å…¥å£æ–‡ä»¶</span>  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>    filename<span class="token punctuation">:</span> <span class="token string">"bundle.js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    port<span class="token punctuation">:</span> <span class="token string">'8080'</span><span class="token punctuation">,</span>    inline<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    open<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    overlay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devtool<span class="token punctuation">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// ä¼šç”Ÿæˆå¯¹äºè°ƒè¯•çš„å®Œæ•´çš„.mapæ–‡ä»¶ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦</span>  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.(scss|sass)$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.scsså’Œ.sassç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">'ç‰ˆæƒæ‰€æœ‰ï¼Œç¿»ç‰ˆå¿…ç©¶'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// newä¸€ä¸ªæ’ä»¶çš„å®ä¾‹ </span>    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.html"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// newä¸€ä¸ªè¿™ä¸ªæ’ä»¶çš„å®ä¾‹ï¼Œå¹¶ä¼ å…¥ç›¸å…³çš„å‚æ•°</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>è¿è¡Œnpm run buildè¿›è¡Œæ‰“åŒ…ï¼Œdistæ–‡ä»¶å¤¹è‡ªåŠ¨ç”Ÿæˆï¼ŒåŒ…å«index.htmlã€bundle.jsã€bundle.js.mapä¸‰ä¸ªæ–‡ä»¶<br>ä¸ºä»€ä¹ˆä¼šè‡ªåŠ¨ç”Ÿæˆdistæ–‡ä»¶å¤¹å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬åœ¨outputå‡ºå£é…ç½®é¡¹ä¸­å®šä¹‰äº†å‡ºå£æ–‡ä»¶æ‰€åœ¨çš„ä½ç½®ä¸ºdistæ–‡ä»¶å¤¹ï¼Œä¸”å‡ºå£æ–‡ä»¶åä¸ºbundle.jsï¼Œæ‰€ä»¥HtmlWebpackPluginä¼šè‡ªåŠ¨å¸®ä½ åœ¨ dist/index.html ä¸­å¼•ç”¨åä¸ºbundle.jsæ–‡ä»¶ï¼Œå¦‚æœä½ åœ¨webpack.config.jsæ–‡ä»¶ä¸­æ›´æ”¹äº†å‡ºå£æ–‡ä»¶åï¼Œdist/index.html ä¸­ä¹Ÿä¼šè‡ªåŠ¨æ›´æ”¹è¯¥æ–‡ä»¶åï¼Œè¿™æ ·ä»¥åä¿®æ”¹èµ·æ¥æ˜¯ä¸æ˜¯æ–¹ä¾¿å¤šäº†ï¼Ÿ</p><h4 id="ã€7-3ã€‘æ¸…ç†distæ–‡ä»¶å¤¹ï¼ˆCleanWebpackPluginï¼‰"><a href="#ã€7-3ã€‘æ¸…ç†distæ–‡ä»¶å¤¹ï¼ˆCleanWebpackPluginï¼‰" class="headerlink" title="ã€7.3ã€‘æ¸…ç†distæ–‡ä»¶å¤¹ï¼ˆCleanWebpackPluginï¼‰"></a>ã€7.3ã€‘æ¸…ç†distæ–‡ä»¶å¤¹ï¼ˆCleanWebpackPluginï¼‰</h4><p>webpackä¼šç”Ÿæˆæ–‡ä»¶ï¼Œç„¶åå°†è¿™äº›æ–‡ä»¶æ”¾ç½®åœ¨distæ–‡ä»¶å¤¹ä¸­ï¼Œä½†æ˜¯webpackæ— æ³•è¿½è¸ªåˆ°å“ªäº›æ–‡ä»¶æ˜¯å®é™…åœ¨é¡¹ç›®ä¸­ç”¨åˆ°çš„ã€‚é€šå¸¸ï¼Œåœ¨æ¯æ¬¡æ„å»ºå‰æ¸…ç†distæ–‡ä»¶å¤¹ï¼Œæ˜¯æ¯”è¾ƒæ¨èçš„åšæ³•ï¼Œå› æ­¤åªä¼šç”Ÿæˆç”¨åˆ°çš„æ–‡ä»¶ï¼Œè¿™æ—¶å€™å°±ç”¨åˆ°CleanWebpackPluginæ’ä»¶äº†ã€‚</p><pre class=" language-js"><code class="language-js">npm install clean<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">-</span>D</code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.config.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// è¿™ä¸ªæ’ä»¶ä¸éœ€è¦å®‰è£…ï¼Œæ˜¯åŸºäºwebpackçš„ï¼Œéœ€è¦å¼•å…¥webpackæ¨¡å—</span><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥HtmlWebpackPluginæ’ä»¶</span><span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥CleanWebpackPluginæ’ä»¶</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  entry<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å…¥å£æ–‡ä»¶</span>  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>    filename<span class="token punctuation">:</span> <span class="token string">"bundle.js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    port<span class="token punctuation">:</span> <span class="token string">'8080'</span><span class="token punctuation">,</span>    inline<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    open<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    overlay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devtool<span class="token punctuation">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// ä¼šç”Ÿæˆå¯¹äºè°ƒè¯•çš„å®Œæ•´çš„.mapæ–‡ä»¶ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦</span>  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.(scss|sass)$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.scsså’Œ.sassç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">'ç‰ˆæƒæ‰€æœ‰ï¼Œç¿»ç‰ˆå¿…ç©¶'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// newä¸€ä¸ªæ’ä»¶çš„å®ä¾‹ </span>    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.html"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// newä¸€ä¸ªè¿™ä¸ªæ’ä»¶çš„å®ä¾‹ï¼Œå¹¶ä¼ å…¥ç›¸å…³çš„å‚æ•°</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// é»˜è®¤åˆ é™¤outputä¸­pathå¯¹åº”æ–‡ä»¶</span>  <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>ç°åœ¨æˆ‘ä»¬æ¯è¿è¡Œä¸€æ¬¡npm run buildåå°±ä¼šå‘ç°ï¼Œwebpackä¼šå…ˆå°†distæ–‡ä»¶å¤¹åˆ é™¤ï¼Œç„¶åå†ç”Ÿäº§æ–°çš„distæ–‡ä»¶å¤¹ã€‚</p><h4 id="ã€7-4ã€‘çƒ­æ›´æ–°ï¼ˆHotModuleReplacementPluginï¼‰"><a href="#ã€7-4ã€‘çƒ­æ›´æ–°ï¼ˆHotModuleReplacementPluginï¼‰" class="headerlink" title="ã€7.4ã€‘çƒ­æ›´æ–°ï¼ˆHotModuleReplacementPluginï¼‰"></a>ã€7.4ã€‘çƒ­æ›´æ–°ï¼ˆHotModuleReplacementPluginï¼‰</h4><p>HotModuleReplacementPluginæ˜¯ä¸€ä¸ªå¾ˆå®ç”¨çš„æ’ä»¶ï¼Œå¯ä»¥åœ¨æˆ‘ä»¬ä¿®æ”¹ä»£ç åè‡ªåŠ¨åˆ·æ–°é¢„è§ˆæ•ˆæœã€‚</p><p>è®¾ç½®æ–¹æ³•:</p><blockquote><ul><li>devServeré…ç½®é¡¹ä¸­æ·»åŠ  hotï¼štrue å‚æ•°ã€‚</li><li>å› ä¸ºHotModuleReplacementPluginæ˜¯webpackæ¨¡å—è‡ªå¸¦çš„ï¼Œæ‰€ä»¥å¼•å…¥webpackåï¼Œåœ¨pluginsé…ç½®é¡¹ä¸­ç›´æ¥ä½¿ç”¨å³å¯ã€‚</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.config.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// è¿™ä¸ªæ’ä»¶ä¸éœ€è¦å®‰è£…ï¼Œæ˜¯åŸºäºwebpackçš„ï¼Œéœ€è¦å¼•å…¥webpackæ¨¡å—</span><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥HtmlWebpackPluginæ’ä»¶</span><span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥CleanWebpackPluginæ’ä»¶</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  entry<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å…¥å£æ–‡ä»¶</span>  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>    filename<span class="token punctuation">:</span> <span class="token string">"bundle.js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    port<span class="token punctuation">:</span> <span class="token string">'8080'</span><span class="token punctuation">,</span>    inline<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    open<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    overlay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  devtool<span class="token punctuation">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// ä¼šç”Ÿæˆå¯¹äºè°ƒè¯•çš„å®Œæ•´çš„.mapæ–‡ä»¶ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦</span>  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.(scss|sass)$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.scsså’Œ.sassç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">'ç‰ˆæƒæ‰€æœ‰ï¼Œç¿»ç‰ˆå¿…ç©¶'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// newä¸€ä¸ªæ’ä»¶çš„å®ä¾‹ </span>    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.html"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// newä¸€ä¸ªè¿™ä¸ªæ’ä»¶çš„å®ä¾‹ï¼Œå¹¶ä¼ å…¥ç›¸å…³çš„å‚æ•°</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'dist'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// æ‰€è¦æ¸…ç†çš„æ–‡ä»¶å¤¹åç§°</span>    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// çƒ­æ›´æ–°æ’ä»¶ </span>  <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>npm run dev å¯åŠ¨é¡¹ç›®åï¼Œæˆ‘ä»¬å°è¯•ç€ä¿®æ”¹hello.jsçš„å†…å®¹ï¼Œä¼šå‘ç°æµè§ˆå™¨é¢„è§ˆæ•ˆæœä¼šè‡ªåŠ¨åˆ·æ–°</p><h3 id="å…«ã€é¡¹ç›®ä¼˜åŒ–åŠæ‹“å±•"><a href="#å…«ã€é¡¹ç›®ä¼˜åŒ–åŠæ‹“å±•" class="headerlink" title="å…«ã€é¡¹ç›®ä¼˜åŒ–åŠæ‹“å±•"></a>å…«ã€é¡¹ç›®ä¼˜åŒ–åŠæ‹“å±•</h3><h4 id="ã€8-1ã€‘ä»£ç åˆ†ç¦»"><a href="#ã€8-1ã€‘ä»£ç åˆ†ç¦»" class="headerlink" title="ã€8.1ã€‘ä»£ç åˆ†ç¦»"></a>ã€8.1ã€‘ä»£ç åˆ†ç¦»</h4><p>æˆ‘ä»¬çš„webpack.config.jsé…ç½®æ–‡ä»¶ï¼Œå…¶å®ä¹Ÿæ²¡é…ç½®å¤šå°‘ä¸œè¥¿å°±è¿™ä¹ˆå¤šäº†ï¼Œè¦æ˜¯ä»¥åå¢åŠ äº†æ›´å¤šé…ç½®ï¼Œå²‚ä¸æ˜¯çœ‹å¾—çœ¼èŠ±ç¼­ä¹±ï¼Œæ‰€ä»¥æœ€å¥½çš„æ–¹æ³•å°±æ˜¯æŠŠå®ƒæ‹†åˆ†ï¼Œæ–¹ä¾¿ç®¡ç†ï¼š<br>1ã€ æˆ‘ä»¬åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸‰ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«ä¸ºwebpack.common.jsã€webpack.dev.jsã€webpack.prod.jsåˆ†åˆ«ä»£è¡¨å…¬å…±é…ç½®æ–‡ä»¶ã€å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶ã€ç”Ÿäº§ç¯å¢ƒï¼ˆæŒ‡é¡¹ç›®ä¸Šçº¿æ—¶çš„ç¯å¢ƒï¼‰é…ç½®æ–‡ä»¶ã€‚<br>2ã€å®‰è£…ä¸€ä¸ªåˆå¹¶æ¨¡å—æ’ä»¶ï¼š</p><pre class=" language-js"><code class="language-js">npm install webpack<span class="token operator">-</span>merge <span class="token operator">-</span>D</code></pre><p>3ã€å°†webpack.config.jsçš„ä»£ç æ‹†åˆ†åˆ°ä¸Šè¿°æ–°å»ºçš„ä¸‰ä¸ªæ–‡ä»¶ä¸­ï¼Œç„¶åæŠŠå°†webpack.config.jsæ–‡ä»¶åˆ é™¤ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.common.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// è¿™ä¸ªæ’ä»¶ä¸éœ€è¦å®‰è£…ï¼Œæ˜¯åŸºäºwebpackçš„ï¼Œéœ€è¦å¼•å…¥webpackæ¨¡å—</span><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥HtmlWebpackPluginæ’ä»¶</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  entry<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// å…¥å£æ–‡ä»¶</span>  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>    filename<span class="token punctuation">:</span> <span class="token string">"bundle.js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.(scss|sass)$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.scsså’Œ.sassç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">'ç‰ˆæƒæ‰€æœ‰ï¼Œç¿»ç‰ˆå¿…ç©¶'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// newä¸€ä¸ªæ’ä»¶çš„å®ä¾‹ </span>    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.html"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// newä¸€ä¸ªè¿™ä¸ªæ’ä»¶çš„å®ä¾‹ï¼Œå¹¶ä¼ å…¥ç›¸å…³çš„å‚æ•°</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// çƒ­æ›´æ–°æ’ä»¶ </span>  <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.dev.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// å¼•å…¥webpack-mergeåŠŸèƒ½æ¨¡å—</span><span class="token keyword">const</span> common <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.common.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥webpack.common.js</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>common<span class="token punctuation">,</span> <span class="token punctuation">{</span>   <span class="token comment" spellcheck="true">// å°†webpack.common.jsåˆå¹¶åˆ°å½“å‰æ–‡ä»¶</span>    devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>        contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        port<span class="token punctuation">:</span> <span class="token string">'8080'</span><span class="token punctuation">,</span>        inline<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        open<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        overlay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.prod.js</span><span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> common <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.common.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥CleanWebpackPluginæ’ä»¶</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>common<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// å°†webpack.common.jsåˆå¹¶åˆ°å½“å‰æ–‡ä»¶</span>    devtool<span class="token punctuation">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// ä¼šç”Ÿæˆå¯¹äºè°ƒè¯•çš„å®Œæ•´çš„.mapæ–‡ä»¶ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦</span>    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>4ã€è®¾ç½®package.jsonçš„scriptså‘½ä»¤</p><pre class=" language-js"><code class="language-js">  <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"webpack --config webpack.prod.js"</span><span class="token punctuation">,</span>    <span class="token string">"dev"</span><span class="token punctuation">:</span> <span class="token string">"webpack-dev-server --open --config webpack.dev.js"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p>  æˆ‘ä»¬æŠŠbuildå‘½ä»¤æ”¹ä¸ºäº†webpack â€“config webpack.prod.jsï¼Œæ„æ€æ˜¯æŠŠæ‰“åŒ…é…ç½®æŒ‡å‘webpack.prod.jsé…ç½®æ–‡ä»¶ï¼Œè€Œä¹‹å‰æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ä¸€ä¸ªwebpack å‘½ä»¤ä¸ºä»€ä¹ˆå°±å¯ä»¥è¿è¡Œäº†ï¼Ÿå› ä¸ºwebpack å‘½ä»¤æ˜¯é»˜è®¤æŒ‡å‘webpack.config.jsè¿™ä¸ªæ–‡ä»¶åç§°äº†ï¼Œç°åœ¨æˆ‘ä»¬æŠŠæ–‡ä»¶åç§°æ”¹äº†ï¼Œæ‰€ä»¥å°±éœ€è¦è‡ªå®šä¹‰æŒ‡å‘æ–°çš„æ–‡ä»¶ï¼Œdevå‘½ä»¤ä¸­çš„æŒ‡ä»¤ä¹ŸåŒç†ã€‚ç„¶åæˆ‘ä»¬è¿è¡Œnpm run build å’Œnpm run devï¼Œæ•ˆæœåº”è¯¥å’Œæˆ‘ä»¬åˆ†ç¦»ä»£ç å‰æ˜¯ä¸€æ ·çš„ã€‚</p><h4 id="ã€8-2ã€‘å¤šå…¥å£"><a href="#ã€8-2ã€‘å¤šå…¥å£" class="headerlink" title="ã€8.2ã€‘å¤šå…¥å£"></a>ã€8.2ã€‘å¤šå…¥å£</h4><p>å¤šå‡ºå£åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬éƒ½æ˜¯ä¸€ä¸ªå…¥å£æ–‡ä»¶å’Œä¸€ä¸ªå‡ºå£æ–‡ä»¶ï¼Œè¦æ˜¯æˆ‘ä¸æ­¢ä¸€ä¸ªå…¥å£æ–‡ä»¶å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬æ¥è¯•è¯•ï¼š</p><p>åœ¨webpack.common.jsä¸­çš„enteryå…¥å£æœ‰ä¸‰ç§å†™æ³•ï¼Œåˆ†åˆ«ä¸ºå­—ç¬¦ä¸²ã€æ•°ç»„å’Œå¯¹è±¡ï¼Œå¹³æ—¶æˆ‘ä»¬ç”¨å¾—æ¯”è¾ƒå¤šçš„æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒæ”¹ä¸ºå¯¹è±¡çš„å†™æ³•ï¼Œé¦–å…ˆæˆ‘ä»¬åœ¨srcæ–‡ä»¶å¤¹ä¸‹æ–°å»ºindex2.jsæ–‡ä»¶ï¼Œåç§°ä»»æ„ã€‚å› ä¸ºæœ‰å¤šä¸ªå…¥å£ï¼Œæ‰€ä»¥è‚¯å®šå¾—å¤šä¸ªå‡ºå£æ¥è¿›è¡Œä¸€ä¸€å¯¹åº”äº†ï¼Œæ‰€ä»¥entryå’Œoutputé…ç½®å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js">    entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>        index<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        index2<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index2.js"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>        path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>        filename<span class="token punctuation">:</span> <span class="token string">"[name].js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// index2.js</span><span class="token keyword">function</span> <span class="token function">page2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'æˆ‘æ˜¯ç¬¬äºŒä¸ªå…¥å£æ–‡ä»¶'</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> element<span class="token punctuation">;</span><span class="token punctuation">}</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">page2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ç„¶åæˆ‘ä»¬è¿è¡Œnpm run buildæ‰“åŒ…åå‘ç°distæ–‡ä»¶å¤¹ä¸‹ä¼šå¤šå‡ºindex2.jsæ–‡ä»¶ï¼ŒåŒæ—¶index.htmlä¹Ÿä¼šè‡ªåŠ¨å°†index2.jså¼•å…¥ï¼Œç„¶åæˆ‘ä»¬è¿è¡Œnpm run devæ˜¾ç¤ºå¦‚ä¸‹ï¼š<br><a href="https://user-gold-cdn.xitu.io/2019/12/24/16f374c31dcc0a82?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" target="_blank" rel="noopener">å›¾</a></p><h4 id="ã€8-3ã€‘åˆ†ç¦»css"><a href="#ã€8-3ã€‘åˆ†ç¦»css" class="headerlink" title="ã€8.3ã€‘åˆ†ç¦»css"></a>ã€8.3ã€‘åˆ†ç¦»css</h4><p>webpackçš„ç†å¿µæ˜¯æŠŠcssã€jså…¨éƒ½æ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œä½†è¦æ˜¯æˆ‘ä»¬æƒ³æŠŠcssåˆ†ç¦»å‡ºæ¥è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><pre class=" language-js"><code class="language-js">npm install extract<span class="token operator">-</span>text<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin@next <span class="token operator">-</span>D  <span class="token comment" spellcheck="true">// åŠ ä¸Š@nextæ˜¯ä¸ºäº†å®‰è£…æœ€æ–°çš„ï¼Œå¦åˆ™ä¼šå‡ºé”™</span></code></pre><p>å®‰è£…å®Œä»¥ä¸Šæ’ä»¶ååœ¨webpack.common.jsæ–‡ä»¶ä¸­å¼•å…¥å¹¶ä½¿ç”¨è¯¥æ’ä»¶ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.common.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// è¿™ä¸ªæ’ä»¶ä¸éœ€è¦å®‰è£…ï¼Œæ˜¯åŸºäºwebpackçš„ï¼Œéœ€è¦å¼•å…¥webpackæ¨¡å—</span><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥HtmlWebpackPluginæ’ä»¶</span><span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'extract-text-webpack-plugin'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//å¼•å…¥åˆ†ç¦»æ’ä»¶</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>    entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>        index<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        index2<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index2.js"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>        path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>        filename<span class="token punctuation">:</span> <span class="token string">"[name].js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    module<span class="token punctuation">:</span> <span class="token punctuation">{</span>        rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span>                test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span>                use<span class="token punctuation">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// è¿™é‡Œæˆ‘ä»¬éœ€è¦è°ƒç”¨åˆ†ç¦»æ’ä»¶å†…çš„extractæ–¹æ³•</span>                    fallback<span class="token punctuation">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// ç›¸å½“äºå›æ»šï¼Œç»css-loaderå¤„ç†è¿‡çš„cssæœ€ç»ˆå†ç»è¿‡style-loaderå¤„ç†</span>                    use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'css-loader'</span><span class="token punctuation">]</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span>                test<span class="token punctuation">:</span> <span class="token regex">/\.(scss|sass)$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.scsså’Œ.sassç»“å°¾çš„æ–‡ä»¶</span>                use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>            <span class="token punctuation">}</span>        <span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">'ç‰ˆæƒæ‰€æœ‰ï¼Œç¿»ç‰ˆå¿…ç©¶'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// newä¸€ä¸ªæ’ä»¶çš„å®ä¾‹ </span>        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.html"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// newä¸€ä¸ªè¿™ä¸ªæ’ä»¶çš„å®ä¾‹ï¼Œå¹¶ä¼ å…¥ç›¸å…³çš„å‚æ•°</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// çƒ­æ›´æ–°æ’ä»¶</span>        <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">'css/index.css'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å°†cssåˆ†ç¦»åˆ°/distæ–‡ä»¶å¤¹ä¸‹çš„cssæ–‡ä»¶å¤¹ä¸­çš„index.css </span>    <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>è¿è¡Œnpm run buildåä¼šå‘ç°distæ–‡ä»¶å¤¹ä¸‹å¤šä¸€ä¸ªcssæ–‡ä»¶</p><h4 id="ã€8-4ã€‘æ¶ˆé™¤å†—ä½™çš„css"><a href="#ã€8-4ã€‘æ¶ˆé™¤å†—ä½™çš„css" class="headerlink" title="ã€8.4ã€‘æ¶ˆé™¤å†—ä½™çš„css"></a>ã€8.4ã€‘æ¶ˆé™¤å†—ä½™çš„css</h4><p>æœ‰æ—¶å€™æˆ‘ä»¬csså†™å¾—å¤šäº†ï¼Œå¯èƒ½ä¼šä¸è‡ªè§‰çš„å†™é‡å¤äº†ä¸€äº›æ ·å¼ï¼Œè¿™å°±é€ æˆäº†å¤šä½™çš„ä»£ç ï¼Œä¸Šçº¿å‰åˆå¿˜äº†æ£€æŸ¥ï¼Œå¯¹äºè¿™æ–¹é¢ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡å»ä¼˜åŒ–å®ƒï¼Œwebpackå°±æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚</p><pre class=" language-js"><code class="language-js">npm install purifycss<span class="token operator">-</span>webpack purify<span class="token operator">-</span>css glob <span class="token operator">-</span>D</code></pre><p>å®‰è£…å®Œååœ¨webpack.prod.jsæ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼Œå¼•å…¥purifycss-webpackå’Œglobæ’ä»¶å¹¶ä½¿ç”¨å®ƒä»¬</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.prod.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> common <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.common.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥CleanWebpackPluginæ’ä»¶</span><span class="token keyword">const</span> PurifyCssWebpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'purifycss-webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥PurifyCssWebpackæ’ä»¶</span><span class="token keyword">const</span> glob <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'glob'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// å¼•å…¥globæ¨¡å—,ç”¨äºæ‰«æå…¨éƒ¨htmlæ–‡ä»¶ä¸­æ‰€å¼•ç”¨çš„css</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>common<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// å°†webpack.common.jsåˆå¹¶åˆ°å½“å‰æ–‡ä»¶</span>    devtool<span class="token punctuation">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// ä¼šç”Ÿæˆå¯¹äºè°ƒè¯•çš„å®Œæ•´çš„.mapæ–‡ä»¶ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦</span>    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">new</span> <span class="token class-name">PurifyCssWebpack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            paths<span class="token punctuation">:</span> glob<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/*.html'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// åŒæ­¥æ‰«ææ‰€æœ‰htmlæ–‡ä»¶ä¸­æ‰€å¼•ç”¨çš„css</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>æˆ‘ä»¬åœ¨index.cssæ–‡ä»¶ä¸­å¢åŠ ä¸€äº›å¤šä½™çš„ä»£ç è¯•è¯•ï¼š</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* index.css */</span><span class="token selector">body </span><span class="token punctuation">{</span>    <span class="token property">background</span><span class="token punctuation">:</span> gray<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* å†—ä½™css */</span><span class="token selector"><span class="token class">.a</span> </span><span class="token punctuation">{</span>    <span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>    <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* å†—ä½™css */</span><span class="token selector"><span class="token class">.b</span> </span><span class="token punctuation">{</span>    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>ç„¶åæˆ‘ä»¬è¿è¡Œnpm run buildåå‘ç°æ‰“åŒ…åçš„index.cssä¸­æ˜¯æ²¡æœ‰å¤šä½™çš„.aå’Œ.bä»£ç çš„</p><h4 id="ã€8-5ã€‘å¤„ç†å›¾ç‰‡"><a href="#ã€8-5ã€‘å¤„ç†å›¾ç‰‡" class="headerlink" title="ã€8.5ã€‘å¤„ç†å›¾ç‰‡"></a>ã€8.5ã€‘å¤„ç†å›¾ç‰‡</h4><p>å¦‚æœè¦ä½¿ç”¨å›¾ç‰‡ï¼Œæˆ‘ä»¬å¾—å®‰è£…ä¸¤ä¸ªloader</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// è™½ç„¶æˆ‘ä»¬åªéœ€ä½¿ç”¨url-loaderï¼Œä½†url-loaderæ˜¯ä¾èµ–äºfile-loaderçš„ï¼Œæ‰€ä»¥ä¹Ÿè¦å®‰è£…</span>npm install url<span class="token operator">-</span>loader file<span class="token operator">-</span>loader <span class="token operator">-</span>D </code></pre><p>ç„¶ååœ¨webpack.common.jsä¸­é…ç½®url-loader</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// webpack.common.js</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// è¿™ä¸ªæ’ä»¶ä¸éœ€è¦å®‰è£…ï¼Œæ˜¯åŸºäºwebpackçš„ï¼Œéœ€è¦å¼•å…¥webpackæ¨¡å—</span><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¼•å…¥HtmlWebpackPluginæ’ä»¶</span><span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'extract-text-webpack-plugin'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//å¼•å…¥åˆ†ç¦»æ’ä»¶</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>    entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>        index<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        index2<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index2.js"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>        path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹ </span>        filename<span class="token punctuation">:</span> <span class="token string">"[name].js"</span> <span class="token comment" spellcheck="true">// æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    module<span class="token punctuation">:</span> <span class="token punctuation">{</span>        rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>            <span class="token punctuation">{</span>                test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span>                use<span class="token punctuation">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// è¿™é‡Œæˆ‘ä»¬éœ€è¦è°ƒç”¨åˆ†ç¦»æ’ä»¶å†…çš„extractæ–¹æ³•</span>                    fallback<span class="token punctuation">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// ç›¸å½“äºå›æ»šï¼Œç»css-loaderå¤„ç†è¿‡çš„cssæœ€ç»ˆå†ç»è¿‡style-loaderå¤„ç†</span>                    use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'css-loader'</span><span class="token punctuation">]</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span>                test<span class="token punctuation">:</span> <span class="token regex">/\.(scss|sass)$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.scsså’Œ.sassç»“å°¾çš„æ–‡ä»¶</span>                use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">{</span>                test<span class="token punctuation">:</span> <span class="token regex">/\.(png|jpg|svg|gif)$/</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…å›¾ç‰‡æ ¼å¼å</span>                use<span class="token punctuation">:</span> <span class="token punctuation">[</span>                    <span class="token punctuation">{</span> loader<span class="token punctuation">:</span> <span class="token string">'url-loader'</span>  <span class="token comment" spellcheck="true">// ä½¿ç”¨url-loader }</span>                <span class="token punctuation">]</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">'ç‰ˆæƒæ‰€æœ‰ï¼Œç¿»ç‰ˆå¿…ç©¶'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// newä¸€ä¸ªæ’ä»¶çš„å®ä¾‹ </span>        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"/src/index.html"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// newä¸€ä¸ªè¿™ä¸ªæ’ä»¶çš„å®ä¾‹ï¼Œå¹¶ä¼ å…¥ç›¸å…³çš„å‚æ•°</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// çƒ­æ›´æ–°æ’ä»¶</span>        <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">'css/index.css'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å°†cssåˆ†ç¦»åˆ°/distæ–‡ä»¶å¤¹ä¸‹çš„cssæ–‡ä»¶å¤¹ä¸­çš„index.css </span>    <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>æˆ‘ä»¬æŠŠindex.cssçš„èƒŒæ™¯æ”¹ä¸ºå›¾ç‰‡</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* index.css */</span><span class="token selector">body </span><span class="token punctuation">{</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url">url('./images/bg.jpg')</span> no-repeat<span class="token punctuation">;</span>    <span class="token property">background-size</span><span class="token punctuation">:</span> <span class="token number">200</span>px <span class="token number">250</span>px<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#fff</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æˆ‘ä»¬ä¼šå‘ç°èƒŒæ™¯å›¾ç‰‡å˜æˆäº†base64ï¼Œå› ä¸ºwebpackä¼šè‡ªåŠ¨ä¼˜åŒ–å›¾ç‰‡ï¼Œå‡å°‘å‘é€è¯·æ±‚ï¼Œä½†æ˜¯å¦‚æœæˆ‘æƒ³æŠŠå®ƒå˜æˆè·¯å¾„çš„è¯¥æ€ä¹ˆåšï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥æŠŠwebpack.common.jsçš„loaderé…ç½®æ›´æ”¹ä¸€ä¸‹ï¼Œå¢åŠ optionsé€‰é¡¹ï¼š</p><pre class=" language-js"><code class="language-js">module<span class="token punctuation">:</span> <span class="token punctuation">{</span>    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// è¿™é‡Œæˆ‘ä»¬éœ€è¦è°ƒç”¨åˆ†ç¦»æ’ä»¶å†…çš„extractæ–¹æ³•</span>          fallback<span class="token punctuation">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// ç›¸å½“äºå›æ»šï¼Œç»css-loaderå¤„ç†è¿‡çš„cssæœ€ç»ˆå†ç»è¿‡style-loaderå¤„ç†</span>          use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>          publicPath<span class="token punctuation">:</span> <span class="token string">'../'</span>  <span class="token comment" spellcheck="true">// ç»™èƒŒæ™¯å›¾ç‰‡è®¾ç½®ä¸€ä¸ªå…¬å…±è·¯å¾„</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.(scss|sass)$/</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…ä»¥.scsså’Œ.sassç»“å°¾çš„æ–‡ä»¶</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// éœ€è¦ç”¨çš„loaderï¼Œä¸€å®šæ˜¯è¿™ä¸ªé¡ºåºï¼Œå› ä¸ºè°ƒç”¨loaderæ˜¯ä»å³å¾€å·¦ç¼–è¯‘çš„</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.(png|jpg|svg|gif)$/</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// æ­£åˆ™åŒ¹é…å›¾ç‰‡æ ¼å¼å</span>        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>          <span class="token punctuation">{</span>            loader<span class="token punctuation">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// ä½¿ç”¨url-loader</span>            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>              limit<span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// é™åˆ¶åªæœ‰å°äº1kbçš„å›¾ç‰‡æ‰è½¬ä¸ºbase64ï¼Œä¾‹å­å›¾ç‰‡ä¸º1.47kb,æ‰€ä»¥ä¸ä¼šè¢«è½¬åŒ–</span>              outputPath<span class="token punctuation">:</span> <span class="token string">'images'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// è®¾ç½®æ‰“åŒ…åå›¾ç‰‡å­˜æ”¾çš„æ–‡ä»¶å¤¹åç§°</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span>        <span class="token punctuation">]</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><h4 id="ã€8-6ã€‘å‹ç¼©ä»£ç "><a href="#ã€8-6ã€‘å‹ç¼©ä»£ç " class="headerlink" title="ã€8.6ã€‘å‹ç¼©ä»£ç "></a>ã€8.6ã€‘å‹ç¼©ä»£ç </h4><p>  åœ¨webpack4.xç‰ˆæœ¬ä¸­å½“ä½ æ‰“åŒ…æ—¶ä¼šè‡ªåŠ¨æŠŠjså‹ç¼©äº†ï¼Œè€Œä¸”npm run devè¿è¡ŒæœåŠ¡å™¨æ—¶ï¼Œå½“ä½ ä¿®æ”¹ä»£ç æ—¶ï¼Œçƒ­æ›´æ–°å¾ˆæ…¢ï¼Œè¿™æ˜¯å› ä¸ºä½ ä¿®æ”¹åwebpackåˆè‡ªåŠ¨ä¸ºä½ æ‰“åŒ…ï¼Œè¿™å°±å¯¼è‡´äº†åœ¨å¼€å‘ç¯å¢ƒä¸­æ•ˆç‡å¾ˆæ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒåŒºåˆ†å¼€æ¥ï¼Œè¿™æ—¶å°±ä½“ç°å‡ºæˆ‘ä»¬ä»£ç åˆ†ç¦»çš„ä¾¿æ·æ€§äº†ï¼Œwebpack.dev.jsä»£è¡¨å¼€å‘ç¯å¢ƒçš„é…ç½®ï¼Œwebpack.prod.jsä»£è¡¨ç”Ÿäº§ç¯å¢ƒçš„é…ç½®ï¼Œè¿™æ—¶æˆ‘ä»¬åªè¦åœ¨package.jsonæ–‡ä»¶ä¸­é…ç½®å¯¹åº”ç¯å¢ƒçš„å‘½ä»¤å³å¯ï¼š</p><pre class=" language-js"><code class="language-js">  <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"webpack --config webpack.prod.js --mode production"</span><span class="token punctuation">,</span>    <span class="token string">"dev"</span><span class="token punctuation">:</span> <span class="token string">"webpack-dev-server --open --config webpack.dev.js --mode development"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p>  â€“mode productionè¡¨ç¤ºæ‰“åŒ…æ—¶æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œä¼šè‡ªå·±å°†jsè¿›è¡Œå‹ç¼©ï¼Œè€Œâ€“mode developmentè¡¨ç¤ºå½“å‰æ˜¯å¼€å‘ç¯å¢ƒï¼Œä¸éœ€è¦è¿›è¡Œå‹ç¼©ã€‚è¿™åŒæ—¶ä¹Ÿè§£å†³äº†ä¹‹å‰ä¸€ç›´é—ç•™çš„è­¦å‘Šé—®é¢˜</p><p>ä½œè€…ï¼šdingFY<br>é“¾æ¥ï¼š<a href="https://juejin.im/post/5e01de37f265da33ab637daf" target="_blank" rel="noopener">https://juejin.im/post/5e01de37f265da33ab637daf</a><br>æ¥æºï¼šæ˜é‡‘<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>http2 ä¸ http1.1 çš„åŒºåˆ«</title>
      <link href="/2019/12/30/js-6/"/>
      <url>/2019/12/30/js-6/</url>
      
        <content type="html"><![CDATA[<h3 id="äºŒè¿›åˆ¶åˆ†å¸§"><a href="#äºŒè¿›åˆ¶åˆ†å¸§" class="headerlink" title="äºŒè¿›åˆ¶åˆ†å¸§"></a>äºŒè¿›åˆ¶åˆ†å¸§</h3><p>å¤§å®¶éƒ½çŸ¥é“HTTP1.Xä½¿ç”¨çš„æ˜¯æ˜æ–‡çš„æ–‡æœ¬ï¼ˆå­—ç¬¦ä¸²ï¼‰ä¼ é€ï¼Œè€ŒHTTP2ä½¿ç”¨çš„æ˜¯äºŒè¿›åˆ¶ä¼ é€ï¼ŒäºŒè¿›åˆ¶ä¼ é€çš„å•ä½æ˜¯å¸§å’Œæµã€‚å¸§ç»„æˆäº†æµï¼ŒåŒæ—¶æµè¿˜æœ‰æµIDæ ‡ç¤ºï¼Œé€šè¿‡æµIDå°±ç‰µæ‰¯å‡ºäº†ç¬¬äºŒä¸ªåŒºåˆ«</p><h3 id="å¤šè·¯å¤ç”¨"><a href="#å¤šè·¯å¤ç”¨" class="headerlink" title="å¤šè·¯å¤ç”¨"></a>å¤šè·¯å¤ç”¨</h3><p>å› ä¸ºæœ‰æµIDï¼Œæ‰€ä»¥é€šè¿‡åŒä¸€ä¸ªhttpè¯·æ±‚å®ç°å¤šä¸ªhttpè¯·æ±‚ä¼ è¾“å˜æˆäº†å¯èƒ½ï¼Œå¯ä»¥é€šè¿‡æµIDæ¥æ ‡ç¤ºç©¶ç«Ÿæ˜¯å“ªä¸ªæµä»è€Œå®šä½åˆ°æ˜¯å“ªä¸ªhttpè¯·æ±‚</p><h3 id="å¤´éƒ¨å‹ç¼©"><a href="#å¤´éƒ¨å‹ç¼©" class="headerlink" title="å¤´éƒ¨å‹ç¼©"></a>å¤´éƒ¨å‹ç¼©</h3><p>HTTP2é€šè¿‡gzipå’Œcompresså‹ç¼©å¤´éƒ¨ç„¶åå†å‘é€ï¼ŒåŒæ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯åŒæ—¶ç»´æŠ¤ä¸€å¼ å¤´ä¿¡æ¯è¡¨ï¼Œæ‰€æœ‰å­—æ®µéƒ½è®°å½•åœ¨è¿™å¼ è¡¨ä¸­ï¼Œè¿™æ ·åé¢æ¯æ¬¡ä¼ è¾“åªéœ€è¦ä¼ è¾“è¡¨é‡Œé¢çš„ç´¢å¼•Idå°±è¡Œï¼Œé€šè¿‡ç´¢å¼•IDå°±å¯ä»¥çŸ¥é“è¡¨å¤´çš„å€¼äº†</p><h3 id="æœåŠ¡å™¨æ¨é€"><a href="#æœåŠ¡å™¨æ¨é€" class="headerlink" title="æœåŠ¡å™¨æ¨é€"></a>æœåŠ¡å™¨æ¨é€</h3><p>HTTP2æ”¯æŒåœ¨å®¢æˆ·ç«¯æœªç»è¯·æ±‚è®¸å¯çš„æƒ…å†µä¸‹ï¼Œä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€å†…å®¹</p><p><a href="https://juejin.im/post/5b88a4f56fb9a01a0b31a67e" target="_blank" rel="noopener">å‚è€ƒ</a></p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯FOUCï¼Ÿå¦‚ä½•é¿å…FOUC</title>
      <link href="/2019/11/19/t-0/"/>
      <url>/2019/11/19/t-0/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯FOUCï¼Ÿå¦‚ä½•é¿å…FOUCï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯FOUCï¼Ÿå¦‚ä½•é¿å…FOUCï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯FOUCï¼Ÿå¦‚ä½•é¿å…FOUCï¼Ÿ"></a>ä»€ä¹ˆæ˜¯FOUCï¼Ÿå¦‚ä½•é¿å…FOUCï¼Ÿ</h2><p>FOUCå³æ— æ ·å¼å†…å®¹é—ªçƒï¼ˆFlash Of Unstyled Contentï¼‰ï¼Œæ˜¯åœ¨IEä¸‹é€šè¿‡@importå¯¼å…¥cssæ–‡ä»¶å¼•èµ·çš„ã€‚</p><p>IEä¼šé¦–å…ˆåŠ è½½æ•´ä¸ªHTMLæ–‡æ¡£çš„DOMï¼Œç„¶åå†å¯¼å…¥å¤–éƒ¨çš„cssæ–‡ä»¶ã€‚å› æ­¤ï¼Œåœ¨é¡µé¢DOMåŠ è½½å®Œæˆåˆ°csså¯¼å…¥å®Œæˆä¹‹é—´ï¼Œæœ‰ä¸€æ®µæ—¶é—´é¡µé¢ä¸Šçš„å†…å®¹æ˜¯æ²¡æœ‰æ ·å¼çš„ï¼Œè¿™æ®µæ—¶é—´çš„é•¿çŸ­è·Ÿç½‘é€Ÿå’Œç”µè„‘é€Ÿåº¦éƒ½æœ‰å…³ç³»ã€‚</p><blockquote><ul><li>è§£å†³æ–¹æ³•ï¼šåœ¨<head><meta name="generator" content="Hexo 3.9.0">ä¹‹é—´åŠ å…¥ä¸€ä¸ª<link>æ ‡ç­¾æ¥å¯¼å…¥cssæ–‡ä»¶<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head></li></ul></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Event Loop äº‹ä»¶å¾ªç¯</title>
      <link href="/2019/11/07/js-5/"/>
      <url>/2019/11/07/js-5/</url>
      
        <content type="html"><![CDATA[<h2 id="JSä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹çš„"><a href="#JSä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹çš„" class="headerlink" title="JSä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹çš„?"></a>JSä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹çš„?</h2><p>æœ€åˆè®¾è®¡JSæ˜¯ç”¨æ¥åœ¨æµè§ˆå™¨éªŒè¯è¡¨å•æ“æ§DOMå…ƒç´ çš„æ˜¯ä¸€é—¨è„šæœ¬è¯­è¨€ï¼Œå¦‚æœjsæ˜¯å¤šçº¿ç¨‹çš„é‚£ä¹ˆä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹ä¸€ä¸ªDOMå…ƒç´ è¿›è¡Œäº†ç›¸äº’å†²çªçš„æ“ä½œï¼Œé‚£ä¹ˆæµè§ˆå™¨çš„è§£æå™¨æ˜¯æ— æ³•æ‰§è¡Œçš„ã€‚</p><h2 id="JSä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥"><a href="#JSä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥" class="headerlink" title="JSä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥?"></a>JSä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥?</h2><p>å¦‚æœJSä¸­ä¸å­˜åœ¨å¼‚æ­¥ï¼Œåªèƒ½è‡ªä¸Šè€Œä¸‹æ‰§è¡Œï¼Œå¦‚æœä¸Šä¸€è¡Œè§£ææ—¶é—´å¾ˆé•¿ï¼Œé‚£ä¹ˆä¸‹é¢çš„ä»£ç å°±ä¼šè¢«é˜»å¡ã€‚å¯¹äºç”¨æˆ·è€Œè¨€ï¼Œé˜»å¡å°±æ„å‘³ç€â€å¡æ­»â€ï¼Œè¿™æ ·å°±å¯¼è‡´äº†å¾ˆå·®çš„ç”¨æˆ·ä½“éªŒã€‚æ¯”å¦‚åœ¨è¿›è¡Œajaxè¯·æ±‚çš„æ—¶å€™å¦‚æœæ²¡æœ‰è¿”å›æ•°æ®åé¢çš„ä»£ç å°±æ²¡åŠæ³•æ‰§è¡Œã€‚</p><h2 id="JSå•çº¿ç¨‹åˆæ˜¯å¦‚ä½•å®ç°å¼‚æ­¥çš„å‘¢"><a href="#JSå•çº¿ç¨‹åˆæ˜¯å¦‚ä½•å®ç°å¼‚æ­¥çš„å‘¢" class="headerlink" title="JSå•çº¿ç¨‹åˆæ˜¯å¦‚ä½•å®ç°å¼‚æ­¥çš„å‘¢?"></a>JSå•çº¿ç¨‹åˆæ˜¯å¦‚ä½•å®ç°å¼‚æ­¥çš„å‘¢?</h2><p>jsä¸­çš„å¼‚æ­¥ä»¥åŠå¤šçº¿ç¨‹éƒ½å¯ä»¥ç†è§£æˆä¸ºä¸€ç§â€œå‡è±¡â€ï¼Œå°±æ‹¿h5çš„WebWorkeræ¥è¯´ï¼Œå­çº¿ç¨‹æœ‰è¯¸å¤šé™åˆ¶ï¼Œä¸èƒ½æ§åˆ¶DOMå…ƒç´ ã€ä¸èƒ½ä¿®æ”¹å…¨å±€å¯¹è±¡ ç­‰ç­‰ï¼Œé€šå¸¸åªç”¨æ¥åšè®¡ç®—åšæ•°æ®å¤„ç†ã€‚è¿™äº›é™åˆ¶å¹¶æ²¡æœ‰è¿èƒŒæˆ‘ä»¬ä¹‹å‰çš„è§‚ç‚¹ï¼Œæ‰€ä»¥è¯´æ˜¯â€œå‡è±¡â€ã€‚JSå¼‚æ­¥çš„æ‰§è¡Œæœºåˆ¶å…¶å®å°±æ˜¯äº‹ä»¶å¾ªç¯(eventloop)ï¼Œç†è§£äº†eventloopæœºåˆ¶ï¼Œå°±ç†è§£äº†JSå¼‚æ­¥çš„æ‰§è¡Œæœºåˆ¶ã€‚</p><h2 id="JSçš„äº‹ä»¶å¾ªç¯-eventloop-æ˜¯æ€ä¹ˆè¿ä½œçš„ï¼Ÿ"><a href="#JSçš„äº‹ä»¶å¾ªç¯-eventloop-æ˜¯æ€ä¹ˆè¿ä½œçš„ï¼Ÿ" class="headerlink" title="JSçš„äº‹ä»¶å¾ªç¯(eventloop)æ˜¯æ€ä¹ˆè¿ä½œçš„ï¼Ÿ"></a>JSçš„äº‹ä»¶å¾ªç¯(eventloop)æ˜¯æ€ä¹ˆè¿ä½œçš„ï¼Ÿ</h2><p>äº‹ä»¶å¾ªç¯ã€eventloopã€è¿è¡Œæœºåˆ¶ è¿™ä¸‰ä¸ªæœ¯è¯­å…¶å®è¯´çš„æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œåœ¨å†™è¿™ç¯‡æ–‡ç« ä¹‹å‰æˆ‘ä¸€ç›´ä»¥ä¸ºäº‹ä»¶å¾ªç¯ç®€å•çš„å¾ˆï¼Œå°±æ˜¯å…ˆæ‰§è¡ŒåŒæ­¥æ“ä½œï¼Œç„¶åæŠŠå¼‚æ­¥æ“ä½œæ’åœ¨äº‹ä»¶é˜Ÿåˆ—é‡Œï¼Œç­‰åŒæ­¥æ“ä½œéƒ½è¿è¡Œå®Œäº†ï¼ˆè¿è¡Œæ ˆç©ºé—²ï¼‰ï¼ŒæŒ‰é¡ºåºè¿è¡Œäº‹ä»¶é˜Ÿåˆ—é‡Œçš„å†…å®¹ã€‚ä½†æ˜¯è¿œä¸æ­¢è¿™ä¹ˆè‚¤æµ…ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ä¸€æ­¥ä¸€æ­¥çš„æ·±å…¥æ¥äº†è§£ã€‚</p><blockquote><ul><li>é¦–å…ˆåˆ¤æ–­JSæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ï¼ŒåŒæ­¥å°±è¿›å…¥ä¸»çº¿ç¨‹è¿è¡Œï¼Œå¼‚æ­¥å°±è¿›å…¥event tableã€‚</li></ul></blockquote><blockquote><ul><li>å¼‚æ­¥ä»»åŠ¡åœ¨event tableä¸­æ³¨å†Œäº‹ä»¶ï¼Œå½“æ»¡è¶³è§¦å‘æ¡ä»¶åï¼ˆè§¦å‘æ¡ä»¶å¯èƒ½æ˜¯å»¶æ—¶ä¹Ÿå¯èƒ½æ˜¯ajaxå›è°ƒï¼‰ï¼Œè¢«æ¨å…¥event queue</li></ul></blockquote><blockquote><ul><li>åŒæ­¥ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹åä¸€ç›´æ‰§è¡Œï¼Œç›´åˆ°ä¸»çº¿ç¨‹ç©ºé—²æ—¶ï¼Œæ‰ä¼šå»event queueä¸­æŸ¥çœ‹æ˜¯å¦æœ‰å¯æ‰§è¡Œçš„å¼‚æ­¥ä»»åŠ¡ï¼Œå¦‚æœæœ‰å°±æ¨å…¥ä¸»çº¿ç¨‹ä¸­</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2ç§’åˆ°äº†'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span></code></pre><p>  æˆ‘ä»¬ç”¨ä¸Šé¢çš„ç¬¬äºŒæ¡æ¥åˆ†æä¸€ä¸‹è¿™æ®µè„šæœ¬ï¼ŒsetTimeoutæ˜¯å¼‚æ­¥æ“ä½œé¦–å…ˆè¿›å…¥event tableï¼Œæ³¨å†Œçš„äº‹ä»¶å°±æ˜¯ä»–çš„å›è°ƒï¼Œè§¦å‘æ¡ä»¶å°±æ˜¯2ç§’ä¹‹åï¼Œå½“æ»¡è¶³æ¡ä»¶å›è°ƒè¢«æ¨å…¥event queueï¼Œå½“ä¸»çº¿ç¨‹ç©ºé—²æ—¶ä¼šå»event queueé‡ŒæŸ¥çœ‹æ˜¯å¦æœ‰å¯æ‰§è¡Œçš„ä»»åŠ¡ã€‚</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// åŒæ­¥ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">// å¼‚æ­¥ä»»åŠ¡ï¼Œè¢«æ”¾å…¥event tableï¼Œ 0ç§’ä¹‹åè¢«æ¨å…¥event queueé‡Œ</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// åŒæ­¥ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹</span></code></pre><p>  1ã€3æ˜¯åŒæ­¥ä»»åŠ¡é©¬ä¸Šä¼šè¢«æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæˆä¹‹åä¸»çº¿ç¨‹ç©ºé—²å»event queue(äº‹ä»¶é˜Ÿåˆ—)é‡ŒæŸ¥çœ‹æ˜¯å¦æœ‰ä»»åŠ¡åœ¨ç­‰å¾…æ‰§è¡Œï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆsetTimeoutçš„å»¶è¿Ÿæ—¶é—´æ˜¯0æ¯«ç§’å´åœ¨æœ€åæ‰§è¡Œçš„åŸå› ã€‚</p><h2 id="äº‹ä»¶å¾ªç¯æœºåˆ¶åˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ"><a href="#äº‹ä»¶å¾ªç¯æœºåˆ¶åˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ" class="headerlink" title="äº‹ä»¶å¾ªç¯æœºåˆ¶åˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ"></a>äº‹ä»¶å¾ªç¯æœºåˆ¶åˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ</h2><p>  ä¸åŒç±»å‹çš„ä»»åŠ¡ä¼šè¿›å…¥å¯¹åº”çš„Event Queueï¼Œæ¯”å¦‚setTimeoutå’ŒsetIntervalä¼šè¿›å…¥ç›¸åŒ(å®ä»»åŠ¡)çš„Event Queueã€‚è€ŒPromiseå’Œprocess.nextTickä¼šè¿›å…¥ç›¸åŒ(å¾®ä»»åŠ¡)çš„Event Queue</p><p>ä¸Šé¢çš„æ¦‚å¿µå¾ˆåŸºç¡€ä¹Ÿå¾ˆå®¹æ˜“ç†è§£ä½†ä¸å¹¸çš„æ¶ˆæ¯æ˜¯ä¸Šé¢è®²çš„ä¸€åˆ‡éƒ½ä¸æ˜¯ç»å¯¹çš„æ­£ç¡®ï¼Œå› ä¸ºæ¶‰åŠåˆ°Promiseã€async/awaitã€process.nextTick(node)æ‰€ä»¥è¦å¯¹ä»»åŠ¡æœ‰æ›´ç²¾ç»†çš„å®šä¹‰ï¼š</p><blockquote><p>å®ä»»åŠ¡(macro-task)ï¼šåŒ…æ‹¬æ•´ä½“ä»£ç scriptï¼ŒsetTimeoutï¼ŒsetIntervalã€‚<br>å¾®ä»»åŠ¡(micro-task)ï¼šPromiseï¼Œprocess.nextTickã€‚</p></blockquote><blockquote><ul><li>1.ã€Œå®ä»»åŠ¡ã€ã€ã€Œå¾®ä»»åŠ¡ã€éƒ½æ˜¯é˜Ÿåˆ—ï¼Œä¸€æ®µä»£ç æ‰§è¡Œæ—¶ï¼Œä¼šå…ˆæ‰§è¡Œå®ä»»åŠ¡ä¸­çš„åŒæ­¥ä»£ç ã€‚</li><li>2.è¿›è¡Œç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯çš„æ—¶å€™ä¼šæŠŠå…¨éƒ¨çš„jsè„šæœ¬å½“æˆä¸€ä¸ªå®ä»»åŠ¡æ¥è¿è¡Œã€‚</li><li>3.å¦‚æœæ‰§è¡Œä¸­é‡åˆ°setTimeoutä¹‹ç±»å®ä»»åŠ¡ï¼Œé‚£ä¹ˆå°±æŠŠè¿™ä¸ªsetTimeoutå†…éƒ¨çš„å‡½æ•°æ¨å…¥ã€Œå®ä»»åŠ¡çš„é˜Ÿåˆ—ã€ä¸­ï¼Œä¸‹ä¸€è½®å®ä»»åŠ¡æ‰§è¡Œæ—¶è°ƒç”¨ã€‚</li><li>4.å¦‚æœæ‰§è¡Œä¸­é‡åˆ° promise.then() ä¹‹ç±»çš„å¾®ä»»åŠ¡ï¼Œå°±ä¼šæ¨å…¥åˆ°ã€Œå½“å‰å®ä»»åŠ¡çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ã€ä¸­ï¼Œåœ¨æœ¬è½®å®ä»»åŠ¡çš„åŒæ­¥ä»£ç éƒ½æ‰§è¡Œå®Œæˆåï¼Œä¾æ¬¡æ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ã€‚</li><li>5.ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯ä¸­å½“æ‰§è¡Œå®Œå…¨éƒ¨çš„åŒæ­¥è„šæœ¬ä»¥åŠå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„äº‹ä»¶ï¼Œè¿™ä¸€è½®äº‹ä»¶å¾ªç¯å°±ç»“æŸäº†ï¼Œå¼€å§‹ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯ã€‚</li><li>6.ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯åŒç†å…ˆæ‰§è¡ŒåŒæ­¥è„šæœ¬ï¼Œé‡åˆ°å…¶ä»–å®ä»»åŠ¡ä»£ç å—ç»§ç»­è¿½åŠ åˆ°ã€Œå®ä»»åŠ¡çš„é˜Ÿåˆ—ã€ä¸­ï¼Œé‡åˆ°å¾®ä»»åŠ¡ï¼Œå°±ä¼šæ¨å…¥åˆ°ã€Œå½“å‰å®ä»»åŠ¡çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ã€ä¸­ï¼Œåœ¨æœ¬è½®å®ä»»åŠ¡çš„åŒæ­¥ä»£ç æ‰§è¡Œéƒ½å®Œæˆåï¼Œä¾æ¬¡æ‰§è¡Œå½“å‰æ‰€æœ‰çš„å¾®ä»»åŠ¡ã€‚</li><li>7.å¼€å§‹ç¬¬ä¸‰è½®ï¼Œå¾ªç¯å¾€å¤â€¦</li></ul></blockquote><p>ä¸‹é¢ç”¨ä»£ç æ¥æ·±å…¥ç†è§£ä¸Šé¢çš„æœºåˆ¶ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// åŒæ­¥ä»»åŠ¡</span>    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 1.è¿™æ®µä»£ç ä½œä¸ºå®ä»»åŠ¡ï¼Œè¿›å…¥ä¸»çº¿ç¨‹ã€‚</span><span class="token comment" spellcheck="true">// 2.å…ˆé‡åˆ°setTimeoutï¼Œé‚£ä¹ˆå°†å…¶å›è°ƒå‡½æ•°æ³¨å†Œååˆ†å‘åˆ°å®ä»»åŠ¡Event Queueã€‚</span><span class="token comment" spellcheck="true">// 3.æ¥ä¸‹æ¥é‡åˆ°äº†Promiseï¼Œnew Promiseç«‹å³æ‰§è¡Œï¼Œthenå‡½æ•°åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueã€‚</span><span class="token comment" spellcheck="true">// 4.é‡åˆ°console.log()ï¼Œç«‹å³æ‰§è¡Œã€‚</span><span class="token comment" spellcheck="true">// 5.æ•´ä½“ä»£ç scriptä½œä¸ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œç»“æŸã€‚æŸ¥çœ‹å½“å‰æœ‰æ²¡æœ‰å¯æ‰§è¡Œçš„å¾®ä»»åŠ¡ï¼Œæ‰§è¡Œthençš„å›è°ƒã€‚</span><span class="token comment" spellcheck="true">//ï¼ˆç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯ç»“æŸäº†ï¼Œæˆ‘ä»¬å¼€å§‹ç¬¬äºŒè½®å¾ªç¯ã€‚ï¼‰</span><span class="token comment" spellcheck="true">// 6.ä»å®ä»»åŠ¡Event Queueå¼€å§‹ã€‚æˆ‘ä»¬å‘ç°äº†å®ä»»åŠ¡Event Queueä¸­setTimeoutå¯¹åº”çš„å›è°ƒå‡½æ•°ï¼Œç«‹å³æ‰§è¡Œã€‚</span><span class="token comment" spellcheck="true">// æ‰§è¡Œç»“æœï¼š1 - 2 - 3 - 4</span></code></pre><h3 id="ç¤ºä¾‹äºŒ"><a href="#ç¤ºä¾‹äºŒ" class="headerlink" title="ç¤ºä¾‹äºŒ"></a>ç¤ºä¾‹äºŒ</h3><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span>    process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span>        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">)</span>    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'9'</span><span class="token punctuation">)</span>    process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">)</span>        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// æ•´æ®µä»£ç ï¼Œå…±è¿›è¡Œäº†ä¸‰æ¬¡äº‹ä»¶å¾ªç¯ï¼Œå®Œæ•´çš„è¾“å‡ºä¸º1ï¼Œ7ï¼Œ6ï¼Œ8ï¼Œ2ï¼Œ4ï¼Œ3ï¼Œ5ï¼Œ9ï¼Œ11ï¼Œ10ï¼Œ12ã€‚</span><span class="token comment" spellcheck="true">// (è¯·æ³¨æ„ï¼Œnodeç¯å¢ƒä¸‹çš„äº‹ä»¶ç›‘å¬ä¾èµ–libuvä¸å‰ç«¯ç¯å¢ƒä¸å®Œå…¨ç›¸åŒï¼Œè¾“å‡ºé¡ºåºå¯èƒ½ä¼šæœ‰è¯¯å·®)</span></code></pre><p>1.æ•´ä½“scriptä½œä¸ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹ï¼Œé‡åˆ°console.log(1)è¾“å‡º1ã€‚<br>2.é‡åˆ°setTimeoutï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å®ä»»åŠ¡Event Queueä¸­ã€‚æˆ‘ä»¬æš‚ä¸”è®°ä¸ºsetTimeout1ã€‚<br>3.é‡åˆ°process.nextTick()ï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ã€‚æˆ‘ä»¬è®°ä¸ºprocess1ã€‚<br>4.é‡åˆ°Promiseï¼Œnew Promiseç›´æ¥æ‰§è¡Œï¼Œè¾“å‡º7ã€‚thenè¢«åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ã€‚æˆ‘ä»¬è®°ä¸ºthen1ã€‚<br>5.åˆé‡åˆ°äº†setTimeoutï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å®ä»»åŠ¡Event Queueä¸­ï¼Œæˆ‘ä»¬è®°ä¸ºsetTimeout2ã€‚<br>6.ç°åœ¨å¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œæˆ‘ä»¬å‘ç°äº†process1å’Œthen1ä¸¤ä¸ªå¾®ä»»åŠ¡ï¼Œæ‰§è¡Œprocess1,è¾“å‡º6ã€‚æ‰§è¡Œthen1ï¼Œè¾“å‡º8ã€‚<br>ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯æ­£å¼ç»“æŸï¼Œè¿™ä¸€è½®çš„ç»“æœæ˜¯è¾“å‡º1ï¼Œ7ï¼Œ6ï¼Œ8ã€‚</p><p>é‚£ä¹ˆç¬¬äºŒè½®äº‹ä»¶å¾ªç¯ä»setTimeout1å®ä»»åŠ¡å¼€å§‹ï¼š<br>1.é¦–å…ˆè¾“å‡º2ã€‚æ¥ä¸‹æ¥é‡åˆ°äº†process.nextTick()ï¼ŒåŒæ ·å°†å…¶åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸ºprocess2ã€‚<br>2.new Promiseç«‹å³æ‰§è¡Œè¾“å‡º4ï¼Œthenä¹Ÿåˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸ºthen2ã€‚<br>3.ç°åœ¨å¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œæˆ‘ä»¬å‘ç°æœ‰process2å’Œthen2ä¸¤ä¸ªå¾®ä»»åŠ¡å¯ä»¥æ‰§è¡Œè¾“å‡º3ï¼Œ5ã€‚<br>ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯ç»“æŸï¼Œç¬¬äºŒè½®è¾“å‡º2ï¼Œ4ï¼Œ3ï¼Œ5ã€‚ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯ä»setTimeout2å®ä»»åŠ¡å¼€å§‹ï¼š<br>1.ç›´æ¥è¾“å‡º9ï¼Œå°†process.nextTick()åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ã€‚è®°ä¸ºprocess3ã€‚<br>2.ç›´æ¥æ‰§è¡Œnew Promiseï¼Œè¾“å‡º11ã€‚å°†thenåˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸ºthen3ã€‚<br>3.æ‰§è¡Œä¸¤ä¸ªå¾®ä»»åŠ¡process3å’Œthen3ã€‚è¾“å‡º10ã€‚è¾“å‡º12ã€‚<br>ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯ç»“æŸï¼Œç¬¬ä¸‰è½®è¾“å‡º9ï¼Œ11ï¼Œ10ï¼Œ12ã€‚</p><h3 id="ç¤ºä¾‹ä¸‰"><a href="#ç¤ºä¾‹ä¸‰" class="headerlink" title="ç¤ºä¾‹ä¸‰"></a>ç¤ºä¾‹ä¸‰</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// å®ä»»åŠ¡ä¸€</span>    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å®ä»»åŠ¡ä¸€çš„å¾®ä»»åŠ¡</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// å®ä»»åŠ¡äºŒ</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// å®ä»»åŠ¡äº”</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">)</span>        <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">)</span>            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">)</span>            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// å®ä»»åŠ¡ä¸ƒ</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'9'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// å®ä»»åŠ¡ä¸‰</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// å®ä»»åŠ¡å››</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">)</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// å®ä»»åŠ¡å…­</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å®ä»»åŠ¡ä¸€</span><span class="token comment" spellcheck="true">//  å®Œæ•´çš„è¾“å‡ºä¸º 1,2,3,4,5,67,8,9,10,11,12</span></code></pre><p>1.å…¨éƒ¨çš„ä»£ç ä½œä¸ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚<br>2.é¦–å…ˆè¾“å‡º1ï¼Œæ˜¯åŒæ­¥ä»£ç ã€‚thenå›è°ƒä½œä¸ºå¾®ä»»åŠ¡è¿›å…¥åˆ°å®ä»»åŠ¡ä¸€çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚<br>3.ä¸‹é¢æœ€å¤–å±‚çš„ä¸‰ä¸ªsetTimeoutåˆ†åˆ«æ˜¯å®ä»»åŠ¡äºŒã€å®ä»»åŠ¡ä¸‰ã€å®ä»»åŠ¡å››æŒ‰åºæ’å…¥å®ä»»åŠ¡é˜Ÿåˆ—ã€‚<br>4.è¾“å‡º2ï¼Œç°åœ¨å®ä»»åŠ¡ä¸€çš„åŒæ­¥ä»£ç éƒ½æ‰§è¡Œå®Œæˆäº†æ¥ä¸‹æ¥æ‰§è¡Œå®ä»»åŠ¡ä¸€çš„å¾®ä»»åŠ¡è¾“å‡º3ã€‚<br>ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯å®Œæˆäº†<br>5.ç°åœ¨æ‰§è¡Œå®ä»»åŠ¡äºŒè¾“å‡º4ï¼Œåé¢çš„setTimeoutä½œä¸ºå®ä»»åŠ¡äº”æ’å…¥å®ä»»åŠ¡é˜Ÿåˆ—ã€‚<br>ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯å®Œæˆäº†<br>6.æ‰§è¡Œå®ä»»åŠ¡ä¸‰è¾“å‡º5ï¼Œæ‰§è¡Œå®ä»»åŠ¡å››è¾“å‡º6ï¼Œå®ä»»åŠ¡å››é‡Œé¢çš„setTimeoutä½œä¸ºå®ä»»åŠ¡å…­ã€‚<br>7.æ‰§è¡Œå®ä»»åŠ¡äº”è¾“å‡º7ï¼Œ8ã€‚thenå›è°ƒä½œä¸ºå®ä»»åŠ¡äº”çš„å¾®ä»»åŠ¡æ’å…¥å®ä»»åŠ¡äº”çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚<br>8.è¾“å‡ºåŒæ­¥ä»£ç 9ï¼Œå®ä»»åŠ¡äº”çš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œäº†ï¼Œç°åœ¨æ‰§è¡Œå®ä»»åŠ¡äº”çš„å¾®ä»»åŠ¡ã€‚<br>9.è¾“å‡º10ï¼Œåé¢çš„setTimeoutä½œä¸ºå®ä»»åŠ¡ä¸ƒæ’å…¥å®ä»»åŠ¡çš„é˜Ÿåˆ—ã€‚<br>å®ä»»åŠ¡äº”æ‰§è¡Œå®Œæˆäº†ï¼Œå½“å‰å·²ç»æ˜¯ç¬¬äº”è½®äº‹ä»¶å¾ªç¯äº†ã€‚<br>10.æ‰§è¡Œå®ä»»åŠ¡å…­è¾“å‡º11ï¼Œæ‰§è¡Œå®ä»»åŠ¡ä¸ƒè¾“å‡º12ï¼Œ</p><p>-^-ï¼Œè¿™ä¸ªæ¡ˆä¾‹æ˜¯æœ‰ç‚¹æ¶å¿ƒï¼Œç›®çš„æ˜¯è®©å¤§å®¶æ˜ç™½å„å®ä»»åŠ¡ä¹‹é—´æ‰§è¡Œçš„é¡ºåºä»¥åŠå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡çš„æ‰§è¡Œå…³ç³»ã€‚</p><p>åˆæ­¥æ€»ç»“ï¼š<br>å®ä»»åŠ¡æ˜¯ä¸€ä¸ªæ ˆæŒ‰å…ˆå…¥å…ˆæ‰§è¡Œçš„åŸåˆ™ï¼Œå¾®ä»»åŠ¡ä¹Ÿæ˜¯ä¸€ä¸ªæ ˆä¹Ÿæ˜¯å…ˆå…¥å…ˆæ‰§è¡Œã€‚<br>ä½†æ˜¯æ¯ä¸ªå®ä»»åŠ¡éƒ½å¯¹åº”ä¼šæœ‰ä¸€ä¸ªå¾®ä»»åŠ¡æ ˆï¼Œå®ä»»åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šå…ˆæ‰§è¡ŒåŒæ­¥ä»£ç å†æ‰§è¡Œå¾®ä»»åŠ¡æ ˆã€‚</p><p>ä¸Šé¢çš„æ¡ˆä¾‹åªæ˜¯ç”¨setTimeoutå’ŒPromiseæ¨¡æ‹Ÿäº†ä¸€äº›åœºæ™¯æ¥å¸®åŠ©ç†è§£ï¼Œå¹¶æ²¡æœ‰ç”¨åˆ°async/awaitä¸‹é¢æˆ‘ä»¬ä»ä»€ä¹ˆæ˜¯async/awaitå¼€å§‹è®²èµ·ã€‚</p><h2 id="async-awaitæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#async-awaitæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="async/awaitæ˜¯ä»€ä¹ˆï¼Ÿ"></a>async/awaitæ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>æˆ‘ä»¬åˆ›å»ºäº† promise ä½†ä¸èƒ½åŒæ­¥ç­‰å¾…å®ƒæ‰§è¡Œå®Œæˆã€‚æˆ‘ä»¬åªèƒ½é€šè¿‡ then ä¼ ä¸€ä¸ªå›è°ƒå‡½æ•°è¿™æ ·å¾ˆå®¹æ˜“å†æ¬¡é™·å…¥ promise çš„å›è°ƒåœ°ç‹±ã€‚å®é™…ä¸Šï¼Œasync/await åœ¨åº•å±‚è½¬æ¢æˆäº† promise å’Œ then å›è°ƒå‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ˜¯ promise çš„è¯­æ³•ç³–ã€‚æ¯æ¬¡æˆ‘ä»¬ä½¿ç”¨ await, è§£é‡Šå™¨éƒ½åˆ›å»ºä¸€ä¸ª promise å¯¹è±¡ï¼Œç„¶åæŠŠå‰©ä¸‹çš„ async å‡½æ•°ä¸­çš„æ“ä½œæ”¾åˆ° then å›è°ƒå‡½æ•°ä¸­ã€‚async/await çš„å®ç°ï¼Œç¦»ä¸å¼€ Promiseã€‚ä»å­—é¢æ„æ€æ¥ç†è§£ï¼Œasync æ˜¯â€œå¼‚æ­¥â€çš„ç®€å†™ï¼Œè€Œ await æ˜¯ async wait çš„ç®€å†™å¯ä»¥è®¤ä¸ºæ˜¯ç­‰å¾…å¼‚æ­¥æ–¹æ³•æ‰§è¡Œå®Œæˆã€‚</p><h2 id="async-awaitç”¨æ¥å¹²ä»€ä¹ˆï¼Ÿ"><a href="#async-awaitç”¨æ¥å¹²ä»€ä¹ˆï¼Ÿ" class="headerlink" title="async/awaitç”¨æ¥å¹²ä»€ä¹ˆï¼Ÿ"></a>async/awaitç”¨æ¥å¹²ä»€ä¹ˆï¼Ÿ</h2><p>ç”¨æ¥ä¼˜åŒ– promise çš„å›è°ƒé—®é¢˜ï¼Œè¢«ç§°ä½œæ˜¯å¼‚æ­¥çš„ç»ˆæè§£å†³æ–¹æ¡ˆã€‚</p><h2 id="async-awaitå†…éƒ¨åšäº†ä»€ä¹ˆï¼Ÿ"><a href="#async-awaitå†…éƒ¨åšäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="async/awaitå†…éƒ¨åšäº†ä»€ä¹ˆï¼Ÿ"></a>async/awaitå†…éƒ¨åšäº†ä»€ä¹ˆï¼Ÿ</h2><p>async å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¦‚æœåœ¨å‡½æ•°ä¸­ return ä¸€ä¸ªç›´æ¥é‡ï¼ˆæ™®é€šå˜é‡ï¼‰ï¼Œasync ä¼šæŠŠè¿™ä¸ªç›´æ¥é‡é€šè¿‡ Promise.resolve() å°è£…æˆ Promise å¯¹è±¡ã€‚å¦‚æœä½ è¿”å›äº†promiseé‚£å°±ä»¥ä½ è¿”å›çš„promiseä¸ºå‡†ã€‚<br>await æ˜¯åœ¨ç­‰å¾…ï¼Œç­‰å¾…è¿è¡Œçš„ç»“æœä¹Ÿå°±æ˜¯è¿”å›å€¼ã€‚awaitåé¢é€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼ˆpromiseï¼‰ï¼Œä½†æ˜¯è¿™ä¸ä»£è¡¨ await åé¢åªèƒ½è·Ÿå¼‚æ­¥æ“ä½œ await åé¢å®é™…æ˜¯å¯ä»¥æ¥æ™®é€šå‡½æ•°è°ƒç”¨æˆ–è€…ç›´æ¥é‡çš„ã€‚</p><h2 id="awaitçš„ç­‰å¾…æœºåˆ¶ï¼Ÿ"><a href="#awaitçš„ç­‰å¾…æœºåˆ¶ï¼Ÿ" class="headerlink" title="awaitçš„ç­‰å¾…æœºåˆ¶ï¼Ÿ"></a>awaitçš„ç­‰å¾…æœºåˆ¶ï¼Ÿ</h2><p>å¦‚æœ await åé¢è·Ÿçš„ä¸æ˜¯ä¸€ä¸ª Promiseï¼Œé‚£ await åé¢è¡¨è¾¾å¼çš„è¿ç®—ç»“æœå°±æ˜¯å®ƒç­‰åˆ°çš„ä¸œè¥¿ï¼›å¦‚æœ await åé¢è·Ÿçš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œawait å®ƒä¼šâ€œé˜»å¡â€åé¢çš„ä»£ç ï¼Œç­‰ç€ Promise å¯¹è±¡ resolveï¼Œç„¶åå¾—åˆ° resolve çš„å€¼ä½œä¸º await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœã€‚ä½†æ˜¯æ­¤â€œé˜»å¡â€éå½¼â€œé˜»å¡â€è¿™å°±æ˜¯ await å¿…é¡»ç”¨åœ¨ async å‡½æ•°ä¸­çš„åŸå› ã€‚async å‡½æ•°è°ƒç”¨ä¸ä¼šé€ æˆâ€œé˜»å¡â€ï¼Œå®ƒå†…éƒ¨æ‰€æœ‰çš„â€œé˜»å¡â€éƒ½è¢«å°è£…åœ¨ä¸€ä¸ª Promise å¯¹è±¡ä¸­å¼‚æ­¥æ‰§è¡Œã€‚ï¼ˆè¿™é‡Œçš„é˜»å¡ç†è§£æˆå¼‚æ­¥ç­‰å¾…æ›´åˆç†ï¼‰</p><h2 id="async-awaitåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰ä»€ä¹ˆè§„å®šï¼Ÿ"><a href="#async-awaitåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰ä»€ä¹ˆè§„å®šï¼Ÿ" class="headerlink" title="async/awaitåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰ä»€ä¹ˆè§„å®šï¼Ÿ"></a>async/awaitåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰ä»€ä¹ˆè§„å®šï¼Ÿ</h2><p>æ¯ä¸ª async æ–¹æ³•éƒ½è¿”å›ä¸€ä¸ª promise å¯¹è±¡ã€‚await åªèƒ½å‡ºç°åœ¨ async å‡½æ•°ä¸­ã€‚</p><h2 id="async-await-åœ¨ä»€ä¹ˆåœºæ™¯ä½¿ç”¨ï¼Ÿ"><a href="#async-await-åœ¨ä»€ä¹ˆåœºæ™¯ä½¿ç”¨ï¼Ÿ" class="headerlink" title="async/await åœ¨ä»€ä¹ˆåœºæ™¯ä½¿ç”¨ï¼Ÿ"></a>async/await åœ¨ä»€ä¹ˆåœºæ™¯ä½¿ç”¨ï¼Ÿ</h2><p>å•ä¸€çš„ Promise é“¾å¹¶ä¸èƒ½å‘ç° async/await çš„ä¼˜åŠ¿ï¼Œä½†æ˜¯å¦‚æœéœ€è¦å¤„ç†ç”±å¤šä¸ª Promise ç»„æˆçš„ then é“¾çš„æ—¶å€™ï¼Œä¼˜åŠ¿å°±èƒ½ä½“ç°å‡ºæ¥äº†ï¼ˆPromise é€šè¿‡ then é“¾æ¥è§£å†³å¤šå±‚å›è°ƒçš„é—®é¢˜ï¼Œç°åœ¨åˆç”¨ async/await æ¥è¿›ä¸€æ­¥ä¼˜åŒ–å®ƒï¼‰ã€‚</p><h2 id="async-awaitå¦‚ä½•ä½¿ç”¨ï¼Ÿ"><a href="#async-awaitå¦‚ä½•ä½¿ç”¨ï¼Ÿ" class="headerlink" title="async/awaitå¦‚ä½•ä½¿ç”¨ï¼Ÿ"></a>async/awaitå¦‚ä½•ä½¿ç”¨ï¼Ÿ</h2><p>å‡è®¾ä¸€ä¸ªä¸šåŠ¡ï¼Œåˆ†å¤šä¸ªæ­¥éª¤å®Œæˆï¼Œæ¯ä¸ªæ­¥éª¤éƒ½æ˜¯å¼‚æ­¥çš„ä¸”ä¾èµ–äºä¸Šä¸€ä¸ªæ­¥éª¤çš„ç»“æœã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myPromise</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">resolve</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">step1</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">myPromise</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">step2</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">myPromise</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">step3</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">myPromise</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// å¦‚æœç”¨ Promise å®ç°</span><span class="token function">step1</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>a <span class="token operator">=</span><span class="token operator">></span> <span class="token function">step2</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>b <span class="token operator">=</span><span class="token operator">></span> <span class="token function">step3</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// å¦‚æœç”¨ async/await æ¥å®ç°å‘¢</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">myResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">step1</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">step2</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">step3</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token keyword">return</span> result<span class="token punctuation">}</span><span class="token function">myResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// å¦‚æœmyResultå†…éƒ¨æœ‰è¯­æ³•é”™è¯¯ä¼šè§¦å‘catchæ–¹æ³•</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>çœ‹çš„å‡ºæ¥async/awaitçš„å†™æ³•æ›´åŠ ä¼˜é›…ä¸€äº›è¦æ¯”Promiseçš„é“¾å¼è°ƒç”¨æ›´åŠ ç›´è§‚ä¹Ÿæ˜“äºç»´æŠ¤ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­async/awaitçš„è¿è¡Œæœºåˆ¶ï¼Œå…ˆç»™å‡ºå¤§æ¦‚æ–¹å‘å†é€šè¿‡æ¡ˆä¾‹æ¥è¯æ˜ï¼š</p><blockquote><ul><li>1.asyncå®šä¹‰çš„æ˜¯ä¸€ä¸ªPromiseå‡½æ•°å’Œæ™®é€šå‡½æ•°ä¸€æ ·åªè¦ä¸è°ƒç”¨å°±ä¸ä¼šè¿›å…¥äº‹ä»¶é˜Ÿåˆ—ã€‚</li><li>2.asyncå†…éƒ¨å¦‚æœæ²¡æœ‰ä¸»åŠ¨return Promiseï¼Œé‚£ä¹ˆasyncä¼šæŠŠå‡½æ•°çš„è¿”å›å€¼ç”¨PromiseåŒ…è£…ã€‚</li><li>3.awaitå…³é”®å­—å¿…é¡»å‡ºç°åœ¨asyncå‡½æ•°ä¸­ï¼Œawaitåé¢ä¸æ˜¯å¿…é¡»è¦è·Ÿä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ™®é€šè¡¨è¾¾å¼ã€‚</li><li>4.é‡åˆ°awaitå…³é”®å­—ï¼Œawaitå³è¾¹çš„è¯­å¥ä¼šè¢«ç«‹å³æ‰§è¡Œç„¶åawaitä¸‹é¢çš„ä»£ç è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç­‰å¾…awaitå¾—åˆ°ç»“æœã€‚</li><li>5.awaitåé¢å¦‚æœä¸æ˜¯ promise å¯¹è±¡, awaitä¼šé˜»å¡åé¢çš„ä»£ç ï¼Œå…ˆæ‰§è¡Œasyncå¤–é¢çš„åŒæ­¥ä»£ç ï¼ŒåŒæ­¥ä»£ç æ‰§è¡Œå®Œï¼Œå†å›åˆ°asyncå†…éƒ¨ï¼ŒæŠŠè¿™ä¸ªépromiseçš„ä¸œè¥¿ï¼Œä½œä¸º awaitè¡¨è¾¾å¼çš„ç»“æœã€‚</li><li>6.awaitåé¢å¦‚æœæ˜¯ promise å¯¹è±¡ï¼Œawait ä¹Ÿä¼šæš‚åœasyncåé¢çš„ä»£ç ï¼Œå…ˆæ‰§è¡Œasyncå¤–é¢çš„åŒæ­¥ä»£ç ï¼Œç­‰ç€ Promise å¯¹è±¡ fulfilledï¼Œç„¶åæŠŠ resolve çš„å‚æ•°ä½œä¸º await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœã€‚</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span>  <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span></code></pre><h3 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h3><p>1.6æ˜¯å®ä»»åŠ¡åœ¨ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯æ‰§è¡Œ<br>2.å…ˆåŒæ­¥è¾“å‡º1ï¼Œç„¶åè°ƒç”¨äº†async1()ï¼Œè¾“å‡º2ã€‚<br>3.await async2() ä¼šå…ˆè¿è¡Œasync2()ï¼Œ5è¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚<br>4.è¾“å‡º3ï¼Œè¿™ä¸ªæ—¶å€™å…ˆæ‰§è¡Œasyncå‡½æ•°å¤–çš„åŒæ­¥ä»£ç è¾“å‡º4ã€‚<br>5.æœ€åawaitæ‹¿åˆ°ç­‰å¾…çš„ç»“æœç»§ç»­å¾€ä¸‹æ‰§è¡Œè¾“å‡º5ã€‚<br>6.è¿›å…¥ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯è¾“å‡º6ã€‚</p><h3 id="ç¤ºä¾‹å››"><a href="#ç¤ºä¾‹å››" class="headerlink" title="ç¤ºä¾‹å››"></a>ç¤ºä¾‹å››</h3><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span>  <span class="token keyword">await</span> <span class="token string">'awaitçš„ç»“æœ'</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span>  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">/*1.é¦–å…ˆè¾“å‡º1ï¼Œç„¶åè¿›å…¥async1()å‡½æ•°ï¼Œè¾“å‡º2ã€‚2.awaitåé¢è™½ç„¶æ˜¯ä¸€ä¸ªç›´æ¥é‡ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šå…ˆæ‰§è¡Œasyncå‡½æ•°å¤–çš„åŒæ­¥ä»£ç ã€‚3.è¾“å‡º3ï¼Œè¿›å…¥Promiseè¾“å‡º4ï¼Œthenå›è°ƒè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚4.ç°åœ¨åŒæ­¥ä»£ç æ‰§è¡Œå®Œäº†ï¼Œå›åˆ°asyncå‡½æ•°ç»§ç»­æ‰§è¡Œè¾“å‡º5ã€‚5.æœ€åè¿è¡Œå¾®ä»»åŠ¡è¾“å‡º6ã€‚*/</span></code></pre><h3 id="ç¤ºä¾‹äº”"><a href="#ç¤ºä¾‹äº”" class="headerlink" title="ç¤ºä¾‹äº”"></a>ç¤ºä¾‹äº”</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span>  <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span>  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">/*1.é¦–å…ˆè¾“å‡ºåŒæ­¥ä»£ç 1ï¼Œç„¶åè¿›å…¥async1æ–¹æ³•è¾“å‡º2ã€‚2.å› ä¸ºé‡åˆ°awaitæ‰€ä»¥å…ˆè¿›å…¥async2æ–¹æ³•ï¼Œåé¢çš„7å¤„äºç­‰å¾…çŠ¶æ€ã€‚3.åœ¨async2ä¸­è¾“å‡º3ï¼Œç°åœ¨è·³å‡ºasyncå‡½æ•°å…ˆæ‰§è¡Œå¤–é¢çš„åŒæ­¥ä»£ç ã€‚4.è¾“å‡º4ï¼Œ5ã€‚thenå›è°ƒè¿›å…¥å¾®ä»»åŠ¡æ ˆã€‚5.ç°åœ¨å®ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œæ‰§è¡Œå¾®ä»»åŠ¡è¾“å‡º6ã€‚6.ç„¶åå›åˆ°async1å‡½æ•°æ¥ç€å¾€ä¸‹æ‰§è¡Œè¾“å‡º7*/</span></code></pre><h3 id="ç¤ºä¾‹å…­"><a href="#ç¤ºä¾‹å…­" class="headerlink" title="ç¤ºä¾‹å…­"></a>ç¤ºä¾‹å…­</h3><pre class=" language-js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'9'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span>  <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span>    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span>  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">/*1.å…ˆè¾“å‡º1ï¼Œ2ï¼Œ3ã€‚3åé¢çš„thenè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚2.æ‰§è¡Œå¤–é¢çš„åŒæ­¥ä»£ç ï¼Œè¾“å‡º4ï¼Œ5ã€‚4åé¢çš„thenè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚4.æ¥ä¸‹æ¥æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå› ä¸º3åé¢çš„thenå…ˆè¿›å…¥ï¼Œæ‰€ä»¥æŒ‰åºè¾“å‡º6ï¼Œ7ã€‚5.ä¸‹é¢å›åˆ°async1å‡½æ•°ï¼Œawaitå…³é”®å­—ç­‰åˆ°äº†ç»“æœç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚6.è¾“å‡º8ï¼Œè¿›è¡Œä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯ä¹Ÿå°±æ˜¯å®ä»»åŠ¡äºŒï¼Œè¾“å‡º9ã€‚*/</span></code></pre><h3 id="ç¤ºä¾‹ä¸ƒ"><a href="#ç¤ºä¾‹ä¸ƒ" class="headerlink" title="ç¤ºä¾‹ä¸ƒ"></a>ç¤ºä¾‹ä¸ƒ</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span>    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'awaitçš„ç»“æœ'</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> data  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'9'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span>  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">/*1.å‡½æ•°async1å’Œasync2åªæ˜¯å®šä¹‰å…ˆä¸å»ç®¡ä»–ï¼Œé¦–å…ˆè¾“å‡º1ã€‚2.setTimeoutä½œä¸ºå®ä»»åŠ¡è¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯ã€‚3.è¿›å…¥async1()å‡½æ•°è¾“å‡º2ï¼Œawaitä¸‹é¢çš„ä»£ç è¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚4.è¿›å…¥async2()è¾“å‡º3ï¼Œthenå›è°ƒè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚5.ç°åœ¨æ‰§è¡Œå¤–é¢çš„åŒæ­¥ä»£ç ï¼Œè¾“å‡º4ï¼Œ5ï¼Œthenå›è°ƒè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚6.æŒ‰åºæ‰§è¡Œå¾®ä»»åŠ¡ï¼Œè¾“å‡º6ï¼Œ7ã€‚ç°åœ¨å›åˆ°async1å‡½æ•°ã€‚7.è¾“å‡ºdataï¼Œä¹Ÿå°±æ˜¯awaitå…³é”®å­—ç­‰åˆ°çš„å†…å®¹ï¼Œæ¥ç€è¾“å‡º8ã€‚8.è¿›è¡Œä¸‹ä¸€è½®æ—¶é—´å¾ªç¯è¾“å‡º9ã€‚æ‰§è¡Œç»“æœï¼š1 - 2 - 3 - 4 - 5 - 6 - 7 - awaitçš„ç»“æœ - 8 - 9*/</span></code></pre><h3 id="ç¤ºä¾‹å…«"><a href="#ç¤ºä¾‹å…«" class="headerlink" title="ç¤ºä¾‹å…«"></a>ç¤ºä¾‹å…«</h3><pre class=" language-js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">)</span>  <span class="token keyword">return</span> data<span class="token punctuation">}</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span>    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'async2çš„ç»“æœ'</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>data <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> data  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>data <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">)</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span>  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">/*1.setTimeoutä½œä¸ºå®ä»»åŠ¡è¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯ã€‚2.å…ˆæ‰§è¡Œasync1å‡½æ•°ï¼Œè¾“å‡º1ï¼Œ6è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç°åœ¨æ‰§è¡Œasync2ã€‚3.è¾“å‡º2ï¼Œthenå›è°ƒè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚4.æ¥ä¸‹æ¥æ‰§è¡Œå¤–é¢çš„åŒæ­¥ä»£ç è¾“å‡º3ï¼Œthenå›è°ƒè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚5.æŒ‰åºæ‰§è¡Œå¾®ä»»åŠ¡ï¼Œè¾“å‡º4ï¼Œ5ã€‚ä¸‹é¢å›åˆ°async1å‡½æ•°ã€‚6.è¾“å‡ºäº†4ä¹‹åæ‰§è¡Œäº†return dataï¼Œawaitæ‹¿åˆ°äº†å†…å®¹ã€‚7.ç»§ç»­æ‰§è¡Œè¾“å‡º6ï¼Œæ‰§è¡Œäº†åé¢çš„ return data æ‰è§¦å‘äº†async1()çš„thenå›è°ƒè¾“å‡º7ä»¥åŠdataã€‚8.è¿›è¡Œç¬¬äºŒè½®äº‹ä»¶å¾ªç¯è¾“å‡º8ã€‚æ‰§è¡Œç»“æœï¼š1 - 2 - 3 -4 - 5 - 6 - 7 - async2çš„ç»“æœ - 8*/</span></code></pre><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> Event Loop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®ä»»åŠ¡/å¾®ä»»åŠ¡</title>
      <link href="/2019/11/07/js-4/"/>
      <url>/2019/11/07/js-4/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆï¼ŒJavaScriptæ˜¯ä¸€ä¸ªå•çº¿ç¨‹çš„è„šæœ¬è¯­è¨€ã€‚</p><h2 id="å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡çš„æ¦‚å¿µ"><a href="#å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡çš„æ¦‚å¿µ" class="headerlink" title="å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡çš„æ¦‚å¿µ"></a>å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡çš„æ¦‚å¿µ</h2><blockquote><ul><li>å®ä»»åŠ¡ï¼šå½“å‰è°ƒç”¨æ ˆä¸­æ‰§è¡Œçš„ä»£ç æˆä¸ºå®ä»»åŠ¡ã€‚ï¼ˆä¸»ä»£ç å¿«ï¼Œå®šæ—¶å™¨ç­‰ç­‰ï¼‰ã€‚</li></ul></blockquote><blockquote><ul><li>å¾®ä»»åŠ¡ï¼š å½“å‰ï¼ˆæ­¤æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼‰å®ä»»åŠ¡æ‰§è¡Œå®Œï¼Œåœ¨ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å¼€å§‹ä¹‹å‰éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡,å¯ä»¥ç†è§£ä¸ºå›è°ƒäº‹ä»¶ã€‚ï¼ˆpromise.thenï¼Œproness.nextTickç­‰ç­‰ï¼‰ã€‚ </li></ul></blockquote><blockquote><ul><li>å®ä»»åŠ¡ä¸­çš„äº‹ä»¶æ”¾åœ¨callback queueä¸­ï¼Œç”±äº‹ä»¶è§¦å‘çº¿ç¨‹ç»´æŠ¤ï¼›å¾®ä»»åŠ¡çš„äº‹ä»¶æ”¾åœ¨å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œç”±jså¼•æ“çº¿ç¨‹ç»´æŠ¤ã€‚</li></ul></blockquote><h2 id="è¿è¡Œæœºåˆ¶"><a href="#è¿è¡Œæœºåˆ¶" class="headerlink" title="è¿è¡Œæœºåˆ¶"></a>è¿è¡Œæœºåˆ¶</h2><ol><li>åœ¨æ‰§è¡Œæ ˆä¸­æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ã€‚ </li></ol><ol start="2"><li><p>æ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°å¾®ä»»åŠ¡ï¼Œå°†å¾®ä»»åŠ¡æ·»åŠ åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚</p></li><li><p>å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç«‹å³æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚ </p></li><li><p>å½“å‰å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œæ£€æŸ¥æ¸²æŸ“ï¼ŒGUIçº¿ç¨‹æ¥ç®¡æ¸²æŸ“ã€‚ </p></li><li><p>æ¸²æŸ“å®Œæ¯•åï¼Œjsçº¿ç¨‹æ¥ç®¡ï¼Œå¼€å¯ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯ï¼Œæ‰§è¡Œä¸‹ä¸€æ¬¡å®ä»»åŠ¡ï¼ˆäº‹ä»¶é˜Ÿåˆ—ä¸­å–ï¼‰ã€‚</p></li></ol><h3 id="å¾®ä»»åŠ¡ï¼š"><a href="#å¾®ä»»åŠ¡ï¼š" class="headerlink" title="å¾®ä»»åŠ¡ï¼š"></a>å¾®ä»»åŠ¡ï¼š</h3><pre class=" language-js"><code class="language-js">process<span class="token punctuation">.</span>nextTickMutationObserverPromise<span class="token punctuation">.</span>thenprocess<span class="token punctuation">.</span>nextTick <span class="token operator">></span> Promise<span class="token punctuation">.</span>then <span class="token operator">></span> MutationObserver <span class="token comment" spellcheck="true">// ä¼˜å…ˆçº§</span></code></pre><h3 id="å®ä»»åŠ¡ï¼š"><a href="#å®ä»»åŠ¡ï¼š" class="headerlink" title="å®ä»»åŠ¡ï¼š"></a>å®ä»»åŠ¡ï¼š</h3><pre><code>```jsscriptI/OsetTimeout()setInterval()setImmediate()// setImmediate å›è°ƒå‡½æ•°requestAnimationFrameä¸»ä»£ç å— &gt; setImmediate &gt; MessageChannel &gt; setTimeout / setInterval  // ä¼˜å…ˆçº§```</code></pre><p>æ³¨: é¦–å…ˆæ‰§è¡Œscriptä¸‹çš„å®ä»»åŠ¡,é‡åˆ°setTimeout,å°†å…¶æ”¾åˆ°å®ä»»åŠ¡çš„ã€é˜Ÿåˆ—ã€‘é‡Œ</p><h2 id="ç¤ºä¾‹ä¸€"><a href="#ç¤ºä¾‹ä¸€" class="headerlink" title="ç¤ºä¾‹ä¸€"></a>ç¤ºä¾‹ä¸€</h2><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä»£ç å—'</span><span class="token punctuation">)</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å®šæ—¶å™¨å¼€å§‹å•¦'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span><span class="token punctuation">{</span>     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'é©¬ä¸Šæ‰§è¡Œforå¾ªç¯å•¦'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ‰§è¡Œthenå‡½æ•°å•¦'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä»£ç æ‰§è¡Œç»“æŸ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-js"><code class="language-js">é¦–å…ˆæ‰§è¡Œscriptä¸‹çš„å®ä»»åŠ¡<span class="token punctuation">,</span>é‡åˆ°setTimeout<span class="token punctuation">,</span>å°†å…¶æ”¾åˆ°å®ä»»åŠ¡çš„ã€é˜Ÿåˆ—ã€‘é‡Œé‡åˆ° <span class="token keyword">new</span> <span class="token class-name">Promise</span>ç›´æ¥æ‰§è¡Œ<span class="token punctuation">,</span>æ‰“å°<span class="token string">"é©¬ä¸Šæ‰§è¡Œforå¾ªç¯å•¦"</span>é‡åˆ°thenæ–¹æ³•<span class="token punctuation">,</span>æ˜¯å¾®ä»»åŠ¡<span class="token punctuation">,</span>å°†å…¶æ”¾åˆ°å¾®ä»»åŠ¡çš„ã€é˜Ÿåˆ—é‡Œã€‘æ‰“å° <span class="token string">"ä»£ç æ‰§è¡Œç»“æŸ"</span>æœ¬è½®å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•<span class="token punctuation">,</span>æŸ¥çœ‹æœ¬è½®çš„å¾®ä»»åŠ¡<span class="token punctuation">,</span>å‘ç°æœ‰ä¸€ä¸ªthenæ–¹æ³•é‡Œçš„å‡½æ•°<span class="token punctuation">,</span> æ‰“å°<span class="token string">"æ‰§è¡Œthenå‡½æ•°å•¦"</span>åˆ°æ­¤<span class="token punctuation">,</span>æœ¬è½®çš„event loop å…¨éƒ¨å®Œæˆã€‚ä¸‹ä¸€è½®çš„å¾ªç¯é‡Œ<span class="token punctuation">,</span>å…ˆæ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡<span class="token punctuation">,</span>å‘ç°å®ä»»åŠ¡çš„ã€é˜Ÿåˆ—ã€‘é‡Œæœ‰ä¸€ä¸ª setTimeouté‡Œçš„å‡½æ•°<span class="token punctuation">,</span>æ‰§è¡Œæ‰“å°<span class="token string">"å®šæ—¶å™¨å¼€å§‹å•¦"</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES2019 çš„æ–°ç‰¹æ€§</title>
      <link href="/2019/11/06/js-3/"/>
      <url>/2019/11/06/js-3/</url>
      
        <content type="html"><![CDATA[<p>JavaScript ä¸æ–­æ¼”å˜ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šå¾—åˆ°ä¸€äº›æ–°çš„å†…éƒ¨æ›´æ–°ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹ ES2019 æœ‰å“ªäº›æ–°çš„ç‰¹æ€§ï¼Œå¹¶åŠ å…¥åˆ°æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­:</p><h2 id="Array-prototype-flat"><a href="#Array-prototype-flat" class="headerlink" title="Array.prototype.flat()"></a>Array.prototype.flat()</h2><p><code>Array.prototype.flat()</code> é€’å½’åœ°å°†åµŒå¥—æ•°ç»„æ‹¼åˆåˆ°æŒ‡å®šæ·±åº¦ã€‚é»˜è®¤å€¼ä¸º 1ï¼Œå¦‚æœè¦å…¨æ·±åº¦åˆ™ä½¿ç”¨ Infinity ã€‚æ­¤æ–¹æ³•ä¸ä¼šä¿®æ”¹åŸå§‹æ•°ç»„ï¼Œä½†ä¼šåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„:</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr1<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 3, 4]</span><span class="token keyword">const</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr2<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 3, 4, 5, 6]</span><span class="token keyword">const</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr3<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 3, 4, 5, 6, 7, 8]</span></code></pre><p>flat() æ–¹æ³•ä¼šç§»é™¤æ•°ç»„ä¸­çš„ç©ºé¡¹:</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> arr4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr4<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 4, 5]</span></code></pre><h2 id="Array-prototype-flatMap"><a href="#Array-prototype-flatMap" class="headerlink" title="Array.prototype.flatMap()"></a>Array.prototype.flatMap()</h2><p><code>flatMap()</code> æ–¹æ³•é¦–å…ˆä½¿ç”¨æ˜ å°„å‡½æ•°æ˜ å°„æ¯ä¸ªå…ƒç´ ï¼Œç„¶åå°†ç»“æœå‹ç¼©æˆä¸€ä¸ªæ–°æ•°ç»„ã€‚å®ƒä¸ <code>Array.prototype.map</code> å’Œ æ·±åº¦å€¼ä¸º 1çš„ <code>Array.prototype.flat</code> å‡ ä¹ç›¸åŒï¼Œä½† flatMap é€šå¸¸åœ¨åˆå¹¶æˆä¸€ç§æ–¹æ³•çš„æ•ˆç‡ç¨å¾®é«˜ä¸€äº›ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> v <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">[</span>v<span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// [ [4], [8], [12] ]</span>arr1<span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span> v <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">[</span>v<span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// [4, 8, 12]</span></code></pre><p>æ›´å¥½çš„ç¤ºä¾‹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> sentence <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"This is a"</span><span class="token punctuation">,</span> <span class="token string">"regular"</span><span class="token punctuation">,</span> <span class="token string">"sentence"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>sentence<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">=</span><span class="token operator">></span> x<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [["This","is","a"],["regular"],["sentence"]]</span>sentence<span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>x <span class="token operator">=</span><span class="token operator">></span> x<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ["This","is","a","regular", "sentence"]</span><span class="token comment" spellcheck="true">// å¯ä»¥ä½¿ç”¨ å½’çº³ï¼ˆreduceï¼‰ ä¸ åˆå¹¶ï¼ˆconcatï¼‰å®ç°ç›¸åŒçš„åŠŸèƒ½</span>sentence<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="String-prototype-trimStart-å’Œ-String-prototype-trimEnd"><a href="#String-prototype-trimStart-å’Œ-String-prototype-trimEnd" class="headerlink" title="String.prototype.trimStart() å’Œ String.prototype.trimEnd()"></a>String.prototype.trimStart() å’Œ String.prototype.trimEnd()</h2><p>é™¤äº†èƒ½ä»å­—ç¬¦ä¸²ä¸¤ç«¯åˆ é™¤ç©ºç™½å­—ç¬¦çš„ String.prototype.trim() ä¹‹å¤–ï¼Œç°åœ¨è¿˜æœ‰å•ç‹¬çš„æ–¹æ³•ï¼Œåªèƒ½ä»æ¯ä¸€ç«¯åˆ é™¤ç©ºæ ¼:</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token string">" hello "</span><span class="token punctuation">;</span>test<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "hello";</span>test<span class="token punctuation">.</span><span class="token function">trimStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "hello ";</span>test<span class="token punctuation">.</span><span class="token function">trimEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// " hello";</span></code></pre><blockquote><ul><li>trimStart() ï¼šåˆ«å trimLeft()ï¼Œç§»é™¤åŸå­—ç¬¦ä¸²å·¦ç«¯çš„è¿ç»­ç©ºç™½ç¬¦å¹¶è¿”å›ï¼Œå¹¶ä¸ä¼šç›´æ¥ä¿®æ”¹åŸå­—ç¬¦ä¸²æœ¬èº«ã€‚</li><li>trimEnd() ï¼šåˆ«å trimRight()ï¼Œç§»é™¤åŸå­—ç¬¦ä¸²å³ç«¯çš„è¿ç»­ç©ºç™½ç¬¦å¹¶è¿”å›ï¼Œå¹¶ä¸ä¼šç›´æ¥ä¿®æ”¹åŸå­—ç¬¦ä¸²æœ¬èº«ã€‚</li></ul></blockquote><h2 id="Object-fromEntries"><a href="#Object-fromEntries" class="headerlink" title="Object.fromEntries"></a>Object.fromEntries</h2><p>å°†é”®å€¼å¯¹åˆ—è¡¨è½¬æ¢ä¸º Object çš„æ–°æ–¹æ³•ã€‚<br>å®ƒä¸å·²æœ‰ Object.entries() æ­£å¥½ç›¸åï¼ŒObject.entries()æ–¹æ³•åœ¨å°†å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„æ—¶ä½¿ç”¨ï¼Œå®ƒè¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ã€‚<br>ä½†ç°åœ¨æ‚¨å¯ä»¥é€šè¿‡ Object.fromEntries å°†æ“ä½œçš„æ•°ç»„è¿”å›åˆ°å¯¹è±¡ä¸­ã€‚<br>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼ˆå°†æ‰€æœ‰å¯¹è±¡å±æ€§çš„å€¼å¹³æ–¹ï¼‰:</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> prop1<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> prop2<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> prop3<span class="token punctuation">:</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// è½¬åŒ–ä¸ºé”®å€¼å¯¹æ•°ç»„ï¼š</span><span class="token keyword">let</span> array <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [["prop1", 2], ["prop2", 10], ["prop3", 15]]</span></code></pre><p>å°†æ‰€æœ‰å¯¹è±¡å±æ€§çš„å€¼å¹³æ–¹:</p><pre class=" language-js"><code class="language-js">array <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [["prop1", 4], ["prop2", 100], ["prop3", 225]]</span></code></pre><p>æˆ‘ä»¬å°†è½¬æ¢åçš„æ•°ç»„ array ä½œä¸ºå‚æ•°ä¼ å…¥ Object.fromEntries ï¼Œå°†æ•°ç»„è½¬æ¢æˆäº†ä¸€ä¸ªå¯¹è±¡:</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// {prop1: 4, prop2: 100, prop3: 225}</span></code></pre><h2 id="å¯é€‰çš„-Catch-å‚æ•°"><a href="#å¯é€‰çš„-Catch-å‚æ•°" class="headerlink" title="å¯é€‰çš„ Catch å‚æ•°"></a>å¯é€‰çš„ Catch å‚æ•°</h2><p>æ–°ææ¡ˆå…è®¸æ‚¨å®Œå…¨çœç•¥ catch() å‚æ•°ï¼Œå› ä¸ºåœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ‚¨å¹¶ä¸æƒ³ä½¿ç”¨å®ƒ:</p><pre class=" language-js"><code class="language-js"><span class="token keyword">try</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//...</span><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">er</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//handle error with parameter er</span><span class="token punctuation">}</span><span class="token keyword">try</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//...</span><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//handle error without parameter</span><span class="token punctuation">}</span></code></pre><h2 id="Symbol-description"><a href="#Symbol-description" class="headerlink" title="Symbol.description"></a>Symbol.description</h2><p>description æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œå®ƒä¼šè¿”å› Symbol å¯¹è±¡çš„å¯é€‰æè¿°çš„å­—ç¬¦ä¸²ï¼Œç”¨æ¥ä»£æ›¿ toString() æ–¹æ³•ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> testSymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">"Desc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>testSymbol<span class="token punctuation">.</span>description<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Desc"</span>testSymbol<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Symbol(Desc)"</span></code></pre><h2 id="Function-toString"><a href="#Function-toString" class="headerlink" title="Function.toString()"></a>Function.toString()</h2><p>ç°åœ¨,åœ¨å‡½æ•°ä¸Šè°ƒç”¨ toString() ä¼šè¿”å›è¯¥å‡½æ•°ï¼ˆå­—ç¬¦ä¸²å½¢å¼ï¼‰ï¼Œä¸å®ƒçš„å®šä¹‰å®Œå…¨ä¸€æ ·ï¼ŒåŒ…æ‹¬ç©ºæ ¼å’Œæ³¨é‡Šã€‚<br>ä¹‹å‰ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token comment" spellcheck="true">/* foo comment */</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>foo<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "function foo() {}"</span></code></pre><p>ç°åœ¨ï¼š</p><pre class=" language-js"><code class="language-js">foo<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "function </span><span class="token comment" spellcheck="true">/* foo comment */</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>"</code></pre><h2 id="JSON-parse-æ”¹è¿›"><a href="#JSON-parse-æ”¹è¿›" class="headerlink" title="JSON.parse() æ”¹è¿›"></a>JSON.parse() æ”¹è¿›</h2><p>è¡Œåˆ†éš”ç¬¦ (\u2028) å’Œæ®µè½åˆ†éš”ç¬¦ (\u2029)ï¼Œç°åœ¨è¢«æ­£ç¡®è§£æï¼Œè€Œä¸æ˜¯æŠ¥ä¸€ä¸ªè¯­æ³•é”™è¯¯.</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'{"name":"Bottle\u2028AnGe"}'</span>JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// {name: "Bottle</span>AnGe"<span class="token punctuation">}</span></code></pre><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p><a href="https://blog.tildeloop.com/posts/javascript-what%E2%80%99s-new-in-es2019" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> ES9 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsåŸºç¡€</title>
      <link href="/2019/10/25/js-2/"/>
      <url>/2019/10/25/js-2/</url>
      
        <content type="html"><![CDATA[<h2 id="document-loadå’Œdocument-readyçš„åŒºåˆ«"><a href="#document-loadå’Œdocument-readyçš„åŒºåˆ«" class="headerlink" title="document.loadå’Œdocument.readyçš„åŒºåˆ«"></a>document.loadå’Œdocument.readyçš„åŒºåˆ«</h2><h3 id="é¡µé¢åŠ è½½å®Œæˆæœ‰ä¸¤ç§äº‹ä»¶"><a href="#é¡µé¢åŠ è½½å®Œæˆæœ‰ä¸¤ç§äº‹ä»¶" class="headerlink" title="é¡µé¢åŠ è½½å®Œæˆæœ‰ä¸¤ç§äº‹ä»¶"></a>é¡µé¢åŠ è½½å®Œæˆæœ‰ä¸¤ç§äº‹ä»¶</h3><ol><li><p>loadæ˜¯å½“é¡µé¢æ‰€æœ‰èµ„æºå…¨éƒ¨åŠ è½½å®Œæˆåï¼ˆåŒ…æ‹¬DOMæ–‡æ¡£æ ‘ï¼Œcssæ–‡ä»¶ï¼Œjsæ–‡ä»¶ï¼Œå›¾ç‰‡èµ„æºç­‰ï¼‰ï¼Œæ‰§è¡Œä¸€ä¸ªå‡½æ•°<br>é—®é¢˜ï¼šå¦‚æœå›¾ç‰‡èµ„æºè¾ƒå¤šï¼ŒåŠ è½½æ—¶é—´è¾ƒé•¿ï¼Œonloadåç­‰å¾…æ‰§è¡Œçš„å‡½æ•°éœ€è¦ç­‰å¾…è¾ƒé•¿æ—¶é—´ï¼Œæ‰€ä»¥ä¸€äº›æ•ˆæœå¯èƒ½å—åˆ°å½±å“</p></li><li><p>$(document).ready()æ˜¯å½“DOMæ–‡æ¡£æ ‘åŠ è½½å®Œæˆåæ‰§è¡Œä¸€ä¸ªå‡½æ•° ï¼ˆä¸åŒ…å«å›¾ç‰‡ï¼Œcssç­‰ï¼‰æ‰€ä»¥ä¼šæ¯”loadè¾ƒå¿«æ‰§è¡Œ<br>åœ¨åŸç”Ÿçš„jSä¸­ä¸åŒ…æ‹¬ready()è¿™ä¸ªæ–¹æ³•ï¼Œåªæœ‰loadæ–¹æ³•å°±æ˜¯onloadäº‹ä»¶</p></li></ol><h2 id="JavaScript-ä¸­å¦‚ä½•æ£€æµ‹ä¸€ä¸ªå˜é‡æ˜¯ä¸€ä¸ª-æ•°æ®ç±»å‹"><a href="#JavaScript-ä¸­å¦‚ä½•æ£€æµ‹ä¸€ä¸ªå˜é‡æ˜¯ä¸€ä¸ª-æ•°æ®ç±»å‹" class="headerlink" title="JavaScript ä¸­å¦‚ä½•æ£€æµ‹ä¸€ä¸ªå˜é‡æ˜¯ä¸€ä¸ª æ•°æ®ç±»å‹"></a>JavaScript ä¸­å¦‚ä½•æ£€æµ‹ä¸€ä¸ªå˜é‡æ˜¯ä¸€ä¸ª æ•°æ®ç±»å‹</h2><blockquote><ul><li>ä¸‡èƒ½prototypeæ–¹æ³•<pre class=" language-js"><code class="language-js"><span class="token function">alert</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">===</span> â€˜<span class="token punctuation">[</span>object String<span class="token punctuation">]</span>â€™<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">===</span> â€˜<span class="token punctuation">[</span>object Number<span class="token punctuation">]</span>â€™<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">===</span> â€˜<span class="token punctuation">[</span>object Array<span class="token punctuation">]</span>â€™<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token operator">===</span> â€˜<span class="token punctuation">[</span>object Date<span class="token punctuation">]</span>â€™<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">===</span> â€˜<span class="token punctuation">[</span>object Function<span class="token punctuation">]</span>â€™<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token operator">===</span> â€˜<span class="token punctuation">[</span>object Function<span class="token punctuation">]</span>â€™<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">true</span><span class="token punctuation">;</span></code></pre><a href="https://www.cnblogs.com/gaoht/p/10494642.html" target="_blank" rel="noopener">æ›´å¤š</a></li></ul></blockquote><h2 id="è¯·ç”¨-js-å»é™¤å­—ç¬¦ä¸²ç©ºæ ¼"><a href="#è¯·ç”¨-js-å»é™¤å­—ç¬¦ä¸²ç©ºæ ¼" class="headerlink" title="è¯·ç”¨ js å»é™¤å­—ç¬¦ä¸²ç©ºæ ¼"></a>è¯·ç”¨ js å»é™¤å­—ç¬¦ä¸²ç©ºæ ¼</h2><blockquote><ul><li>replace æ­£åˆ™åŒ¹é…æ–¹æ³•ã€</li></ul></blockquote><p>å»é™¤å­—ç¬¦ä¸²å†…æ‰€æœ‰çš„ç©ºæ ¼ï¼š<code>str = str.replace(/\s*/g,&quot;&quot;)</code>;<br>å»é™¤å­—ç¬¦ä¸²å†…ä¸¤å¤´çš„ç©ºæ ¼ï¼š<code>str = str.replace(/^\s*|\s*$/g,&quot;&quot;)</code>;<br>å»é™¤å­—ç¬¦ä¸²å†…å·¦ä¾§çš„ç©ºæ ¼ï¼š<code>str = str.replace(/^\s*/,&quot;&quot;)</code>;<br>å»é™¤å­—ç¬¦ä¸²å†…å³ä¾§çš„ç©ºæ ¼ï¼š<code>str = str.replace(/(\s*$)/g,&quot;&quot;)</code>;</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">" 6 6 "</span><span class="token punctuation">;</span><span class="token keyword">var</span> str_1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\s*/g</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str_1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//66</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">" 6 6 "</span><span class="token punctuation">;</span><span class="token keyword">var</span> str_1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^\s*|\s*$/g</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str_1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//6 6//è¾“å‡ºå·¦å³ä¾§å‡æ— ç©ºæ ¼</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">" 6 6 "</span><span class="token punctuation">;</span><span class="token keyword">var</span> str_1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^\s*/</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str_1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//6 6 //è¾“å‡ºå³ä¾§æœ‰ç©ºæ ¼å·¦ä¾§æ— ç©ºæ ¼</span><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">" 6 6 "</span><span class="token punctuation">;</span><span class="token keyword">var</span> str_1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\s*$)/g</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str_1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 6 6//è¾“å‡ºå·¦ä¾§æœ‰ç©ºæ ¼å³ä¾§æ— ç©ºæ ¼</span></code></pre><blockquote><ul><li>str.trim()æ–¹æ³•ã€<br>trim()æ–¹æ³•æ˜¯ç”¨æ¥åˆ é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºç™½å­—ç¬¦å¹¶è¿”å›ï¼Œtrim æ–¹æ³•å¹¶ä¸å½±å“åŸæ¥çš„å­—ç¬¦ä¸²æœ¬èº«ï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚<br>ç¼ºé™·ï¼šåªèƒ½å»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼ï¼Œä¸èƒ½å»é™¤ä¸­é—´çš„ç©ºæ ¼</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">" 6 6 "</span><span class="token punctuation">;</span><span class="token keyword">var</span> str_1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str_1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//6 6//è¾“å‡ºå·¦å³ä¾§å‡æ— ç©ºæ ¼</span></code></pre><blockquote><ul><li>JQ æ–¹æ³•ï¼š$.trim(str)æ–¹æ³•</li></ul></blockquote><p>$.trim() å‡½æ•°ç”¨äºå»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºç™½å­—ç¬¦ã€‚</p><p>æ³¨æ„ï¼š$.trim()å‡½æ•°ä¼šç§»é™¤å­—ç¬¦ä¸²å¼€å§‹å’Œæœ«å°¾å¤„çš„æ‰€æœ‰æ¢è¡Œç¬¦ï¼Œç©ºæ ¼(åŒ…æ‹¬è¿ç»­çš„ç©ºæ ¼)å’Œåˆ¶è¡¨ç¬¦ã€‚å¦‚æœè¿™äº›ç©ºç™½å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­é—´æ—¶ï¼Œå®ƒä»¬å°†è¢«ä¿ç•™ï¼Œä¸ä¼šè¢«ç§»é™¤ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">" 6 6 "</span><span class="token punctuation">;</span><span class="token keyword">var</span> str_1 <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str_1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//6 6//è¾“å‡ºå·¦å³ä¾§å‡æ— ç©ºæ ¼</span></code></pre><h2 id="require-ä¸-import-çš„åŒºåˆ«"><a href="#require-ä¸-import-çš„åŒºåˆ«" class="headerlink" title="require ä¸ import çš„åŒºåˆ«"></a>require ä¸ import çš„åŒºåˆ«</h2><blockquote><ul><li>ä¸¤è€…çš„åŠ è½½æ–¹å¼ä¸åŒã€è§„èŒƒä¸åŒ</li><li>ä¸¤è€…çš„åŠ è½½æ–¹å¼ä¸åŒï¼Œrequire æ˜¯åœ¨è¿è¡Œæ—¶åŠ è½½ï¼Œè€Œ import æ˜¯åœ¨ç¼–è¯‘æ—¶åŠ è½½</li></ul></blockquote><pre class=" language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./a'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// a æ¨¡å—æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç«‹å³æ‰§è¡Œ a æ¨¡å—å‡½æ•°</span><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// a æ¨¡å—å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./a'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// a æ¨¡å—å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªæ•°ç»„ ======> å“ªéƒ½è¡Œ</span><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">'jquery'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> _ <span class="token keyword">from</span> <span class="token string">'_'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">{</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./a'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token keyword">default</span> <span class="token keyword">as</span> alias<span class="token punctuation">,</span> a <span class="token keyword">as</span> a_a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./a'</span><span class="token punctuation">;</span> <span class="token operator">===</span><span class="token operator">===</span><span class="token operator">></span>ç”¨åœ¨å¼€å¤´</code></pre><blockquote><ul><li>è§„èŒƒä¸åŒï¼Œrequire æ˜¯ CommonJS/AMD è§„èŒƒï¼Œimport æ˜¯ ESMAScript6+è§„èŒƒ</li><li>require ç‰¹ç‚¹ï¼šç¤¾åŒºæ–¹æ¡ˆï¼Œæä¾›äº†æœåŠ¡å™¨/æµè§ˆå™¨çš„æ¨¡å—åŠ è½½æ–¹æ¡ˆã€‚éè¯­è¨€å±‚é¢çš„æ ‡å‡†ã€‚åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»åŠè¾“å…¥/è¾“å‡ºçš„å˜é‡ï¼Œæ— æ³•è¿›è¡Œé™æ€ä¼˜åŒ–ã€‚</li><li>import ç‰¹ç‚¹ï¼šè¯­è¨€è§„æ ¼å±‚é¢æ”¯æŒæ¨¡å—åŠŸèƒ½ã€‚æ”¯æŒç¼–è¯‘æ—¶é™æ€åˆ†æï¼Œä¾¿äº JS å¼•å…¥å®å’Œç±»å‹æ£€éªŒã€‚åŠ¨æ€ç»‘å®š</li></ul></blockquote><h2 id="åœ¨-css-js-ä»£ç ä¸Šçº¿ä¹‹åå¼€å‘äººå‘˜ç»å¸¸ä¼šä¼˜åŒ–æ€§èƒ½"><a href="#åœ¨-css-js-ä»£ç ä¸Šçº¿ä¹‹åå¼€å‘äººå‘˜ç»å¸¸ä¼šä¼˜åŒ–æ€§èƒ½" class="headerlink" title="åœ¨ css/js ä»£ç ä¸Šçº¿ä¹‹åå¼€å‘äººå‘˜ç»å¸¸ä¼šä¼˜åŒ–æ€§èƒ½"></a>åœ¨ css/js ä»£ç ä¸Šçº¿ä¹‹åå¼€å‘äººå‘˜ç»å¸¸ä¼šä¼˜åŒ–æ€§èƒ½</h2><pre><code>ä»ç”¨æˆ·åˆ·æ–°ç½‘é¡µå¼€å§‹ï¼Œä¸€æ¬¡ js è¯·æ±‚ä¸€èˆ¬æƒ…å†µä¸‹æœ‰å“ªäº›åœ°æ–¹ä¼šæœ‰ç¼“å­˜å¤„ç†dns ç¼“å­˜ï¼Œcdn ç¼“å­˜ï¼Œæµè§ˆå™¨ç¼“å­˜ï¼ŒæœåŠ¡å™¨ç¼“å­˜ã€‚</code></pre><h2 id="JavaScript-ç»§æ‰¿çš„æ–¹å¼å’Œä¼˜ç¼ºç‚¹"><a href="#JavaScript-ç»§æ‰¿çš„æ–¹å¼å’Œä¼˜ç¼ºç‚¹" class="headerlink" title=".JavaScript ç»§æ‰¿çš„æ–¹å¼å’Œä¼˜ç¼ºç‚¹"></a>.JavaScript ç»§æ‰¿çš„æ–¹å¼å’Œä¼˜ç¼ºç‚¹</h2><blockquote><ul><li>åŸå‹é“¾ç»§æ‰¿</li></ul></blockquote><pre><code>ç¼ºç‚¹ï¼š1.å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«2.åœ¨åˆ›å»º Child çš„å®ä¾‹æ—¶ï¼Œä¸èƒ½å‘ Parent ä¼ å‚</code></pre><blockquote><ul><li>å€Ÿç”¨æ„é€ å‡½æ•°(ç»å…¸ç»§æ‰¿)</li></ul></blockquote><pre><code>ä¼˜ç‚¹ï¼š1.é¿å…äº†å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«2.å¯ä»¥åœ¨ Child ä¸­å‘ Parent ä¼ å‚ç¼ºç‚¹ï¼š1.æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºå®ä¾‹éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚</code></pre><blockquote><ul><li>ç»„åˆç»§æ‰¿</li></ul></blockquote><pre><code>ä¼˜ç‚¹ï¼š1.èåˆåŸå‹é“¾ç»§æ‰¿å’Œæ„é€ å‡½æ•°çš„ä¼˜ç‚¹ï¼Œæ˜¯ JavaScript ä¸­æœ€å¸¸ç”¨çš„ç»§æ‰¿æ¨¡å¼ã€‚</code></pre><blockquote><ul><li>åŸå‹å¼ç»§æ‰¿</li></ul></blockquote><pre><code>ç¼ºç‚¹ï¼š1.åŒ…å«å¼•ç”¨ç±»å‹çš„å±æ€§å€¼å§‹ç»ˆéƒ½ä¼šå…±äº«ç›¸åº”çš„å€¼ï¼Œè¿™ç‚¹è·ŸåŸå‹é“¾ç»§æ‰¿ä¸€æ ·ã€‚</code></pre><blockquote><ul><li>å¯„ç”Ÿå¼ç»§æ‰¿</li></ul></blockquote><pre><code>ç¼ºç‚¹ï¼š1.è·Ÿå€Ÿç”¨æ„é€ å‡½æ•°æ¨¡å¼ä¸€æ ·ï¼Œæ¯æ¬¡åˆ›å»ºå¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚</code></pre><blockquote><ul><li>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</li></ul></blockquote><pre><code>ä¼˜ç‚¹ï¼š1.è¿™ç§æ–¹å¼çš„é«˜æ•ˆç‡ä½“ç°å®ƒåªè°ƒç”¨äº†ä¸€æ¬¡ Parent æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å› æ­¤é¿å…äº†åœ¨ Parent.prototype ä¸Šé¢åˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±æ€§ã€‚2.ä¸æ­¤åŒæ—¶ï¼ŒåŸå‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ï¼›3.å› æ­¤ï¼Œè¿˜èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ instanceof å’Œ isPrototypeOfã€‚å¼€å‘äººå‘˜æ™®éè®¤ä¸ºå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯å¼•ç”¨ç±»å‹æœ€ç†æƒ³çš„ç»§æ‰¿èŒƒå¼</code></pre><h2 id="å¦‚ä½•åˆ¤æ–­-NaN"><a href="#å¦‚ä½•åˆ¤æ–­-NaN" class="headerlink" title="å¦‚ä½•åˆ¤æ–­ NaN"></a>å¦‚ä½•åˆ¤æ–­ NaN</h2><pre><code>```jsisNaN(NaN) // true```</code></pre><h2 id="å¦‚ä½•é˜»æ­¢å†’æ³¡ä¸é»˜è®¤è¡Œä¸º"><a href="#å¦‚ä½•é˜»æ­¢å†’æ³¡ä¸é»˜è®¤è¡Œä¸º" class="headerlink" title="å¦‚ä½•é˜»æ­¢å†’æ³¡ä¸é»˜è®¤è¡Œä¸º"></a>å¦‚ä½•é˜»æ­¢å†’æ³¡ä¸é»˜è®¤è¡Œä¸º</h2><blockquote><ul><li>é˜»æ­¢å†’æ³¡è¡Œä¸ºï¼šé IE æµè§ˆå™¨ stopPropagation()ï¼ŒIE æµè§ˆå™¨ window.event.cancelBubble = true</li><li>é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼šé IE æµè§ˆå™¨ preventDefault()ï¼ŒIE æµè§ˆå™¨ window.event.returnValue = false</li></ul></blockquote><p>å½“éœ€è¦é˜»æ­¢å†’æ³¡è¡Œä¸ºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">stopBubble</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//å¦‚æœæä¾›äº†äº‹ä»¶å¯¹è±¡ï¼Œåˆ™è¿™æ˜¯ä¸€ä¸ªéIEæµè§ˆå™¨</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>stopPropagation<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//å› æ­¤å®ƒæ”¯æŒW3Cçš„stopPropagation()æ–¹æ³•</span>    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//å¦åˆ™ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨IEçš„æ–¹å¼æ¥å–æ¶ˆäº‹ä»¶å†’æ³¡</span>  <span class="token keyword">else</span> window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>å½“éœ€è¦é˜»æ­¢é»˜è®¤è¡Œä¸ºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//é˜»æ­¢æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸º</span><span class="token keyword">function</span> <span class="token function">stopDefault</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//é˜»æ­¢é»˜è®¤æµè§ˆå™¨åŠ¨ä½œ(W3C)</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>preventDefault<span class="token punctuation">)</span> e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//IEä¸­é˜»æ­¢å‡½æ•°å™¨é»˜è®¤åŠ¨ä½œçš„æ–¹å¼</span>  <span class="token keyword">else</span> window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¯æ—¥ä¸€é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueä¸Reactä¸¤ä¸ªæ¡†æ¶çš„åŒºåˆ«</title>
      <link href="/2019/10/24/js-1/"/>
      <url>/2019/10/24/js-1/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•°æ®ç»‘å®š"><a href="#æ•°æ®ç»‘å®š" class="headerlink" title="æ•°æ®ç»‘å®š"></a>æ•°æ®ç»‘å®š</h2><h3 id="Vueä¸­æ•°æ®ç»‘å®š"><a href="#Vueä¸­æ•°æ®ç»‘å®š" class="headerlink" title="Vueä¸­æ•°æ®ç»‘å®š"></a>Vueä¸­æ•°æ®ç»‘å®š</h3><blockquote><ul><li>vueæ˜¯åŒå‘ç»‘å®šï¼Œ Vue.js æœ€æ ¸å¿ƒçš„åŠŸèƒ½æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯å“åº”å¼çš„æ•°æ®ç»‘å®šç³»ç»Ÿï¼ŒäºŒæ˜¯ç»„ä»¶ç³»ç»Ÿã€‚æ‰€è°“åŒå‘ç»‘å®šï¼ŒæŒ‡çš„æ˜¯vueå®ä¾‹ä¸­çš„dataä¸å…¶æ¸²æŸ“çš„DOMå…ƒç´ çš„å†…å®¹ä¿æŒä¸€è‡´ï¼Œæ— è®ºè°è¢«æ”¹å˜ï¼Œå¦ä¸€æ–¹ä¼šç›¸åº”çš„æ›´æ–°ä¸ºç›¸åŒçš„æ•°æ®</li></ul></blockquote><h3 id="reactæ²¡æœ‰æ•°æ®åŒå‘ç»‘å®š"><a href="#reactæ²¡æœ‰æ•°æ®åŒå‘ç»‘å®š" class="headerlink" title="reactæ²¡æœ‰æ•°æ®åŒå‘ç»‘å®š"></a>reactæ²¡æœ‰æ•°æ®åŒå‘ç»‘å®š</h3><blockquote><ul><li>reactæ˜¯å•å‘æ•°æ®æµ</li><li>reactä¸­é€šè¿‡å°†stateï¼ˆModelå±‚ï¼‰ä¸Viewå±‚æ•°æ®è¿›è¡ŒåŒå‘ç»‘å®šè¾¾æ•°æ®çš„å®æ—¶æ›´æ–°å˜åŒ–ï¼Œå…·ä½“æ¥è¯´å°±æ˜¯åœ¨Viewå±‚ç›´æ¥å†™JSä»£ç Modelå±‚ä¸­çš„æ•°æ®æ‹¿è¿‡æ¥æ¸²æŸ“ï¼Œä¸€æ—¦åƒè¡¨å•æ“ä½œã€è§¦å‘äº‹ä»¶ã€ajaxè¯·æ±‚ç­‰è§¦å‘æ•°æ®å˜åŒ–ï¼Œåˆ™è¿›è¡ŒåŒåŒæ­¥</li></ul></blockquote><h2 id="ç›‘å¬æ•°æ®å˜åŒ–çš„å®ç°åŸç†ä¸åŒ"><a href="#ç›‘å¬æ•°æ®å˜åŒ–çš„å®ç°åŸç†ä¸åŒ" class="headerlink" title="ç›‘å¬æ•°æ®å˜åŒ–çš„å®ç°åŸç†ä¸åŒ"></a>ç›‘å¬æ•°æ®å˜åŒ–çš„å®ç°åŸç†ä¸åŒ</h2><blockquote><ul><li>Vue é€šè¿‡ getter/setter ä»¥åŠä¸€äº›å‡½æ•°çš„åŠ«æŒï¼Œèƒ½ç²¾ç¡®çŸ¥é“æ•°æ®å˜åŒ–ï¼Œä¸éœ€è¦ç‰¹åˆ«çš„ä¼˜åŒ–å°±èƒ½è¾¾åˆ°å¾ˆå¥½çš„æ€§èƒ½</li><li>React é»˜è®¤æ˜¯é€šè¿‡æ¯”è¾ƒå¼•ç”¨çš„æ–¹å¼è¿›è¡Œçš„ï¼Œå¦‚æœä¸ä¼˜åŒ–ï¼ˆPureComponent/shouldComponentUpdateï¼‰å¯èƒ½å¯¼è‡´å¤§é‡ä¸å¿…è¦çš„VDOMçš„é‡æ–°æ¸²æŸ“</li></ul></blockquote><p>ä¸ºä»€ä¹ˆ React ä¸ç²¾ç¡®ç›‘å¬æ•°æ®å˜åŒ–å‘¢ï¼Ÿè¿™æ˜¯å› ä¸º Vue å’Œ React è®¾è®¡ç†å¿µä¸Šçš„åŒºåˆ«ï¼ŒVue ä½¿ç”¨çš„æ˜¯å¯å˜æ•°æ®ï¼Œè€ŒReactæ›´å¼ºè°ƒæ•°æ®çš„ä¸å¯å˜ã€‚æ‰€ä»¥åº”è¯¥è¯´æ²¡æœ‰å¥½åä¹‹åˆ†ï¼ŒVueæ›´åŠ ç®€å•ï¼Œè€ŒReactæ„å»ºå¤§å‹åº”ç”¨çš„æ—¶å€™æ›´åŠ é²æ£’ã€‚å› ä¸ºä¸€èˆ¬éƒ½ä¼šç”¨ä¸€ä¸ªæ•°æ®å±‚çš„æ¡†æ¶æ¯”å¦‚ Vuex å’Œ Reduxï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†ä¸ä½œè¿‡å¤šè§£é‡Šäº†.</p><h2 id="æ•°æ®æµçš„ä¸åŒ"><a href="#æ•°æ®æµçš„ä¸åŒ" class="headerlink" title="æ•°æ®æµçš„ä¸åŒ"></a>æ•°æ®æµçš„ä¸åŒ</h2><p><img src="/loading.gif" data-original="http://pz3r750z8.bkt.clouddn.com/1571907725343.jpg" alt="æ•°æ®æµ"><br>å¤§å®¶éƒ½çŸ¥é“Vueä¸­é»˜è®¤æ˜¯æ”¯æŒåŒå‘ç»‘å®šçš„ã€‚</p><blockquote><ul><li>Vue1.0ä¸­æˆ‘ä»¬å¯ä»¥å®ç°ä¸¤ç§åŒå‘ç»‘å®šï¼š<br>  çˆ¶å­ç»„ä»¶ä¹‹é—´ï¼Œprops å¯ä»¥åŒå‘ç»‘å®šã€‚<br>  ç»„ä»¶ä¸DOMä¹‹é—´å¯ä»¥é€šè¿‡ v-model åŒå‘ç»‘å®šã€‚</li><li>Vue2.x ä¸­å»æ‰äº†ç¬¬ä¸€ç§ï¼Œä¹Ÿå°±æ˜¯çˆ¶å­ç»„ä»¶ä¹‹é—´ä¸èƒ½åŒå‘ç»‘å®šäº†ï¼ˆä½†æ˜¯æä¾›äº†ä¸€ä¸ªè¯­æ³•ç³–è‡ªåŠ¨å¸®ä½ é€šè¿‡äº‹ä»¶çš„æ–¹å¼ä¿®æ”¹ï¼‰ï¼Œå¹¶ä¸” Vue2.x å·²ç»ä¸é¼“åŠ±ç»„ä»¶å¯¹è‡ªå·±çš„ props è¿›è¡Œä»»ä½•ä¿®æ”¹äº†ã€‚<br>æ‰€ä»¥ç°åœ¨æˆ‘ä»¬åªæœ‰ ç»„ä»¶ &lt;â€“&gt; DOM ä¹‹é—´çš„åŒå‘ç»‘å®šè¿™ä¸€ç§ã€‚</li><li>React ä»è¯ç”Ÿä¹‹åˆå°±ä¸æ”¯æŒåŒå‘ç»‘å®šï¼ŒReactä¸€ç›´æå€¡çš„æ˜¯å•å‘æ•°æ®æµï¼Œä»–ç§°ä¹‹ä¸º onChange/setState()æ¨¡å¼ã€‚<br>ä¸è¿‡ç”±äºæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šç”¨ Vuex ä»¥åŠ Redux ç­‰å•å‘æ•°æ®æµçš„çŠ¶æ€ç®¡ç†æ¡†æ¶ï¼Œå› æ­¤å¾ˆå¤šæ—¶å€™æˆ‘ä»¬æ„Ÿå—ä¸åˆ°è¿™ä¸€ç‚¹çš„åŒºåˆ«äº†</li></ul></blockquote><h2 id="æ¸²æŸ“æ€§èƒ½å¯¹æ¯”"><a href="#æ¸²æŸ“æ€§èƒ½å¯¹æ¯”" class="headerlink" title="æ¸²æŸ“æ€§èƒ½å¯¹æ¯”"></a>æ¸²æŸ“æ€§èƒ½å¯¹æ¯”</h2><p>åœ¨æ“ä½œç•Œé¢æ—¶ï¼Œè¦å°½é‡å‡å°‘å¯¹DOMçš„æ“ä½œï¼ŒVue å’Œ React éƒ½ä½¿ç”¨è™šæ‹ŸDOMæ¥å®ç°ï¼Œå¹¶ä¸”ä¸¤è€…å·¥ä½œä¸€æ ·å¥½ã€‚<br>å°½é‡å‡å°‘é™¤DOMæ“ä½œä»¥å¤–çš„å…¶ä»–æ“ä½œã€‚ï¼ˆvueå’Œreactçš„ä¸åŒï¼‰</p><h2 id="React-jsçš„ä¼˜ç‚¹ï¼š"><a href="#React-jsçš„ä¼˜ç‚¹ï¼š" class="headerlink" title="React.jsçš„ä¼˜ç‚¹ï¼š"></a>React.jsçš„ä¼˜ç‚¹ï¼š</h2><blockquote><ul><li>çµæ´»æ€§å’Œå“åº”æ€§ï¼šå®ƒæä¾›æœ€å¤§çš„çµæ´»æ€§å’Œå“åº”èƒ½åŠ›ã€‚</li><li>è™šæ‹ŸDOMï¼šç”±äºå®ƒåŸºäºæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼Œå› æ­¤å®ƒå…è®¸æµè§ˆå™¨å‹å¥½åœ°ä»¥HTMLï¼ŒXHTMLæˆ–XMLæ ¼å¼æ’åˆ—æ–‡æ¡£ã€‚</li><li>ä¸°å¯Œçš„JavaScriptåº“ï¼šæ¥è‡ªä¸–ç•Œå„åœ°çš„è´¡çŒ®è€…æ­£åœ¨åŠªåŠ›æ·»åŠ æ›´å¤šåŠŸèƒ½ã€‚</li><li>å¯æ‰©å±•æ€§ï¼šç”±äºå…¶çµæ´»çš„ç»“æ„å’Œå¯æ‰©å±•æ€§ï¼ŒReactå·²è¢«è¯æ˜å¯¹å¤§å‹åº”ç”¨ç¨‹åºæ›´å¥½ã€‚</li><li>ä¸æ–­å‘å±•ï¼š Reactå¾—åˆ°äº†Facebookä¸“ä¸šå¼€å‘äººå‘˜çš„æ”¯æŒï¼Œä»–ä»¬ä¸æ–­å¯»æ‰¾æ”¹è¿›æ–¹æ³•ã€‚</li><li>Webæˆ–ç§»åŠ¨å¹³å°ï¼š Reactæä¾›ReactNativeå¹³å°ï¼Œå¯é€šè¿‡ç›¸åŒçš„Reactç»„ä»¶æ¨¡å‹ä¸ºiOSå’ŒAndroidå¼€å‘æœ¬æœºå‘ˆç°çš„åº”ç”¨ç¨‹åºã€‚æ— è®ºæ˜¯Webè¿˜æ˜¯æœ¬æœºç§»åŠ¨å¼€å‘ï¼ŒReactéƒ½æ˜¯å¤§å¤šæ•°ç”¨æˆ·ç•Œé¢è®¾è®¡å¹³å°çš„ç†æƒ³é€‰æ‹©ã€‚</li></ul></blockquote><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æ€»ç»“ä¸€ä¸‹ï¼Œæˆ‘ä»¬å‘ç°ï¼Œ </p><blockquote><ul><li>Vueçš„ä¼˜åŠ¿åŒ…æ‹¬ï¼š </li><li>æ¨¡æ¿å’Œæ¸²æŸ“å‡½æ•°çš„å¼¹æ€§é€‰æ‹© </li><li>ç®€å•çš„è¯­æ³•åŠé¡¹ç›®åˆ›å»º </li><li>æ›´å¿«çš„æ¸²æŸ“é€Ÿåº¦å’Œæ›´å°çš„ä½“ç§¯ </li><li>Reactçš„ä¼˜åŠ¿åŒ…æ‹¬ï¼š </li><li>æ›´é€‚ç”¨äºå¤§å‹åº”ç”¨å’Œæ›´å¥½çš„å¯æµ‹è¯•æ€§ </li><li>åŒæ—¶é€‚ç”¨äºWebç«¯å’ŒåŸç”ŸApp </li><li>æ›´å¤§çš„ç”Ÿæ€åœˆå¸¦æ¥çš„æ›´å¤šæ”¯æŒå’Œå·¥å…· </li><li>è€Œå®é™…ä¸Šï¼ŒReactå’ŒVueéƒ½æ˜¯éå¸¸ä¼˜ç§€çš„æ¡†æ¶ï¼Œå®ƒä»¬ä¹‹é—´çš„ç›¸ä¼¼ä¹‹å¤„å¤šè¿‡ä¸åŒä¹‹å¤„ï¼Œå¹¶ä¸”å®ƒä»¬å¤§éƒ¨åˆ†æœ€æ£’çš„åŠŸèƒ½æ˜¯ç›¸é€šçš„ï¼š </li><li>åˆ©ç”¨è™šæ‹ŸDOMå®ç°å¿«é€Ÿæ¸²æŸ“ </li><li>è½»é‡çº§ </li><li>å“åº”å¼å’Œç»„ä»¶åŒ– </li><li>æœåŠ¡å™¨ç«¯æ¸²æŸ“ </li><li>æ˜“äºé›†æˆè·¯ç”±å·¥å…·ï¼Œæ‰“åŒ…å·¥å…·ä»¥åŠçŠ¶æ€ç®¡ç†å·¥å…· </li><li>ä¼˜ç§€çš„æ”¯æŒå’Œç¤¾åŒº<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</li></ul></blockquote><p>æ–‡ç« å‚è€ƒæ¥æºï¼š</p><blockquote><ul><li><a href="https://cn.vuejs.org/v2/guide/comparison.html" target="_blank" rel="noopener">vueå®˜æ–¹æ–‡æ¡£å…³äºæ¡†æ¶çš„å¯¹æ¯”</a></li><li><a href="https://react.docschina.org/" target="_blank" rel="noopener">reactä¸­æ–‡æ–‡æ¡£</a></li><li><a href="https://cn.vuejs.org/v2/guide/installation.html" target="_blank" rel="noopener">vueå®˜æ–¹æ–‡æ¡£</a></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ¯æ—¥ä¸€é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»è¾“å…¥urlåˆ°é¡µé¢å±•ç¤ºåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ</title>
      <link href="/2019/10/23/day/"/>
      <url>/2019/10/23/day/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åˆšå¼€å§‹å†™è¿™ç¯‡æ–‡ç« è¿˜æ˜¯æŒºçº ç»“çš„ï¼Œå› ä¸ºç½‘ä¸Šæœç´¢â€œä»è¾“å…¥urlåˆ°é¡µé¢å±•ç¤ºåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆâ€ï¼Œä½ å¯ä»¥æœåˆ°ä¸€å¤§å †çš„èµ„æ–™ã€‚è€Œä¸”é¢è¯•è¿™é“é¢˜åŸºæœ¬æ˜¯å¿…è€ƒé¢˜ï¼ŒäºŒæœˆä»½é¢è¯•çš„æ—¶å€™ï¼Œè™½ç„¶çŸ¥é“è¿™ä¸ªè¿‡ç¨‹å‘ç”Ÿäº†ä»€ä¹ˆï¼Œä¸è¿‡å½“é¢è¯•å®˜ä¸€æ­¥æ­¥è¿½é—®ä¸‹å»çš„ï¼Œå¾ˆå¤šç»†èŠ‚å°±ä¸å¤ªæ¸…æ¥šäº†ã€‚<br>æœ€è¿‘åˆšå¥½ä¹Ÿåœ¨çœ‹httpåè®®ç›¸å…³çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æƒ³å¯¹è¿™ä¸ªè¯é¢˜æ¥ä¸ªæ·±å…¥çš„æ€»ç»“ï¼Œæœ¬æ–‡çš„ç›®çš„æ˜¯é€šè¿‡è¾“å…¥urlä¹‹åå‘ç”Ÿçš„äº‹æƒ…æ¥åšçŸ¥è¯†çš„æ€»ç»“å’Œæ‰©å±•ã€‚æ‰€ä»¥æ–‡ç« å¯èƒ½ä¼šå¾ˆæ‚</p><h2 id="è¾“å…¥åœ°å€"><a href="#è¾“å…¥åœ°å€" class="headerlink" title="è¾“å…¥åœ°å€"></a>è¾“å…¥åœ°å€</h2><p>å½“æˆ‘ä»¬å¼€å§‹åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€çš„æ—¶å€™ï¼Œæµè§ˆå™¨å…¶å®å°±å·²ç»åœ¨æ™ºèƒ½çš„åŒ¹é…å¯èƒ½å¾— url äº†ï¼Œä»–ä¼šä»å†å²è®°å½•ï¼Œä¹¦ç­¾ç­‰åœ°æ–¹ï¼Œæ‰¾åˆ°å·²ç»è¾“å…¥çš„å­—ç¬¦ä¸²å¯èƒ½å¯¹åº”çš„ urlï¼Œç„¶åç»™å‡ºæ™ºèƒ½æç¤ºï¼Œè®©ä½ å¯ä»¥è¡¥å…¨urlåœ°å€ã€‚å¯¹äº googleçš„chrome çš„æµè§ˆå™¨ï¼Œä»–ç”šè‡³ä¼šç›´æ¥ä»ç¼“å­˜ä¸­æŠŠç½‘é¡µå±•ç¤ºå‡ºæ¥ï¼Œå°±æ˜¯è¯´ï¼Œä½ è¿˜æ²¡æœ‰æŒ‰ä¸‹ enterï¼Œé¡µé¢å°±å‡ºæ¥äº†ã€‚</p><h2 id="æµè§ˆå™¨æŸ¥æ‰¾åŸŸåçš„-IP-åœ°å€"><a href="#æµè§ˆå™¨æŸ¥æ‰¾åŸŸåçš„-IP-åœ°å€" class="headerlink" title="æµè§ˆå™¨æŸ¥æ‰¾åŸŸåçš„ IP åœ°å€ã€€"></a>æµè§ˆå™¨æŸ¥æ‰¾åŸŸåçš„ IP åœ°å€ã€€</h2><p>1ã€è¯·æ±‚ä¸€æ—¦å‘èµ·ï¼Œæµè§ˆå™¨é¦–å…ˆè¦åšçš„äº‹æƒ…å°±æ˜¯è§£æè¿™ä¸ªåŸŸåï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæµè§ˆå™¨ä¼šé¦–å…ˆæŸ¥çœ‹æœ¬åœ°ç¡¬ç›˜çš„ hosts æ–‡ä»¶ï¼Œçœ‹çœ‹å…¶ä¸­æœ‰æ²¡æœ‰å’Œè¿™ä¸ªåŸŸåå¯¹åº”çš„è§„åˆ™ï¼Œå¦‚æœæœ‰çš„è¯å°±ç›´æ¥ä½¿ç”¨ hosts æ–‡ä»¶é‡Œé¢çš„ ip åœ°å€ã€‚</p><p>2ã€å¦‚æœåœ¨æœ¬åœ°çš„ hosts æ–‡ä»¶æ²¡æœ‰èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„ ip åœ°å€ï¼Œæµè§ˆå™¨ä¼šå‘å‡ºä¸€ä¸ª DNSè¯·æ±‚åˆ°æœ¬åœ°DNSæœåŠ¡å™¨ ã€‚æœ¬åœ°DNSæœåŠ¡å™¨ä¸€èˆ¬éƒ½æ˜¯ä½ çš„ç½‘ç»œæ¥å…¥æœåŠ¡å™¨å•†æä¾›ï¼Œæ¯”å¦‚ä¸­å›½ç”µä¿¡ï¼Œä¸­å›½ç§»åŠ¨ã€‚</p><p>3ã€æŸ¥è¯¢ä½ è¾“å…¥çš„ç½‘å€çš„DNSè¯·æ±‚åˆ°è¾¾æœ¬åœ°DNSæœåŠ¡å™¨ä¹‹åï¼Œæœ¬åœ°DNSæœåŠ¡å™¨ä¼šé¦–å…ˆæŸ¥è¯¢å®ƒçš„ç¼“å­˜è®°å½•ï¼Œå¦‚æœç¼“å­˜ä¸­æœ‰æ­¤æ¡è®°å½•ï¼Œå°±å¯ä»¥ç›´æ¥è¿”å›ç»“æœï¼Œæ­¤è¿‡ç¨‹æ˜¯é€’å½’çš„æ–¹å¼è¿›è¡ŒæŸ¥è¯¢ã€‚å¦‚æœæ²¡æœ‰ï¼Œæœ¬åœ°DNSæœåŠ¡å™¨è¿˜è¦å‘DNSæ ¹æœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚</p><p>4ã€æ ¹DNSæœåŠ¡å™¨æ²¡æœ‰è®°å½•å…·ä½“çš„åŸŸåå’ŒIPåœ°å€çš„å¯¹åº”å…³ç³»ï¼Œè€Œæ˜¯å‘Šè¯‰æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œä½ å¯ä»¥åˆ°åŸŸæœåŠ¡å™¨ä¸Šå»ç»§ç»­æŸ¥è¯¢ï¼Œå¹¶ç»™å‡ºåŸŸæœåŠ¡å™¨çš„åœ°å€ã€‚è¿™ç§è¿‡ç¨‹æ˜¯è¿­ä»£çš„è¿‡ç¨‹ã€‚</p><p>5ã€æœ¬åœ°DNSæœåŠ¡å™¨ç»§ç»­å‘åŸŸæœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¯·æ±‚çš„å¯¹è±¡æ˜¯.comåŸŸæœåŠ¡å™¨ã€‚.comåŸŸæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œä¹Ÿä¸ä¼šç›´æ¥è¿”å›åŸŸåå’ŒIPåœ°å€çš„å¯¹åº”å…³ç³»ï¼Œè€Œæ˜¯å‘Šè¯‰æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œä½ çš„åŸŸåçš„è§£ææœåŠ¡å™¨çš„åœ°å€ã€‚</p><p>6ã€æœ€åï¼Œæœ¬åœ°DNSæœåŠ¡å™¨å‘åŸŸåçš„è§£ææœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œè¿™æ—¶å°±èƒ½æ”¶åˆ°ä¸€ä¸ªåŸŸåå’ŒIPåœ°å€å¯¹åº”å…³ç³»ï¼Œæœ¬åœ°DNSæœåŠ¡å™¨ä¸ä»…è¦æŠŠIPåœ°å€è¿”å›ç»™ç”¨æˆ·ç”µè„‘ï¼Œè¿˜è¦æŠŠè¿™ä¸ªå¯¹åº”å…³ç³»ä¿å­˜åœ¨ç¼“å­˜ä¸­ï¼Œä»¥å¤‡ä¸‹æ¬¡åˆ«çš„ç”¨æˆ·æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥ç›´æ¥è¿”å›ç»“æœï¼ŒåŠ å¿«ç½‘ç»œè®¿é—®ã€‚<br>ä¸‹é¢è¿™å¼ å›¾å¾ˆå®Œç¾çš„è§£é‡Šäº†è¿™ä¸€è¿‡ç¨‹ï¼š</p><blockquote><ul><li>çŸ¥è¯†æ‰©å±•ï¼š</li></ul></blockquote><h3 id="ä»€ä¹ˆæ˜¯DNSï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯DNSï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯DNSï¼Ÿ"></a>ä»€ä¹ˆæ˜¯DNSï¼Ÿ</h3><p>DNSï¼ˆDomain Name Systemï¼ŒåŸŸåç³»ç»Ÿï¼‰ï¼Œå› ç‰¹ç½‘ä¸Šä½œä¸ºåŸŸåå’ŒIPåœ°å€ç›¸äº’æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œèƒ½å¤Ÿä½¿ç”¨æˆ·æ›´æ–¹ä¾¿çš„è®¿é—®äº’è”ç½‘ï¼Œè€Œä¸ç”¨å»è®°ä½èƒ½å¤Ÿè¢«æœºå™¨ç›´æ¥è¯»å–çš„IPæ•°ä¸²ã€‚é€šè¿‡ä¸»æœºåï¼Œæœ€ç»ˆå¾—åˆ°è¯¥ä¸»æœºåå¯¹åº”çš„IPåœ°å€çš„è¿‡ç¨‹å«åšåŸŸåè§£æï¼ˆæˆ–ä¸»æœºåè§£æï¼‰ã€‚<br>é€šä¿—çš„è®²ï¼Œæˆ‘ä»¬æ›´ä¹ æƒ¯äºè®°ä½ä¸€ä¸ªç½‘ç«™çš„åå­—ï¼Œæ¯”å¦‚<a href="http://www.baidu.com,è€Œä¸æ˜¯è®°ä½å®ƒçš„ipåœ°å€ï¼Œæ¯”å¦‚ï¼š167.23.10.2ã€‚è€Œè®¡ç®—æœºæ›´æ“…é•¿è®°ä½ç½‘ç«™çš„ipåœ°å€ï¼Œè€Œä¸æ˜¯åƒwww.baidu.comç­‰é“¾æ¥ã€‚å› ä¸ºï¼ŒDNSå°±ç›¸å½“äºä¸€ä¸ªç”µè¯æœ¬ï¼Œæ¯”å¦‚ä½ è¦æ‰¾www.baidu.comè¿™ä¸ªåŸŸåï¼Œé‚£æˆ‘ç¿»ä¸€ç¿»æˆ‘çš„ç”µè¯æœ¬ï¼Œæˆ‘å°±çŸ¥é“ï¼Œå“¦ï¼Œå®ƒçš„ç”µè¯ï¼ˆipï¼‰æ˜¯167.23.10.2ã€‚" target="_blank" rel="noopener">www.baidu.com,è€Œä¸æ˜¯è®°ä½å®ƒçš„ipåœ°å€ï¼Œæ¯”å¦‚ï¼š167.23.10.2ã€‚è€Œè®¡ç®—æœºæ›´æ“…é•¿è®°ä½ç½‘ç«™çš„ipåœ°å€ï¼Œè€Œä¸æ˜¯åƒwww.baidu.comç­‰é“¾æ¥ã€‚å› ä¸ºï¼ŒDNSå°±ç›¸å½“äºä¸€ä¸ªç”µè¯æœ¬ï¼Œæ¯”å¦‚ä½ è¦æ‰¾www.baidu.comè¿™ä¸ªåŸŸåï¼Œé‚£æˆ‘ç¿»ä¸€ç¿»æˆ‘çš„ç”µè¯æœ¬ï¼Œæˆ‘å°±çŸ¥é“ï¼Œå“¦ï¼Œå®ƒçš„ç”µè¯ï¼ˆipï¼‰æ˜¯167.23.10.2ã€‚</a></p><h3 id="DNSæŸ¥è¯¢çš„ä¸¤ç§æ–¹å¼ï¼šé€’å½’æŸ¥è¯¢å’Œè¿­ä»£æŸ¥è¯¢"><a href="#DNSæŸ¥è¯¢çš„ä¸¤ç§æ–¹å¼ï¼šé€’å½’æŸ¥è¯¢å’Œè¿­ä»£æŸ¥è¯¢" class="headerlink" title="DNSæŸ¥è¯¢çš„ä¸¤ç§æ–¹å¼ï¼šé€’å½’æŸ¥è¯¢å’Œè¿­ä»£æŸ¥è¯¢"></a>DNSæŸ¥è¯¢çš„ä¸¤ç§æ–¹å¼ï¼šé€’å½’æŸ¥è¯¢å’Œè¿­ä»£æŸ¥è¯¢</h3><blockquote><p>é€’å½’è§£æ<br> å½“å±€éƒ¨DNSæœåŠ¡å™¨è‡ªå·±ä¸èƒ½å›ç­”å®¢æˆ·æœºçš„DNSæŸ¥è¯¢æ—¶ï¼Œå®ƒå°±éœ€è¦å‘å…¶ä»–DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚æ­¤æ—¶æœ‰ä¸¤ç§æ–¹å¼ï¼Œå¦‚å›¾æ‰€ç¤ºçš„æ˜¯é€’å½’æ–¹å¼ã€‚å±€éƒ¨DNSæœåŠ¡å™¨è‡ªå·±è´Ÿè´£å‘å…¶ä»–DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ï¼Œä¸€èˆ¬æ˜¯å…ˆå‘è¯¥åŸŸåçš„æ ¹åŸŸæœåŠ¡å™¨æŸ¥è¯¢ï¼Œå†ç”±æ ¹åŸŸåæœåŠ¡å™¨ä¸€çº§çº§å‘ä¸‹æŸ¥è¯¢ã€‚æœ€åå¾—åˆ°çš„æŸ¥è¯¢ç»“æœè¿”å›ç»™å±€éƒ¨DNSæœåŠ¡å™¨ï¼Œå†ç”±å±€éƒ¨DNSæœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p></blockquote><blockquote><p>è¿­ä»£è§£æ<br>å½“å±€éƒ¨DNSæœåŠ¡å™¨è‡ªå·±ä¸èƒ½å›ç­”å®¢æˆ·æœºçš„DNSæŸ¥è¯¢æ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¿­ä»£æŸ¥è¯¢çš„æ–¹å¼è¿›è¡Œè§£æï¼Œå¦‚å›¾æ‰€ç¤ºã€‚å±€éƒ¨DNSæœåŠ¡å™¨ä¸æ˜¯è‡ªå·±å‘å…¶ä»–DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ï¼Œè€Œæ˜¯æŠŠèƒ½è§£æè¯¥åŸŸåçš„å…¶ä»–DNSæœåŠ¡å™¨çš„IPåœ°å€è¿”å›ç»™å®¢æˆ·ç«¯DNSç¨‹åºï¼Œå®¢æˆ·ç«¯DNSç¨‹åºå†ç»§ç»­å‘è¿™äº›DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ï¼Œç›´åˆ°å¾—åˆ°æŸ¥è¯¢ç»“æœä¸ºæ­¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿­ä»£è§£æåªæ˜¯å¸®ä½ æ‰¾åˆ°ç›¸å…³çš„æœåŠ¡å™¨è€Œå·²ï¼Œè€Œä¸ä¼šå¸®ä½ å»æŸ¥ã€‚æ¯”å¦‚è¯´ï¼šbaidu.comçš„æœåŠ¡å™¨ipåœ°å€åœ¨192.168.4.5è¿™é‡Œï¼Œä½ è‡ªå·±å»æŸ¥å§ï¼Œæœ¬äººæ¯”è¾ƒå¿™ï¼Œåªèƒ½å¸®ä½ åˆ°è¿™é‡Œäº†ã€‚</p></blockquote><h3 id="DNSåŸŸåç§°ç©ºé—´çš„ç»„ç»‡æ–¹å¼"><a href="#DNSåŸŸåç§°ç©ºé—´çš„ç»„ç»‡æ–¹å¼" class="headerlink" title="DNSåŸŸåç§°ç©ºé—´çš„ç»„ç»‡æ–¹å¼"></a>DNSåŸŸåç§°ç©ºé—´çš„ç»„ç»‡æ–¹å¼</h3><p> æˆ‘ä»¬åœ¨å‰é¢æœ‰è¯´åˆ°æ ¹DNSæœåŠ¡å™¨ï¼ŒåŸŸDNSæœåŠ¡å™¨ï¼Œè¿™äº›éƒ½æ˜¯DNSåŸŸåç§°ç©ºé—´çš„ç»„ç»‡æ–¹å¼ã€‚æŒ‰å…¶åŠŸèƒ½å‘½åç©ºé—´ä¸­ç”¨æ¥æè¿° DNS åŸŸåç§°çš„äº”ä¸ªç±»åˆ«çš„ä»‹ç»è¯¦è§ä¸‹è¡¨ä¸­ï¼Œä»¥åŠä¸æ¯ä¸ªåç§°ç±»å‹çš„ç¤ºä¾‹</p><h3 id="DNSè´Ÿè½½å‡è¡¡"><a href="#DNSè´Ÿè½½å‡è¡¡" class="headerlink" title="DNSè´Ÿè½½å‡è¡¡"></a>DNSè´Ÿè½½å‡è¡¡</h3><p>å½“ä¸€ä¸ªç½‘ç«™æœ‰è¶³å¤Ÿå¤šçš„ç”¨æˆ·çš„æ—¶å€™ï¼Œå‡å¦‚æ¯æ¬¡è¯·æ±‚çš„èµ„æºéƒ½ä½äºåŒä¸€å°æœºå™¨ä¸Šé¢ï¼Œé‚£ä¹ˆè¿™å°æœºå™¨éšæ—¶å¯èƒ½ä¼šè¹¦æ‰ã€‚å¤„ç†åŠæ³•å°±æ˜¯ç”¨DNSè´Ÿè½½å‡è¡¡æŠ€æœ¯ï¼Œå®ƒçš„åŸç†æ˜¯åœ¨DNSæœåŠ¡å™¨ä¸­ä¸ºåŒä¸€ä¸ªä¸»æœºåé…ç½®å¤šä¸ªIPåœ°å€,åœ¨åº”ç­”DNSæŸ¥è¯¢æ—¶,DNSæœåŠ¡å™¨å¯¹æ¯ä¸ªæŸ¥è¯¢å°†ä»¥DNSæ–‡ä»¶ä¸­ä¸»æœºè®°å½•çš„IPåœ°å€æŒ‰é¡ºåºè¿”å›ä¸åŒçš„è§£æç»“æœ,å°†å®¢æˆ·ç«¯çš„è®¿é—®å¼•å¯¼åˆ°ä¸åŒçš„æœºå™¨ä¸Šå»,ä½¿å¾—ä¸åŒçš„å®¢æˆ·ç«¯è®¿é—®ä¸åŒçš„æœåŠ¡å™¨,ä»è€Œè¾¾åˆ°è´Ÿè½½å‡è¡¡çš„ç›®çš„ï½¡ä¾‹å¦‚å¯ä»¥æ ¹æ®æ¯å°æœºå™¨çš„è´Ÿè½½é‡ï¼Œè¯¥æœºå™¨ç¦»ç”¨æˆ·åœ°ç†ä½ç½®çš„è·ç¦»ç­‰ç­‰</p><h2 id="æµè§ˆå™¨å‘-web-æœåŠ¡å™¨å‘é€ä¸€ä¸ª-HTTP-è¯·æ±‚"><a href="#æµè§ˆå™¨å‘-web-æœåŠ¡å™¨å‘é€ä¸€ä¸ª-HTTP-è¯·æ±‚" class="headerlink" title="æµè§ˆå™¨å‘ web æœåŠ¡å™¨å‘é€ä¸€ä¸ª HTTP è¯·æ±‚"></a>æµè§ˆå™¨å‘ web æœåŠ¡å™¨å‘é€ä¸€ä¸ª HTTP è¯·æ±‚</h2><p>æ‹¿åˆ°åŸŸåå¯¹åº”çš„IPåœ°å€ä¹‹åï¼Œæµè§ˆå™¨ä¼šä»¥ä¸€ä¸ªéšæœºç«¯å£ï¼ˆ1024&lt;ç«¯å£&lt;65535ï¼‰å‘æœåŠ¡å™¨çš„WEBç¨‹åºï¼ˆå¸¸ç”¨çš„æœ‰httpd,nginxç­‰ï¼‰80ç«¯å£å‘èµ·TCPçš„è¿æ¥è¯·æ±‚ã€‚è¿™ä¸ªè¿æ¥è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ç«¯åï¼ˆè¿™ä¸­é—´é€šè¿‡å„ç§è·¯ç”±è®¾å¤‡ï¼Œå±€åŸŸç½‘å†…é™¤å¤–ï¼‰ï¼Œè¿›å…¥åˆ°ç½‘å¡ï¼Œç„¶åæ˜¯è¿›å…¥åˆ°å†…æ ¸çš„TCP/IPåè®®æ ˆï¼ˆç”¨äºè¯†åˆ«è¯¥è¿æ¥è¯·æ±‚ï¼Œè§£å°åŒ…ï¼Œä¸€å±‚ä¸€å±‚çš„å‰¥å¼€ï¼‰ï¼Œè¿˜æœ‰å¯èƒ½è¦ç»è¿‡Netfilteré˜²ç«å¢™ï¼ˆå±äºå†…æ ¸çš„æ¨¡å—ï¼‰çš„è¿‡æ»¤ï¼Œæœ€ç»ˆåˆ°è¾¾WEBç¨‹åºï¼Œæœ€ç»ˆå»ºç«‹äº†TCP/IPçš„è¿æ¥ã€‚</p><p>å»ºç«‹äº†TCPè¿æ¥ä¹‹åï¼Œå‘èµ·ä¸€ä¸ªhttpè¯·æ±‚ã€‚ä¸€ä¸ªå…¸å‹çš„ http request header ä¸€èˆ¬éœ€è¦åŒ…æ‹¬è¯·æ±‚çš„æ–¹æ³•ï¼Œä¾‹å¦‚ GET æˆ–è€… POST ç­‰ï¼Œä¸å¸¸ç”¨çš„è¿˜æœ‰ PUT å’Œ DELETE ã€HEADã€OPTIONä»¥åŠ TRACE æ–¹æ³•ï¼Œä¸€èˆ¬çš„æµè§ˆå™¨åªèƒ½å‘èµ· GET æˆ–è€… POST è¯·æ±‚ã€‚<br>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·httpè¯·æ±‚çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€äº›è¯·æ±‚ä¿¡æ¯ï¼Œè¯·æ±‚ä¿¡æ¯åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><blockquote><p>è¯·æ±‚æ–¹æ³•URIåè®®/ç‰ˆæœ¬<br>è¯·æ±‚å¤´(Request Header)<br>è¯·æ±‚æ­£æ–‡ï¼š<br>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„HTTPè¯·æ±‚ä¾‹å­ï¼š</p><pre class=" language-js"><code class="language-js">GET<span class="token operator">/</span>sample<span class="token punctuation">.</span>jspHTTP<span class="token operator">/</span><span class="token number">1.1</span> Accept<span class="token punctuation">:</span>image<span class="token operator">/</span>gif<span class="token punctuation">.</span>image<span class="token operator">/</span>jpegAccept<span class="token operator">-</span>Language<span class="token punctuation">:</span>zh<span class="token operator">-</span>cnConnection<span class="token punctuation">:</span>Keep<span class="token operator">-</span>AliveHost<span class="token punctuation">:</span>localhostUser<span class="token operator">-</span>Agent<span class="token punctuation">:</span>Mozila<span class="token operator">/</span><span class="token number">4.0</span><span class="token punctuation">(</span>compatible<span class="token punctuation">;</span>MSIE5<span class="token number">.01</span><span class="token punctuation">;</span>Window NT5<span class="token number">.0</span><span class="token punctuation">)</span>Accept<span class="token operator">-</span>Encoding<span class="token punctuation">:</span>gzip<span class="token punctuation">,</span>deflateusername<span class="token operator">=</span>jinqiao<span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">1234</span></code></pre><p> æ³¨æ„ï¼šæœ€åä¸€ä¸ªè¯·æ±‚å¤´ä¹‹åæ˜¯ä¸€ä¸ªç©ºè¡Œï¼Œå‘é€å›è½¦ç¬¦å’Œæ¢è¡Œç¬¦ï¼Œé€šçŸ¥æœåŠ¡å™¨ä»¥ä¸‹ä¸å†æœ‰è¯·æ±‚å¤´ã€‚</p></blockquote><p>ï¼ˆ1ï¼‰è¯·æ±‚çš„ç¬¬ä¸€è¡Œæ˜¯â€œæ–¹æ³•URLè®®/ç‰ˆæœ¬â€ï¼šGET/sample.jsp HTTP/1.1<br>ï¼ˆ2ï¼‰è¯·æ±‚å¤´(Request Header)</p><p>è¯·æ±‚å¤´åŒ…å«è®¸å¤šæœ‰å…³çš„å®¢æˆ·ç«¯ç¯å¢ƒå’Œè¯·æ±‚æ­£æ–‡çš„æœ‰ç”¨ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œè¯·æ±‚å¤´å¯ä»¥å£°æ˜æµè§ˆå™¨æ‰€ç”¨çš„è¯­è¨€ï¼Œè¯·æ±‚æ­£æ–‡çš„é•¿åº¦ç­‰ã€‚</p><pre class=" language-js"><code class="language-js">Accept<span class="token punctuation">:</span>image<span class="token operator">/</span>gif<span class="token punctuation">.</span>image<span class="token operator">/</span>jpegAccept<span class="token operator">-</span>Language<span class="token punctuation">:</span>zh<span class="token operator">-</span>cnConnection<span class="token punctuation">:</span>Keep<span class="token operator">-</span>AliveHost<span class="token punctuation">:</span>localhostUser<span class="token operator">-</span>Agent<span class="token punctuation">:</span>Mozila<span class="token operator">/</span><span class="token number">4.0</span><span class="token punctuation">(</span>compatible<span class="token punctuation">:</span>MSIE5<span class="token number">.01</span><span class="token punctuation">:</span>Windows NT5<span class="token number">.0</span><span class="token punctuation">)</span>Accept<span class="token operator">-</span>Encoding<span class="token punctuation">:</span>gzip<span class="token punctuation">,</span>deflate<span class="token punctuation">.</span></code></pre><p>ï¼ˆ3ï¼‰è¯·æ±‚æ­£æ–‡</p><p>è¯·æ±‚å¤´å’Œè¯·æ±‚æ­£æ–‡ä¹‹é—´æ˜¯ä¸€ä¸ªç©ºè¡Œï¼Œè¿™ä¸ªè¡Œéå¸¸é‡è¦ï¼Œå®ƒè¡¨ç¤ºè¯·æ±‚å¤´å·²ç»ç»“æŸï¼Œæ¥ä¸‹æ¥çš„æ˜¯è¯·æ±‚æ­£æ–‡ã€‚è¯·æ±‚æ­£æ–‡ä¸­å¯ä»¥åŒ…å«å®¢æˆ·æäº¤çš„æŸ¥è¯¢å­—ç¬¦ä¸²ä¿¡æ¯ï¼š</p><pre class=" language-js"><code class="language-js">username<span class="token operator">=</span>jinqiao<span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">1234</span></code></pre><p>1ï¼‰TCPä¸‰æ¬¡æ¡æ‰‹<br>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯Aå°†æ ‡å¿—ä½SYNç½®ä¸º1,éšæœºäº§ç”Ÿä¸€ä¸ªå€¼ä¸ºseq=Jï¼ˆJçš„å–å€¼èŒƒå›´ä¸º=1234567ï¼‰çš„æ•°æ®åŒ…åˆ°æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯Aè¿›å…¥SYN_SENTçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡ç«¯Bç¡®è®¤ï¼›<br>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡ç«¯Bæ”¶åˆ°æ•°æ®åŒ…åç”±æ ‡å¿—ä½SYN=1çŸ¥é“å®¢æˆ·ç«¯Aè¯·æ±‚å»ºç«‹è¿æ¥ï¼ŒæœåŠ¡ç«¯Bå°†æ ‡å¿—ä½SYNå’ŒACKéƒ½ç½®ä¸º1ï¼Œack=J+1ï¼Œéšæœºäº§ç”Ÿä¸€ä¸ªå€¼seq=Kï¼Œå¹¶å°†è¯¥æ•°æ®åŒ…å‘é€ç»™å®¢æˆ·ç«¯Aä»¥ç¡®è®¤è¿æ¥è¯·æ±‚ï¼ŒæœåŠ¡ç«¯Bè¿›å…¥SYN_RCVDçŠ¶æ€ã€‚<br>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯Aæ”¶åˆ°ç¡®è®¤åï¼Œæ£€æŸ¥ackæ˜¯å¦ä¸ºJ+1ï¼ŒACKæ˜¯å¦ä¸º1ï¼Œå¦‚æœæ­£ç¡®åˆ™å°†æ ‡å¿—ä½ACKç½®ä¸º1ï¼Œack=K+1ï¼Œå¹¶å°†è¯¥æ•°æ®åŒ…å‘é€ç»™æœåŠ¡ç«¯Bï¼ŒæœåŠ¡ç«¯Bæ£€æŸ¥ackæ˜¯å¦ä¸ºK+1ï¼ŒACKæ˜¯å¦ä¸º1ï¼Œå¦‚æœæ­£ç¡®åˆ™è¿æ¥å»ºç«‹æˆåŠŸï¼Œå®¢æˆ·ç«¯Aå’ŒæœåŠ¡ç«¯Bè¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ï¼Œéšåå®¢æˆ·ç«¯Aä¸æœåŠ¡ç«¯Bä¹‹é—´å¯ä»¥å¼€å§‹ä¼ è¾“æ•°æ®äº†ã€‚</p><p> 2ï¼‰ä¸ºä»€éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ<br> ã€Šè®¡ç®—æœºç½‘ç»œã€‹ç¬¬å››ç‰ˆä¸­è®²â€œä¸‰æ¬¡æ¡æ‰‹â€çš„ç›®çš„æ˜¯â€œä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡ç«¯ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯â€<br> ä¹¦ä¸­çš„ä¾‹å­æ˜¯è¿™æ ·çš„ï¼Œâ€œå·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µâ€çš„äº§ç”Ÿåœ¨è¿™æ ·ä¸€ç§æƒ…å†µä¸‹ï¼šclientå‘å‡ºçš„ç¬¬ä¸€ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µå¹¶æ²¡æœ‰ä¸¢å¤±ï¼Œè€Œæ˜¯åœ¨æŸä¸ªç½‘ç»œç»“ç‚¹é•¿æ—¶é—´çš„æ»ç•™äº†ï¼Œä»¥è‡´å»¶è¯¯åˆ°è¿æ¥é‡Šæ”¾ä»¥åçš„æŸä¸ªæ—¶é—´æ‰åˆ°è¾¾serverã€‚æœ¬æ¥è¿™æ˜¯ä¸€ä¸ªæ—©å·²å¤±æ•ˆçš„æŠ¥æ–‡æ®µã€‚ä½†serveræ”¶åˆ°æ­¤å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå°±è¯¯è®¤ä¸ºæ˜¯clientå†æ¬¡å‘å‡ºçš„ä¸€ä¸ªæ–°çš„è¿æ¥è¯·æ±‚ã€‚äºæ˜¯å°±å‘clientå‘å‡ºç¡®è®¤æŠ¥æ–‡æ®µï¼ŒåŒæ„å»ºç«‹è¿æ¥<br>å‡è®¾ä¸é‡‡ç”¨â€œä¸‰æ¬¡æ¡æ‰‹â€ï¼Œé‚£ä¹ˆåªè¦serverå‘å‡ºç¡®è®¤ï¼Œæ–°çš„è¿æ¥å°±å»ºç«‹äº†ã€‚ç”±äºç°åœ¨clientå¹¶æ²¡æœ‰å‘å‡ºå»ºç«‹è¿æ¥çš„è¯·æ±‚ï¼Œå› æ­¤ä¸ä¼šç†ç¬serverçš„ç¡®è®¤ï¼Œä¹Ÿä¸ä¼šå‘serverå‘é€æ•°æ®ã€‚ä½†serverå´ä»¥ä¸ºæ–°çš„è¿è¾“è¿æ¥å·²ç»å»ºç«‹ï¼Œå¹¶ä¸€ç›´ç­‰å¾…clientå‘æ¥æ•°æ®ã€‚è¿™æ ·ï¼Œserverçš„å¾ˆå¤šèµ„æºå°±ç™½ç™½æµªè´¹æ‰äº†ã€‚é‡‡ç”¨â€œä¸‰æ¬¡æ¡æ‰‹â€çš„åŠæ³•å¯ä»¥é˜²æ­¢ä¸Šè¿°ç°è±¡å‘ç”Ÿã€‚ä¾‹å¦‚åˆšæ‰é‚£ç§æƒ…å†µï¼Œclientä¸ä¼šå‘serverçš„ç¡®è®¤å‘å‡ºç¡®è®¤ã€‚serverç”±äºæ”¶ä¸åˆ°ç¡®è®¤ï¼Œå°±çŸ¥é“clientå¹¶æ²¡æœ‰è¦æ±‚å»ºç«‹è¿æ¥ã€‚â€ã€‚ä¸»è¦ç›®çš„é˜²æ­¢serverç«¯ä¸€ç›´ç­‰å¾…ï¼Œæµªè´¹èµ„æºã€‚<br>3ï¼‰TCPå››æ¬¡æŒ¥æ‰‹<br>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šClientå‘é€ä¸€ä¸ªFINï¼Œç”¨æ¥å…³é—­Clientåˆ°Serverçš„æ•°æ®ä¼ é€ï¼ŒClientè¿›å…¥FIN_WAIT_1çŠ¶æ€ã€‚</p><p>ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šServeræ”¶åˆ°FINåï¼Œå‘é€ä¸€ä¸ªACKç»™Clientï¼Œç¡®è®¤åºå·ä¸ºæ”¶åˆ°åºå·+1ï¼ˆä¸SYNç›¸åŒï¼Œä¸€ä¸ªFINå ç”¨ä¸€ä¸ªåºå·ï¼‰ï¼ŒServerè¿›å…¥CLOSE_WAITçŠ¶æ€ã€‚<br>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šServerå‘é€ä¸€ä¸ªFINï¼Œç”¨æ¥å…³é—­Serveråˆ°Clientçš„æ•°æ®ä¼ é€ï¼ŒServerè¿›å…¥LAST_ACKçŠ¶æ€ã€‚</p><p>ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šClientæ”¶åˆ°FINåï¼ŒClientè¿›å…¥TIME_WAITçŠ¶æ€ï¼Œæ¥ç€å‘é€ä¸€ä¸ªACKç»™Serverï¼Œç¡®è®¤åºå·ä¸ºæ”¶åˆ°åºå·+1ï¼ŒServerè¿›å…¥CLOSEDçŠ¶æ€ï¼Œå®Œæˆå››æ¬¡æŒ¥æ‰‹ã€‚<br> 4ï¼‰ä¸ºä»€ä¹ˆå»ºç«‹è¿æ¥æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œå…³é—­è¿æ¥å´æ˜¯å››æ¬¡æŒ¥æ‰‹å‘¢ï¼Ÿ<br>è¿™æ˜¯å› ä¸ºæœåŠ¡ç«¯åœ¨LISTENçŠ¶æ€ä¸‹ï¼Œæ”¶åˆ°å»ºç«‹è¿æ¥è¯·æ±‚çš„SYNæŠ¥æ–‡åï¼ŒæŠŠACKå’ŒSYNæ”¾åœ¨ä¸€ä¸ªæŠ¥æ–‡é‡Œå‘é€ç»™å®¢æˆ·ç«¯ã€‚è€Œå…³é—­è¿æ¥æ—¶ï¼Œå½“æ”¶åˆ°å¯¹æ–¹çš„FINæŠ¥æ–‡æ—¶ï¼Œä»…ä»…è¡¨ç¤ºå¯¹æ–¹ä¸å†å‘é€æ•°æ®äº†ä½†æ˜¯è¿˜èƒ½æ¥æ”¶æ•°æ®ï¼Œå·±æ–¹ä¹Ÿæœªå¿…å…¨éƒ¨æ•°æ®éƒ½å‘é€ç»™å¯¹æ–¹äº†ï¼Œæ‰€ä»¥å·±æ–¹å¯ä»¥ç«‹å³closeï¼Œä¹Ÿå¯ä»¥å‘é€ä¸€äº›æ•°æ®ç»™å¯¹æ–¹åï¼Œå†å‘é€FINæŠ¥æ–‡ç»™å¯¹æ–¹æ¥è¡¨ç¤ºåŒæ„ç°åœ¨å…³é—­è¿æ¥ï¼Œå› æ­¤ï¼Œå·±æ–¹ACKå’ŒFINä¸€èˆ¬éƒ½ä¼šåˆ†å¼€å‘é€ã€‚</p><h2 id="æœåŠ¡å™¨çš„æ°¸ä¹…é‡å®šå‘å“åº”"><a href="#æœåŠ¡å™¨çš„æ°¸ä¹…é‡å®šå‘å“åº”" class="headerlink" title="æœåŠ¡å™¨çš„æ°¸ä¹…é‡å®šå‘å“åº”"></a>æœåŠ¡å™¨çš„æ°¸ä¹…é‡å®šå‘å“åº”</h2><p>æœåŠ¡å™¨ç»™æµè§ˆå™¨å“åº”ä¸€ä¸ª301æ°¸ä¹…é‡å®šå‘å“åº”ï¼Œè¿™æ ·æµè§ˆå™¨å°±ä¼šè®¿é—®â€œ<a href="http://www.google.com/â€" target="_blank" rel="noopener">http://www.google.com/â€</a> è€Œéâ€œ<a href="http://google.com/â€ã€‚" target="_blank" rel="noopener">http://google.com/â€ã€‚</a><br>ä¸ºä»€ä¹ˆæœåŠ¡å™¨ä¸€å®šè¦é‡å®šå‘è€Œä¸æ˜¯ç›´æ¥å‘é€ç”¨æˆ·æƒ³çœ‹çš„ç½‘é¡µå†…å®¹å‘¢ï¼Ÿå…¶ä¸­ä¸€ä¸ªåŸå› è·Ÿæœç´¢å¼•æ“æ’åæœ‰å…³ã€‚å¦‚æœä¸€ä¸ªé¡µé¢æœ‰ä¸¤ä¸ªåœ°å€ï¼Œå°±åƒ<a href="http://www.yy.com/å’Œhttp://yy.com/ï¼Œæœç´¢å¼•æ“ä¼šè®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªç½‘ç«™ï¼Œç»“æœé€ æˆæ¯ä¸ªæœç´¢é“¾æ¥éƒ½å‡å°‘ä»è€Œé™ä½æ’åã€‚è€Œæœç´¢å¼•æ“çŸ¥é“301æ°¸ä¹…é‡å®šå‘æ˜¯ä»€ä¹ˆæ„æ€ï¼Œè¿™æ ·å°±ä¼šæŠŠè®¿é—®å¸¦wwwçš„å’Œä¸å¸¦wwwçš„åœ°å€å½’åˆ°åŒä¸€ä¸ªç½‘ç«™æ’åä¸‹ã€‚è¿˜æœ‰å°±æ˜¯ç”¨ä¸åŒçš„åœ°å€ä¼šé€ æˆç¼“å­˜å‹å¥½æ€§å˜å·®ï¼Œå½“ä¸€ä¸ªé¡µé¢æœ‰å¥½å‡ ä¸ªåå­—æ—¶ï¼Œå®ƒå¯èƒ½ä¼šåœ¨ç¼“å­˜é‡Œå‡ºç°å¥½å‡ æ¬¡ã€‚" target="_blank" rel="noopener">http://www.yy.com/å’Œhttp://yy.com/ï¼Œæœç´¢å¼•æ“ä¼šè®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªç½‘ç«™ï¼Œç»“æœé€ æˆæ¯ä¸ªæœç´¢é“¾æ¥éƒ½å‡å°‘ä»è€Œé™ä½æ’åã€‚è€Œæœç´¢å¼•æ“çŸ¥é“301æ°¸ä¹…é‡å®šå‘æ˜¯ä»€ä¹ˆæ„æ€ï¼Œè¿™æ ·å°±ä¼šæŠŠè®¿é—®å¸¦wwwçš„å’Œä¸å¸¦wwwçš„åœ°å€å½’åˆ°åŒä¸€ä¸ªç½‘ç«™æ’åä¸‹ã€‚è¿˜æœ‰å°±æ˜¯ç”¨ä¸åŒçš„åœ°å€ä¼šé€ æˆç¼“å­˜å‹å¥½æ€§å˜å·®ï¼Œå½“ä¸€ä¸ªé¡µé¢æœ‰å¥½å‡ ä¸ªåå­—æ—¶ï¼Œå®ƒå¯èƒ½ä¼šåœ¨ç¼“å­˜é‡Œå‡ºç°å¥½å‡ æ¬¡ã€‚</a><br>æ‰©å±•çŸ¥è¯†</p><h3 id="301å’Œ302çš„åŒºåˆ«ã€‚"><a href="#301å’Œ302çš„åŒºåˆ«ã€‚" class="headerlink" title="301å’Œ302çš„åŒºåˆ«ã€‚"></a>301å’Œ302çš„åŒºåˆ«ã€‚</h3><p>301å’Œ302çŠ¶æ€ç éƒ½è¡¨ç¤ºé‡å®šå‘ï¼Œå°±æ˜¯è¯´æµè§ˆå™¨åœ¨æ‹¿åˆ°æœåŠ¡å™¨è¿”å›çš„è¿™ä¸ªçŠ¶æ€ç åä¼šè‡ªåŠ¨è·³è½¬åˆ°ä¸€ä¸ªæ–°çš„URLåœ°å€ï¼Œè¿™ä¸ªåœ°å€å¯ä»¥ä»å“åº”çš„Locationé¦–éƒ¨ä¸­è·å–ï¼ˆç”¨æˆ·çœ‹åˆ°çš„æ•ˆæœå°±æ˜¯ä»–è¾“å…¥çš„åœ°å€Aç¬é—´å˜æˆäº†å¦ä¸€ä¸ªåœ°å€Bï¼‰â€”â€”è¿™æ˜¯å®ƒä»¬çš„å…±åŒç‚¹ã€‚<br>ä»–ä»¬çš„ä¸åŒåœ¨äºã€‚301è¡¨ç¤ºæ—§åœ°å€Açš„èµ„æºå·²ç»è¢«æ°¸ä¹…åœ°ç§»é™¤äº†ï¼ˆè¿™ä¸ªèµ„æºä¸å¯è®¿é—®äº†ï¼‰ï¼Œæœç´¢å¼•æ“åœ¨æŠ“å–æ–°å†…å®¹çš„åŒæ—¶ä¹Ÿå°†æ—§çš„ç½‘å€äº¤æ¢ä¸ºé‡å®šå‘ä¹‹åçš„ç½‘å€ï¼›<br>302è¡¨ç¤ºæ—§åœ°å€Açš„èµ„æºè¿˜åœ¨ï¼ˆä»ç„¶å¯ä»¥è®¿é—®ï¼‰ï¼Œè¿™ä¸ªé‡å®šå‘åªæ˜¯ä¸´æ—¶åœ°ä»æ—§åœ°å€Aè·³è½¬åˆ°åœ°å€Bï¼Œæœç´¢å¼•æ“ä¼šæŠ“å–æ–°çš„å†…å®¹è€Œä¿å­˜æ—§çš„ç½‘å€ã€‚ SEO302å¥½äº301</p><h3 id="é‡å®šå‘åŸå› ï¼š"><a href="#é‡å®šå‘åŸå› ï¼š" class="headerlink" title="é‡å®šå‘åŸå› ï¼š"></a>é‡å®šå‘åŸå› ï¼š</h3><p>ï¼ˆ1ï¼‰ç½‘ç«™è°ƒæ•´ï¼ˆå¦‚æ”¹å˜ç½‘é¡µç›®å½•ç»“æ„ï¼‰ï¼›<br>ï¼ˆ2ï¼‰ç½‘é¡µè¢«ç§»åˆ°ä¸€ä¸ªæ–°åœ°å€ï¼›<br>ï¼ˆ3ï¼‰ç½‘é¡µæ‰©å±•åæ”¹å˜(å¦‚åº”ç”¨éœ€è¦æŠŠ.phpæ”¹æˆ.Htmlæˆ–.shtml)ã€‚</p><p>è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä¸åšé‡å®šå‘ï¼Œåˆ™ç”¨æˆ·æ”¶è—å¤¹æˆ–æœç´¢å¼•æ“æ•°æ®åº“ä¸­æ—§åœ°å€åªèƒ½è®©è®¿é—®å®¢æˆ·å¾—åˆ°ä¸€ä¸ª404é¡µé¢é”™è¯¯ä¿¡æ¯ï¼Œè®¿é—®æµé‡ç™½ç™½ä¸§å¤±ï¼›å†è€…æŸäº›æ³¨å†Œäº†å¤šä¸ªåŸŸåçš„ç½‘ç«™ï¼Œä¹Ÿéœ€è¦é€šè¿‡é‡å®šå‘è®©è®¿é—®è¿™äº›åŸŸåçš„ç”¨æˆ·è‡ªåŠ¨è·³è½¬åˆ°ä¸»ç«™ç‚¹ç­‰ã€‚</p><h3 id="ä»€ä¹ˆæ—¶å€™è¿›è¡Œ301æˆ–è€…302è·³è½¬å‘¢ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™è¿›è¡Œ301æˆ–è€…302è·³è½¬å‘¢ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™è¿›è¡Œ301æˆ–è€…302è·³è½¬å‘¢ï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™è¿›è¡Œ301æˆ–è€…302è·³è½¬å‘¢ï¼Ÿ</h3><p> å½“ä¸€ä¸ªç½‘ç«™æˆ–è€…ç½‘é¡µ24â€”48å°æ—¶å†…ä¸´æ—¶ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°çš„ä½ç½®ï¼Œè¿™æ—¶å€™å°±è¦è¿›è¡Œ302è·³è½¬ï¼Œè€Œä½¿ç”¨301è·³è½¬çš„åœºæ™¯å°±æ˜¯ä¹‹å‰çš„ç½‘ç«™å› ä¸ºæŸç§åŸå› éœ€è¦ç§»é™¤æ‰ï¼Œç„¶åè¦åˆ°æ–°çš„åœ°å€è®¿é—®ï¼Œæ˜¯æ°¸ä¹…æ€§çš„ã€‚<br>æ¸…æ™°æ˜ç¡®è€Œè¨€ï¼šä½¿ç”¨301è·³è½¬çš„å¤§æ¦‚åœºæ™¯å¦‚ä¸‹ï¼š<br>1ã€åŸŸååˆ°æœŸä¸æƒ³ç»­è´¹ï¼ˆæˆ–è€…å‘ç°äº†æ›´é€‚åˆç½‘ç«™çš„åŸŸåï¼‰ï¼Œæƒ³æ¢ä¸ªåŸŸåã€‚<br>2ã€åœ¨æœç´¢å¼•æ“çš„æœç´¢ç»“æœä¸­å‡ºç°äº†ä¸å¸¦wwwçš„åŸŸåï¼Œè€Œå¸¦wwwçš„åŸŸåå´æ²¡æœ‰æ”¶å½•ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨301é‡å®šå‘æ¥å‘Šè¯‰æœç´¢å¼•æ“æˆ‘ä»¬ç›®æ ‡çš„åŸŸåæ˜¯å“ªä¸€ä¸ªã€‚<br>3ã€ç©ºé—´æœåŠ¡å™¨ä¸ç¨³å®šï¼Œæ¢ç©ºé—´çš„æ—¶å€™ã€‚</p><h2 id="æµè§ˆå™¨è·Ÿè¸ªé‡å®šå‘åœ°å€"><a href="#æµè§ˆå™¨è·Ÿè¸ªé‡å®šå‘åœ°å€" class="headerlink" title="æµè§ˆå™¨è·Ÿè¸ªé‡å®šå‘åœ°å€"></a>æµè§ˆå™¨è·Ÿè¸ªé‡å®šå‘åœ°å€</h2><p> ç°åœ¨æµè§ˆå™¨çŸ¥é“äº† â€œ<a href="http://www.google.com/&quot;æ‰æ˜¯è¦è®¿é—®çš„æ­£ç¡®åœ°å€ï¼Œæ‰€ä»¥å®ƒä¼šå‘é€å¦ä¸€ä¸ªhttpè¯·æ±‚ã€‚è¿™é‡Œæ²¡æœ‰å•¥å¥½è¯´çš„" target="_blank" rel="noopener">http://www.google.com/&quot;æ‰æ˜¯è¦è®¿é—®çš„æ­£ç¡®åœ°å€ï¼Œæ‰€ä»¥å®ƒä¼šå‘é€å¦ä¸€ä¸ªhttpè¯·æ±‚ã€‚è¿™é‡Œæ²¡æœ‰å•¥å¥½è¯´çš„</a></p><h2 id="æœåŠ¡å™¨å¤„ç†è¯·æ±‚"><a href="#æœåŠ¡å™¨å¤„ç†è¯·æ±‚" class="headerlink" title="æœåŠ¡å™¨å¤„ç†è¯·æ±‚"></a>æœåŠ¡å™¨å¤„ç†è¯·æ±‚</h2><p>ç»è¿‡å‰é¢çš„é‡é‡æ­¥éª¤ï¼Œæˆ‘ä»¬ç»ˆäºå°†æˆ‘ä»¬çš„httpè¯·æ±‚å‘é€åˆ°äº†æœåŠ¡å™¨è¿™é‡Œï¼Œå…¶å®å‰é¢çš„é‡å®šå‘å·²ç»æ˜¯åˆ°è¾¾æœåŠ¡å™¨äº†ï¼Œé‚£ä¹ˆï¼ŒæœåŠ¡å™¨æ˜¯å¦‚ä½•å¤„ç†æˆ‘ä»¬çš„è¯·æ±‚çš„å‘¢ï¼Ÿ<br>åç«¯ä»åœ¨å›ºå®šçš„ç«¯å£æ¥æ”¶åˆ°TCPæŠ¥æ–‡å¼€å§‹ï¼Œå®ƒä¼šå¯¹TCPè¿æ¥è¿›è¡Œå¤„ç†ï¼Œå¯¹HTTPåè®®è¿›è¡Œè§£æï¼Œå¹¶æŒ‰ç…§æŠ¥æ–‡æ ¼å¼è¿›ä¸€æ­¥å°è£…æˆHTTP Requestå¯¹è±¡ï¼Œä¾›ä¸Šå±‚ä½¿ç”¨ã€‚<br>ä¸€äº›å¤§ä¸€ç‚¹çš„ç½‘ç«™ä¼šå°†ä½ çš„è¯·æ±‚åˆ°åå‘ä»£ç†æœåŠ¡å™¨ä¸­ï¼Œå› ä¸ºå½“ç½‘ç«™è®¿é—®é‡éå¸¸å¤§ï¼Œç½‘ç«™è¶Šæ¥è¶Šæ…¢ï¼Œä¸€å°æœåŠ¡å™¨å·²ç»ä¸å¤Ÿç”¨äº†ã€‚äºæ˜¯å°†åŒä¸€ä¸ªåº”ç”¨éƒ¨ç½²åœ¨å¤šå°æœåŠ¡å™¨ä¸Šï¼Œå°†å¤§é‡ç”¨æˆ·çš„è¯·æ±‚åˆ†é…ç»™å¤šå°æœºå™¨å¤„ç†ã€‚æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯ä¸æ˜¯ç›´æ¥é€šè¿‡HTTPåè®®è®¿é—®æŸç½‘ç«™åº”ç”¨æœåŠ¡å™¨ï¼Œè€Œæ˜¯å…ˆè¯·æ±‚åˆ°Nginxï¼ŒNginxå†è¯·æ±‚åº”ç”¨æœåŠ¡å™¨ï¼Œç„¶åå°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œè¿™é‡ŒNginxçš„ä½œç”¨æ˜¯åå‘ä»£ç†æœåŠ¡å™¨ã€‚åŒæ—¶ä¹Ÿå¸¦æ¥äº†ä¸€ä¸ªå¥½å¤„ï¼Œå…¶ä¸­ä¸€å°æœåŠ¡å™¨ä¸‡ä¸€æŒ‚äº†ï¼Œåªè¦è¿˜æœ‰å…¶ä»–æœåŠ¡å™¨æ­£å¸¸è¿è¡Œï¼Œå°±ä¸ä¼šå½±å“ç”¨æˆ·ä½¿ç”¨ã€‚</p><h2 id="æœåŠ¡å™¨è¿”å›ä¸€ä¸ª-HTTP-å“åº”"><a href="#æœåŠ¡å™¨è¿”å›ä¸€ä¸ª-HTTP-å“åº”" class="headerlink" title="æœåŠ¡å™¨è¿”å›ä¸€ä¸ª HTTP å“åº”ã€€"></a>æœåŠ¡å™¨è¿”å›ä¸€ä¸ª HTTP å“åº”ã€€</h2><p>ç»è¿‡å‰é¢çš„6ä¸ªæ­¥éª¤ï¼ŒæœåŠ¡å™¨æ”¶åˆ°äº†æˆ‘ä»¬çš„è¯·æ±‚ï¼Œä¹Ÿå¤„ç†æˆ‘ä»¬çš„è¯·æ±‚ï¼Œåˆ°è¿™ä¸€æ­¥ï¼Œå®ƒä¼šæŠŠå®ƒçš„å¤„ç†ç»“æœè¿”å›ï¼Œä¹Ÿå°±æ˜¯è¿”å›ä¸€ä¸ªHTPPå“åº”ã€‚<br>HTTPå“åº”ä¸HTTPè¯·æ±‚ç›¸ä¼¼ï¼ŒHTTPå“åº”ä¹Ÿç”±3ä¸ªéƒ¨åˆ†æ„æˆï¼Œåˆ†åˆ«æ˜¯ï¼š</p><blockquote><ul><li>çŠ¶æ€è¡Œ</li><li>å“åº”å¤´(Response Header)</li><li>å“åº”æ­£æ–‡<pre class=" language-js"><code class="language-js">HTTP<span class="token operator">/</span><span class="token number">1.1</span> <span class="token number">200</span> OKDate<span class="token punctuation">:</span> Sat<span class="token punctuation">,</span> <span class="token number">31</span> Dec <span class="token number">2005</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">59</span><span class="token punctuation">:</span><span class="token number">59</span> GMTContent<span class="token operator">-</span>Type<span class="token punctuation">:</span> text<span class="token operator">/</span>html<span class="token punctuation">;</span>charset<span class="token operator">=</span>ISO<span class="token number">-8859</span><span class="token operator">-</span><span class="token number">1</span> Content<span class="token operator">-</span>Length<span class="token punctuation">:</span> <span class="token number">122</span>ï¼œhtmlï¼ï¼œheadï¼ï¼œtitleï¼httpï¼œ<span class="token operator">/</span>titleï¼ï¼œ<span class="token operator">/</span>headï¼ï¼œbodyï¼ï¼œ<span class="token operator">!</span><span class="token operator">--</span> body goes here <span class="token operator">--</span>ï¼ï¼œ<span class="token operator">/</span>bodyï¼ï¼œ<span class="token operator">/</span>htmlï¼</code></pre></li><li>çŠ¶æ€è¡Œï¼š<br>çŠ¶æ€è¡Œç”±åè®®ç‰ˆæœ¬ã€æ•°å­—å½¢å¼çš„çŠ¶æ€ä»£ç ã€åŠç›¸åº”çš„çŠ¶æ€æè¿°ï¼Œå„å…ƒç´ ä¹‹é—´ä»¥ç©ºæ ¼åˆ†éš”ã€‚<br>æ ¼å¼:    HTTP-Version Status-Code Reason-Phrase CRLF<br>ä¾‹å¦‚:    HTTP/1.1 200 OK \r\n</li><li><ul><li>åè®®ç‰ˆæœ¬ï¼šæ˜¯ç”¨http1.0è¿˜æ˜¯å…¶ä»–ç‰ˆæœ¬</li></ul></li><li><ul><li>çŠ¶æ€æè¿°ï¼šçŠ¶æ€æè¿°ç»™å‡ºäº†å…³äºçŠ¶æ€ä»£ç çš„ç®€çŸ­çš„æ–‡å­—æè¿°ã€‚æ¯”å¦‚çŠ¶æ€ä»£ç ä¸º200æ—¶çš„æè¿°ä¸º ok</li></ul></li><li><ul><li>çŠ¶æ€ä»£ç ï¼šçŠ¶æ€ä»£ç ç”±ä¸‰ä½æ•°å­—ç»„æˆï¼Œç¬¬ä¸€ä¸ªæ•°å­—å®šä¹‰äº†å“åº”çš„ç±»åˆ«ï¼Œä¸”æœ‰äº”ç§å¯èƒ½å–å€¼ã€‚å¦‚ä¸‹</li></ul></li><li>1xxï¼šä¿¡æ¯æ€§çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å·²æ¥æ”¶äº†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå®¢æˆ·ç«¯å¯ç»§ç»­å‘é€è¯·æ±‚ã€‚<br>100 Continue<br>101 Switching Protocols</li><li>2xxï¼šæˆåŠŸçŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å·²æˆåŠŸæ¥æ”¶åˆ°è¯·æ±‚å¹¶è¿›è¡Œå¤„ç†ã€‚200 OK è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚æˆåŠŸ<br>204 No Content æˆåŠŸï¼Œä½†ä¸è¿”å›ä»»ä½•å®ä½“çš„ä¸»ä½“éƒ¨åˆ†<br>206 Partial Content æˆåŠŸæ‰§è¡Œäº†ä¸€ä¸ªèŒƒå›´ï¼ˆRangeï¼‰è¯·æ±‚</li><li>3xxï¼šé‡å®šå‘çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨è¦æ±‚å®¢æˆ·ç«¯é‡å®šå‘ã€‚<br>301 Moved Permanently æ°¸ä¹…æ€§é‡å®šå‘ï¼Œå“åº”æŠ¥æ–‡çš„Locationé¦–éƒ¨åº”è¯¥æœ‰è¯¥èµ„æºçš„æ–°URL<br>302 Found ä¸´æ—¶æ€§é‡å®šå‘ï¼Œå“åº”æŠ¥æ–‡çš„Locationé¦–éƒ¨ç»™å‡ºçš„URLç”¨æ¥ä¸´æ—¶å®šä½èµ„æº<br>303 See Other è¯·æ±‚çš„èµ„æºå­˜åœ¨ç€å¦ä¸€ä¸ªURIï¼Œå®¢æˆ·ç«¯åº”ä½¿ç”¨GETæ–¹æ³•å®šå‘è·å–è¯·æ±‚çš„èµ„æº<br>304 Not Modified æœåŠ¡å™¨å†…å®¹æ²¡æœ‰æ›´æ–°ï¼Œå¯ä»¥ç›´æ¥è¯»å–æµè§ˆå™¨ç¼“å­˜<br>307 Temporary Redirect ä¸´æ—¶é‡å®šå‘ã€‚ä¸302 Foundå«ä¹‰ä¸€æ ·ã€‚302ç¦æ­¢POSTå˜æ¢ä¸ºGETï¼Œä½†å®é™…ä½¿ç”¨æ—¶å¹¶ä¸ä¸€å®šï¼Œ307åˆ™æ›´å¤šæµè§ˆå™¨å¯èƒ½ä¼šéµå¾ªè¿™ä¸€æ ‡å‡†ï¼Œä½†ä¹Ÿä¾èµ–äºæµè§ˆå™¨å…·ä½“å®ç°</li><li>4xxï¼šå®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯çš„è¯·æ±‚æœ‰éæ³•å†…å®¹ã€‚<br>400 Bad Request è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è¢«æœåŠ¡å™¨æ‰€ç†è§£<br>401 Unauthonzed è¡¨ç¤ºè¯·æ±‚æœªç»æˆæƒï¼Œè¯¥çŠ¶æ€ä»£ç å¿…é¡»ä¸ WWW-Authenticate æŠ¥å¤´åŸŸä¸€èµ·ä½¿ç”¨<br>403 Forbidden è¡¨ç¤ºæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æä¾›æœåŠ¡ï¼Œé€šå¸¸ä¼šåœ¨å“åº”æ­£æ–‡ä¸­ç»™å‡ºä¸æä¾›æœåŠ¡çš„åŸå› <br>404 Not Found è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ï¼Œä¾‹å¦‚ï¼Œè¾“å…¥äº†é”™è¯¯çš„URL</li><li>5xxï¼šæœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨æœªèƒ½æ­£å¸¸å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚è€Œå‡ºç°æ„å¤–é”™è¯¯ã€‚<br>500 Internel Server Error è¡¨ç¤ºæœåŠ¡å™¨å‘ç”Ÿä¸å¯é¢„æœŸçš„é”™è¯¯ï¼Œå¯¼è‡´æ— æ³•å®Œæˆå®¢æˆ·ç«¯çš„è¯·æ±‚<br>503 Service Unavailable è¡¨ç¤ºæœåŠ¡å™¨å½“å‰ä¸èƒ½å¤Ÿå¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œåœ¨ä¸€æ®µæ—¶é—´ä¹‹åï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šæ¢å¤æ­£å¸¸</li><li>å“åº”å¤´ï¼š<br>å“åº”å¤´éƒ¨ï¼šç”±å…³é”®å­—/å€¼å¯¹ç»„æˆï¼Œæ¯è¡Œä¸€å¯¹ï¼Œå…³é”®å­—å’Œå€¼ç”¨è‹±æ–‡å†’å·â€:â€åˆ†éš”ï¼Œå…¸å‹çš„å“åº”å¤´æœ‰ï¼š</li></ul></blockquote><blockquote><ul><li>å“åº”æ­£æ–‡<br>åŒ…å«ç€æˆ‘ä»¬éœ€è¦çš„ä¸€äº›å…·ä½“ä¿¡æ¯ï¼Œæ¯”å¦‚cookieï¼Œhtml,imageï¼Œåç«¯è¿”å›çš„è¯·æ±‚æ•°æ®ç­‰ç­‰ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œå“åº”æ­£æ–‡å’Œå“åº”å¤´ä¹‹é—´æœ‰ä¸€è¡Œç©ºæ ¼ï¼Œè¡¨ç¤ºå“åº”å¤´çš„ä¿¡æ¯åˆ°ç©ºæ ¼ä¸ºæ­¢ï¼Œä¸‹å›¾æ˜¯fiddleræŠ“åˆ°çš„è¯·æ±‚æ­£æ–‡ï¼Œçº¢è‰²æ¡†ä¸­çš„ï¼šå“åº”æ­£æ–‡ï¼š</li></ul></blockquote><h2 id="æµè§ˆå™¨æ˜¾ç¤º-HTML"><a href="#æµè§ˆå™¨æ˜¾ç¤º-HTML" class="headerlink" title="æµè§ˆå™¨æ˜¾ç¤º HTML"></a>æµè§ˆå™¨æ˜¾ç¤º HTML</h2><p>åœ¨æµè§ˆå™¨æ²¡æœ‰å®Œæ•´æ¥å—å…¨éƒ¨HTMLæ–‡æ¡£æ—¶ï¼Œå®ƒå°±å·²ç»å¼€å§‹æ˜¾ç¤ºè¿™ä¸ªé¡µé¢äº†ï¼Œæµè§ˆå™¨æ˜¯å¦‚ä½•æŠŠé¡µé¢å‘ˆç°åœ¨å±å¹•ä¸Šçš„å‘¢ï¼Ÿä¸åŒæµè§ˆå™¨å¯èƒ½è§£æçš„è¿‡ç¨‹ä¸å¤ªä¸€æ ·ï¼Œè¿™é‡Œæˆ‘ä»¬åªä»‹ç»webkitçš„æ¸²æŸ“è¿‡ç¨‹ï¼Œä¸‹å›¾å¯¹åº”çš„å°±æ˜¯WebKitæ¸²æŸ“çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬ï¼š<br>è§£æhtmlä»¥æ„å»ºdomæ ‘ -&gt; æ„å»ºrenderæ ‘ -&gt; å¸ƒå±€renderæ ‘ -&gt; ç»˜åˆ¶renderæ ‘</p><h2 id="æµè§ˆå™¨å‘é€è¯·æ±‚è·å–åµŒå…¥åœ¨-HTML-ä¸­çš„èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€CSSã€JSç­‰ç­‰ï¼‰"><a href="#æµè§ˆå™¨å‘é€è¯·æ±‚è·å–åµŒå…¥åœ¨-HTML-ä¸­çš„èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€CSSã€JSç­‰ç­‰ï¼‰" class="headerlink" title="æµè§ˆå™¨å‘é€è¯·æ±‚è·å–åµŒå…¥åœ¨ HTML ä¸­çš„èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€CSSã€JSç­‰ç­‰ï¼‰"></a>æµè§ˆå™¨å‘é€è¯·æ±‚è·å–åµŒå…¥åœ¨ HTML ä¸­çš„èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€CSSã€JSç­‰ç­‰ï¼‰</h2><p>å…¶å®è¿™ä¸ªæ­¥éª¤å¯ä»¥å¹¶åˆ—åœ¨æ­¥éª¤8ä¸­ï¼Œåœ¨æµè§ˆå™¨æ˜¾ç¤ºHTMLæ—¶ï¼Œå®ƒä¼šæ³¨æ„åˆ°éœ€è¦è·å–å…¶ä»–åœ°å€å†…å®¹çš„æ ‡ç­¾ã€‚è¿™æ—¶ï¼Œæµè§ˆå™¨ä¼šå‘é€ä¸€ä¸ªè·å–è¯·æ±‚æ¥é‡æ–°è·å¾—è¿™äº›æ–‡ä»¶</p><hr><p>å‚è€ƒæ–‡çŒ®ï¼š<br><a href="https://segmentfault.com/a/1190000006879700" target="_blank" rel="noopener">https://segmentfault.com/a/1190000006879700</a><br><a href="http://igoro.com/archive/what-really-happens-when-you-navigate-to-a-url/" target="_blank" rel="noopener">http://igoro.com/archive/what-really-happens-when-you-navigate-to-a-url/</a><br><a href="http://zrj.me/archives/589" target="_blank" rel="noopener">http://zrj.me/archives/589</a></p>]]></content>
      
      
      <categories>
          
          <category> æ¯æ—¥ä¸€é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> day </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptå¸¸ç”¨å°è£…å‡½æ•°</title>
      <link href="/2019/10/22/js/"/>
      <url>/2019/10/22/js/</url>
      
        <content type="html"><![CDATA[<h3 id="JavaScriptå¸¸ç”¨å°è£…å‡½æ•°"><a href="#JavaScriptå¸¸ç”¨å°è£…å‡½æ•°" class="headerlink" title="JavaScriptå¸¸ç”¨å°è£…å‡½æ•°"></a>JavaScriptå¸¸ç”¨å°è£…å‡½æ•°</h3><h4 id="åŸºæœ¬è¿åŠ¨"><a href="#åŸºæœ¬è¿åŠ¨" class="headerlink" title="åŸºæœ¬è¿åŠ¨"></a>åŸºæœ¬è¿åŠ¨</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">doMove</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>attr<span class="token punctuation">,</span>speed<span class="token punctuation">,</span>target<span class="token punctuation">,</span>endFn<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> iCur <span class="token operator">=</span> <span class="token function">getStyle</span><span class="token punctuation">(</span> obj<span class="token punctuation">,</span> attr <span class="token punctuation">)</span><span class="token punctuation">;</span>        speed <span class="token operator">=</span> iCur <span class="token operator">&lt;=</span> target <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>speed<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>speed<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>        obj<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            iCur <span class="token operator">=</span> <span class="token function">getStyle</span><span class="token punctuation">(</span> obj<span class="token punctuation">,</span> attr <span class="token punctuation">)</span> <span class="token operator">+</span> speed<span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>speed <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> iCur <span class="token operator">>=</span> target<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>speed <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> iCur <span class="token operator">&lt;=</span> target<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>                iCur <span class="token operator">=</span> target<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            obj<span class="token punctuation">.</span>style<span class="token punctuation">[</span>attr<span class="token punctuation">]</span> <span class="token operator">=</span> iCur <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>iCur <span class="token operator">==</span> target<span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span> endFn <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token function">endFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>              <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="é€æ˜åº¦å˜åŒ–"><a href="#é€æ˜åº¦å˜åŒ–" class="headerlink" title="é€æ˜åº¦å˜åŒ–"></a>é€æ˜åº¦å˜åŒ–</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">opacity</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>speed<span class="token punctuation">,</span>target<span class="token punctuation">,</span>endFn<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> iCur <span class="token operator">=</span> <span class="token function">getStyle</span><span class="token punctuation">(</span> obj<span class="token punctuation">,</span> <span class="token string">'opacity'</span> <span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span>    speed <span class="token operator">=</span> iCur <span class="token operator">&lt;=</span> target <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>speed<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>speed<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>alpha<span class="token punctuation">)</span><span class="token punctuation">;</span>    obj<span class="token punctuation">.</span>alpha <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        iCur <span class="token operator">=</span> <span class="token function">getStyle</span><span class="token punctuation">(</span> obj<span class="token punctuation">,</span> <span class="token string">'opacity'</span> <span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span> <span class="token operator">+</span> speed<span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>speed <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> iCur <span class="token operator">>=</span> target<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>speed <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> iCur <span class="token operator">&lt;=</span> target<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>            iCur <span class="token operator">=</span> target<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        obj<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> iCur <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>        obj<span class="token punctuation">.</span>style<span class="token punctuation">.</span>filter <span class="token operator">=</span> <span class="token string">'alpha(opacity: '</span><span class="token operator">+</span> iCur <span class="token operator">+</span><span class="token string">')'</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>iCur <span class="token operator">==</span> target<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>alpha<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span> endFn <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token function">endFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>          <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h5 id="æŠ–åŠ¨"><a href="#æŠ–åŠ¨" class="headerlink" title="æŠ–åŠ¨"></a>æŠ–åŠ¨</h5><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">shake</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>attr<span class="token punctuation">,</span>endFn<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> pos <span class="token operator">=</span> <span class="token function">getStyle</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">;</span> i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">-</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">-</span>i<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    obj<span class="token punctuation">.</span>shake <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        obj<span class="token punctuation">.</span>style<span class="token punctuation">[</span>attr<span class="token punctuation">]</span> <span class="token operator">=</span> pos <span class="token operator">+</span> arr<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">clearInterval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>shake<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span> endFn <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token punctuation">)</span><span class="token function">endFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>       <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="è·å–è®¡ç®—åçš„æ ·å¼"><a href="#è·å–è®¡ç®—åçš„æ ·å¼" class="headerlink" title="è·å–è®¡ç®—åçš„æ ·å¼"></a>è·å–è®¡ç®—åçš„æ ·å¼</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getStyle</span><span class="token punctuation">(</span> obj <span class="token punctuation">,</span>attr <span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span>currentStyle <span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span>currentStyle<span class="token punctuation">[</span>attr<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">}</span>     <span class="token keyword">return</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span> <span class="token function">getComputedStyle</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">[</span>attr<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="è·å–è®¡ç®—åçš„æ ·å¼å¹¶ä¸”èµ‹å€¼"><a href="#è·å–è®¡ç®—åçš„æ ·å¼å¹¶ä¸”èµ‹å€¼" class="headerlink" title="è·å–è®¡ç®—åçš„æ ·å¼å¹¶ä¸”èµ‹å€¼"></a>è·å–è®¡ç®—åçš„æ ·å¼å¹¶ä¸”èµ‹å€¼</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">css</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>attr<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>attr<span class="token operator">==</span><span class="token string">"opacity"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            obj<span class="token punctuation">.</span>style<span class="token punctuation">[</span><span class="token string">'opacity'</span><span class="token punctuation">]</span><span class="token operator">=</span>val<span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">;</span>            obj<span class="token punctuation">.</span>style<span class="token punctuation">[</span><span class="token string">'filter'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"alpha(opacity="</span><span class="token operator">+</span>val<span class="token operator">+</span><span class="token string">")"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span> <span class="token punctuation">{</span>            obj<span class="token punctuation">.</span>style<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token operator">=</span>val<span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span><span class="token punctuation">{</span>        iVal<span class="token operator">=</span><span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">getStyle</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>attr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>attr<span class="token operator">==</span><span class="token string">"opacity"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            iVal<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>iVal<span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> iVal<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="DOMä¸‹å¸¸ç”¨å°è£…å‡½æ•°"><a href="#DOMä¸‹å¸¸ç”¨å°è£…å‡½æ•°" class="headerlink" title="DOMä¸‹å¸¸ç”¨å°è£…å‡½æ•°"></a>DOMä¸‹å¸¸ç”¨å°è£…å‡½æ•°</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getPrev</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span>obj <span class="token operator">||</span> <span class="token operator">!</span>obj<span class="token punctuation">.</span>previousSibling <span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//å…ˆå¤„ç†objä¸æ˜¯çœŸå€¼æˆ–è€…æ²¡æœ‰ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹çš„æƒ…å†µã€‚</span>    <span class="token keyword">return</span> obj<span class="token punctuation">.</span>previousSibling<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> obj<span class="token punctuation">.</span>previousSibling <span class="token punctuation">:</span> <span class="token function">getPrev</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span>previousSibling <span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//é€’å½’</span>    <span class="token comment" spellcheck="true">//ä¸æ–­å¾€ä¸Šä¸€å±‚ä¸€å±‚åœ°æ‰¾å…ƒç´ èŠ‚ç‚¹ï¼Œç›´åˆ°æ‰¾åˆ°æˆ–è€…è¿”å›Nullä¸ºæ­¢ã€‚</span><span class="token punctuation">}</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getNext</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span>obj <span class="token operator">||</span> <span class="token operator">!</span>obj<span class="token punctuation">.</span>nextSibling <span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//å…ˆå¤„ç†objä¸æ˜¯çœŸå€¼æˆ–è€…æ²¡æœ‰ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹çš„æƒ…å†µã€‚</span>    <span class="token keyword">return</span> obj<span class="token punctuation">.</span>nextSibling<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> obj<span class="token punctuation">.</span>nextSibling <span class="token punctuation">:</span> <span class="token function">getNext</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span>nextSibling <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//é€’å½’</span>    <span class="token comment" spellcheck="true">//ä¸æ–­å¾€ä¸‹ä¸€å±‚ä¸€å±‚åœ°æ‰¾å…ƒç´ èŠ‚ç‚¹ï¼Œç›´åˆ°æ‰¾åˆ°æˆ–è€…è¿”å›Nullä¸ºæ­¢ã€‚</span><span class="token punctuation">}</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getFirst</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span>obj <span class="token operator">||</span> <span class="token operator">!</span>obj<span class="token punctuation">.</span>firstChild <span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//å…ˆå¤„ç†objä¸æ˜¯çœŸå€¼æˆ–è€…æ²¡æœ‰ç¬¬ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹çš„æƒ…å†µã€‚</span>    <span class="token keyword">return</span> obj<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> obj<span class="token punctuation">.</span>firstChild <span class="token punctuation">:</span> <span class="token function">getNext</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span>firstChild <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//é€’å½’</span>    <span class="token comment" spellcheck="true">//å¦‚æœç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ä¸æ˜¯å…ƒç´ èŠ‚ç‚¹ï¼Œå°±ä»¥ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹ï¼ŒæŸ¥æ‰¾ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ã€‚</span><span class="token punctuation">}</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getLast</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span>obj <span class="token operator">||</span> <span class="token operator">!</span>obj<span class="token punctuation">.</span>lastChild <span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//å…ˆå¤„ç†objä¸æ˜¯çœŸå€¼æˆ–è€…æ²¡æœ‰æœ€åä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹çš„æƒ…å†µã€‚</span>    <span class="token keyword">return</span> obj<span class="token punctuation">.</span>lastChild<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> obj<span class="token punctuation">.</span>lastChild <span class="token punctuation">:</span> <span class="token function">getPrev</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span>lastChild <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//é€’å½’</span>    <span class="token comment" spellcheck="true">//å¦‚æœç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ä¸æ˜¯å…ƒç´ èŠ‚ç‚¹ï¼Œå°±ä»¥ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹ï¼ŒæŸ¥æ‰¾ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ã€‚</span><span class="token punctuation">}</span></code></pre><h3 id="è·å–å…ƒç´ åœ¨å½“å‰é¡µé¢ä¸­çš„ç»å¯¹ä½ç½®"><a href="#è·å–å…ƒç´ åœ¨å½“å‰é¡µé¢ä¸­çš„ç»å¯¹ä½ç½®" class="headerlink" title="è·å–å…ƒç´ åœ¨å½“å‰é¡µé¢ä¸­çš„ç»å¯¹ä½ç½®"></a>è·å–å…ƒç´ åœ¨å½“å‰é¡µé¢ä¸­çš„ç»å¯¹ä½ç½®</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">posLeft</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> iLeft <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">{</span>        iLeft <span class="token operator">+</span><span class="token operator">=</span> obj<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>        obj <span class="token operator">=</span> obj<span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> iLeft<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">posTop</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> iTop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">{</span>        iTop <span class="token operator">+</span><span class="token operator">=</span> obj<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>        obj <span class="token operator">=</span> obj<span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> iTop<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSåˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ˜¯iOSæˆ–è€…Android</title>
      <link href="/2019/10/16/tool/"/>
      <url>/2019/10/16/tool/</url>
      
        <content type="html"><![CDATA[<h3 id="JSåˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ˜¯iOSæˆ–è€…Android"><a href="#JSåˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ˜¯iOSæˆ–è€…Android" class="headerlink" title="JSåˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ˜¯iOSæˆ–è€…Android"></a>JSåˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ˜¯iOSæˆ–è€…Android</h3><p>æ¯ä¸ªå®¢æˆ·ç«¯éƒ½å¸¦æœ‰è‡ªèº«çš„UAæ ‡è¯†ï¼Œé€šè¿‡JavaScriptï¼Œå¯ä»¥è·å–å®¢æˆ·ç«¯æ ‡è¯†ï¼Œæˆ‘ä»¬å¯ä»¥è·å–æµè§ˆå™¨çš„userAgentï¼Œç”¨æ­£åˆ™æ¥åˆ¤æ–­æ‰‹æœºæ˜¯iosï¼ˆè‹¹æœï¼‰è¿˜æ˜¯Androidï¼ˆå®‰å“ï¼‰å®¢æˆ·ç«¯ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> u <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">;</span><span class="token keyword">var</span> isAndroid <span class="token operator">=</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Android'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Adr'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//androidç»ˆç«¯</span><span class="token keyword">var</span> isiOS <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>u<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//iosç»ˆç«¯</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'æ˜¯å¦æ˜¯Androidï¼š'</span><span class="token operator">+</span>isAndroid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'æ˜¯å¦æ˜¯iOSï¼š'</span><span class="token operator">+</span>isiOS<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="æµè§ˆå™¨æ£€æŸ¥å‡½æ•°"><a href="#æµè§ˆå™¨æ£€æŸ¥å‡½æ•°" class="headerlink" title="æµè§ˆå™¨æ£€æŸ¥å‡½æ•°"></a>æµè§ˆå™¨æ£€æŸ¥å‡½æ•°</h3><p>ä½ å¯ä»¥æ£€æŸ¥æ˜¯å¦æ˜¯ç§»åŠ¨ç«¯ï¼ˆMobileï¼‰ã€ipadã€iphoneã€å¾®ä¿¡ã€QQç­‰ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//åˆ¤æ–­è®¿é—®ç»ˆç«¯</span><span class="token keyword">var</span> browser<span class="token operator">=</span><span class="token punctuation">{</span>    versions<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">var</span> u <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">,</span> app <span class="token operator">=</span> navigator<span class="token punctuation">.</span>appVersion<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            trident<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Trident'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//IEå†…æ ¸</span>            presto<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Presto'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//operaå†…æ ¸</span>            webKit<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'AppleWebKit'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//è‹¹æœã€è°·æ­Œå†…æ ¸</span>            gecko<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Gecko'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'KHTML'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//ç«ç‹å†…æ ¸</span>            mobile<span class="token punctuation">:</span> <span class="token operator">!</span><span class="token operator">!</span>u<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/AppleWebKit.*Mobile.*/</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ˜¯å¦ä¸ºç§»åŠ¨ç»ˆç«¯</span>            ios<span class="token punctuation">:</span> <span class="token operator">!</span><span class="token operator">!</span>u<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//iosç»ˆç«¯</span>            android<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Android'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Adr'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//androidç»ˆç«¯</span>            iPhone<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'iPhone'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ˜¯å¦ä¸ºiPhoneæˆ–è€…QQHDæµè§ˆå™¨</span>            iPad<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'iPad'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ˜¯å¦iPad</span>            webApp<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Safari'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ˜¯å¦webåº”è¯¥ç¨‹åºï¼Œæ²¡æœ‰å¤´éƒ¨ä¸åº•éƒ¨</span>            weixin<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'MicroMessenger'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ˜¯å¦å¾®ä¿¡ ï¼ˆ2015-01-22æ–°å¢ï¼‰</span>            qq<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\sQQ/i</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">" qq"</span> <span class="token comment" spellcheck="true">//æ˜¯å¦QQ</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    language<span class="token punctuation">:</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>browserLanguage <span class="token operator">||</span> navigator<span class="token punctuation">.</span>language<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//åˆ¤æ–­æ˜¯å¦IEå†…æ ¸</span><span class="token keyword">if</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>trident<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"is IE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//åˆ¤æ–­æ˜¯å¦webKitå†…æ ¸</span><span class="token keyword">if</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>webKit<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"is webKit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//åˆ¤æ–­æ˜¯å¦ç§»åŠ¨ç«¯</span><span class="token keyword">if</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>mobile<span class="token operator">||</span>browser<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>android<span class="token operator">||</span>browser<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>ios<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"ç§»åŠ¨ç«¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><p>æ£€æµ‹æµè§ˆå™¨è¯­è¨€:</p><pre class=" language-js"><code class="language-js">currentLang <span class="token operator">=</span> navigator<span class="token punctuation">.</span>language<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//åˆ¤æ–­é™¤IEå¤–å…¶ä»–æµè§ˆå™¨ä½¿ç”¨è¯­è¨€</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>currentLang<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//åˆ¤æ–­IEæµè§ˆå™¨ä½¿ç”¨è¯­è¨€</span>    currentLang <span class="token operator">=</span> navigator<span class="token punctuation">.</span>browserLanguage<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">alert</span><span class="token punctuation">(</span>currentLang<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç§»åŠ¨ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç§»åŠ¨ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSåˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ˜¯iOSæˆ–è€…Android</title>
      <link href="/2019/10/16/app/"/>
      <url>/2019/10/16/app/</url>
      
        <content type="html"><![CDATA[<h3 id="JSåˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ˜¯iOSæˆ–è€…Android"><a href="#JSåˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ˜¯iOSæˆ–è€…Android" class="headerlink" title="JSåˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ˜¯iOSæˆ–è€…Android"></a>JSåˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æ˜¯iOSæˆ–è€…Android</h3><p>æ¯ä¸ªå®¢æˆ·ç«¯éƒ½å¸¦æœ‰è‡ªèº«çš„UAæ ‡è¯†ï¼Œé€šè¿‡JavaScriptï¼Œå¯ä»¥è·å–å®¢æˆ·ç«¯æ ‡è¯†ï¼Œæˆ‘ä»¬å¯ä»¥è·å–æµè§ˆå™¨çš„userAgentï¼Œç”¨æ­£åˆ™æ¥åˆ¤æ–­æ‰‹æœºæ˜¯iosï¼ˆè‹¹æœï¼‰è¿˜æ˜¯Androidï¼ˆå®‰å“ï¼‰å®¢æˆ·ç«¯ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> u <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">;</span><span class="token keyword">var</span> isAndroid <span class="token operator">=</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Android'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Adr'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//androidç»ˆç«¯</span><span class="token keyword">var</span> isiOS <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>u<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//iosç»ˆç«¯</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'æ˜¯å¦æ˜¯Androidï¼š'</span><span class="token operator">+</span>isAndroid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'æ˜¯å¦æ˜¯iOSï¼š'</span><span class="token operator">+</span>isiOS<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="æµè§ˆå™¨æ£€æŸ¥å‡½æ•°"><a href="#æµè§ˆå™¨æ£€æŸ¥å‡½æ•°" class="headerlink" title="æµè§ˆå™¨æ£€æŸ¥å‡½æ•°"></a>æµè§ˆå™¨æ£€æŸ¥å‡½æ•°</h3><p>ä½ å¯ä»¥æ£€æŸ¥æ˜¯å¦æ˜¯ç§»åŠ¨ç«¯ï¼ˆMobileï¼‰ã€ipadã€iphoneã€å¾®ä¿¡ã€QQç­‰ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//åˆ¤æ–­è®¿é—®ç»ˆç«¯</span><span class="token keyword">var</span> browser<span class="token operator">=</span><span class="token punctuation">{</span>    versions<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">var</span> u <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">,</span> app <span class="token operator">=</span> navigator<span class="token punctuation">.</span>appVersion<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            trident<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Trident'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//IEå†…æ ¸</span>            presto<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Presto'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//operaå†…æ ¸</span>            webKit<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'AppleWebKit'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//è‹¹æœã€è°·æ­Œå†…æ ¸</span>            gecko<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Gecko'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'KHTML'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//ç«ç‹å†…æ ¸</span>            mobile<span class="token punctuation">:</span> <span class="token operator">!</span><span class="token operator">!</span>u<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/AppleWebKit.*Mobile.*/</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ˜¯å¦ä¸ºç§»åŠ¨ç»ˆç«¯</span>            ios<span class="token punctuation">:</span> <span class="token operator">!</span><span class="token operator">!</span>u<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//iosç»ˆç«¯</span>            android<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Android'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Adr'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//androidç»ˆç«¯</span>            iPhone<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'iPhone'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ˜¯å¦ä¸ºiPhoneæˆ–è€…QQHDæµè§ˆå™¨</span>            iPad<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'iPad'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ˜¯å¦iPad</span>            webApp<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Safari'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ˜¯å¦webåº”è¯¥ç¨‹åºï¼Œæ²¡æœ‰å¤´éƒ¨ä¸åº•éƒ¨</span>            weixin<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'MicroMessenger'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//æ˜¯å¦å¾®ä¿¡ ï¼ˆ2015-01-22æ–°å¢ï¼‰</span>            qq<span class="token punctuation">:</span> u<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\sQQ/i</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">" qq"</span> <span class="token comment" spellcheck="true">//æ˜¯å¦QQ</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    language<span class="token punctuation">:</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>browserLanguage <span class="token operator">||</span> navigator<span class="token punctuation">.</span>language<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//åˆ¤æ–­æ˜¯å¦IEå†…æ ¸</span><span class="token keyword">if</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>trident<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"is IE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//åˆ¤æ–­æ˜¯å¦webKitå†…æ ¸</span><span class="token keyword">if</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>webKit<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"is webKit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//åˆ¤æ–­æ˜¯å¦ç§»åŠ¨ç«¯</span><span class="token keyword">if</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>mobile<span class="token operator">||</span>browser<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>android<span class="token operator">||</span>browser<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>ios<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"ç§»åŠ¨ç«¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><p>æ£€æµ‹æµè§ˆå™¨è¯­è¨€:</p><pre class=" language-js"><code class="language-js">currentLang <span class="token operator">=</span> navigator<span class="token punctuation">.</span>language<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//åˆ¤æ–­é™¤IEå¤–å…¶ä»–æµè§ˆå™¨ä½¿ç”¨è¯­è¨€</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>currentLang<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//åˆ¤æ–­IEæµè§ˆå™¨ä½¿ç”¨è¯­è¨€</span>    currentLang <span class="token operator">=</span> navigator<span class="token punctuation">.</span>browserLanguage<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">alert</span><span class="token punctuation">(</span>currentLang<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> app </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>blogä¸»é¢˜å®šåˆ¶ï¼ˆmateryï¼‰</title>
      <link href="/2019/09/29/blog/"/>
      <url>/2019/09/29/blog/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><hr><p>æœ¬ç«™æ‰€ç”¨ä¸»é¢˜<code>matery</code>ï¼Œæœ€è¿‘æ•´ç†äº†ä¸€ä¸‹é…ç½®ï¼Œæ”¹ä¸€äº›ç¾åŒ–ç›¸å…³çš„ä¸œè¥¿ï¼Œæ ¹æ®ä¸ªäººå–œå¥½å®šåˆ¶ï¼Œå¦‚æœ‰ç‘•ç–µè¿˜è¯·è¯´æ˜<br><a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank" rel="noopener">hexo-theme-matery</a>ä»“åº“åœ°å€ï¼Œè¿™é‡Œå†æ¬¡æ„Ÿè°¢ä½œè€…çš„å¼€æºã€‚</p><h2 id="ä¸ªæ€§åŒ–å®šåˆ¶"><a href="#ä¸ªæ€§åŒ–å®šåˆ¶" class="headerlink" title="ä¸ªæ€§åŒ–å®šåˆ¶"></a>ä¸ªæ€§åŒ–å®šåˆ¶</h2><p>æ ¹æ®ä¸ªäººå–œå¥½å®Œæˆå®šåˆ¶</p><h2 id="åˆå§‹åŒ–å®šåˆ¶"><a href="#åˆå§‹åŒ–å®šåˆ¶" class="headerlink" title="åˆå§‹åŒ–å®šåˆ¶"></a>åˆå§‹åŒ–å®šåˆ¶</h2><p><a href="https://github.com/ght5935/HexoCode/blob/master/themes/hexo-theme-matery/README_CN.md" target="_blank" rel="noopener">ä¸­æ–‡åˆå§‹é…ç½®æ–‡æ¡£</a></p><blockquote><ul><li>æ–°å»ºåˆ†ç±» categories é¡µ</li><li>æ–°å»ºæ ‡ç­¾ tags é¡µ</li><li>æ–°å»ºå…³äºæˆ‘ about é¡µ</li><li>æ–°å»ºç•™è¨€æ¿ contact é¡µï¼ˆå¯é€‰çš„ï¼‰</li><li>æ–°å»ºå‹æƒ…è¿æ¥ friends é¡µï¼ˆå¯é€‰çš„ï¼‰</li><li>æ·»åŠ emojiè¡¨æƒ…æ”¯æŒï¼ˆå¯é€‰çš„ï¼‰</li><li>ä»£ç é«˜äº®</li><li>æœç´¢</li><li>æ–‡ç« å­—æ•°ç»Ÿè®¡æ’ä»¶ï¼ˆå¯é€‰çš„ï¼‰</li><li>æ·»åŠ  RSS è®¢é˜…æ”¯æŒï¼ˆå¯é€‰çš„ï¼‰</li><li>åœ¨çº¿èŠå¤©åŠŸèƒ½ï¼ˆå¯é€‰çš„ï¼‰</li><li>ä¿®æ”¹ç¤¾äº¤é“¾æ¥</li><li>ä¿®æ”¹é¡µè„š</li><li>æ‰“èµçš„äºŒç»´ç å›¾ç‰‡</li><li>é…ç½®éŸ³ä¹æ’­æ”¾å™¨ï¼ˆå¯é€‰çš„ï¼‰</li></ul></blockquote><h2 id="è‡ªå®šä¹‰ä¸ªæ€§åŒ–ä¿®æ”¹"><a href="#è‡ªå®šä¹‰ä¸ªæ€§åŒ–ä¿®æ”¹" class="headerlink" title="è‡ªå®šä¹‰ä¸ªæ€§åŒ–ä¿®æ”¹"></a>è‡ªå®šä¹‰ä¸ªæ€§åŒ–ä¿®æ”¹</h2><h3 id="æœ€å…¨ç¤ºä¾‹"><a href="#æœ€å…¨ç¤ºä¾‹" class="headerlink" title="æœ€å…¨ç¤ºä¾‹"></a>æœ€å…¨ç¤ºä¾‹</h3><p>ä¿®æ”¹æ–°å»ºæ–‡ç« æ¨¡æ¿<code>/scaffolds/post.md</code></p><pre class=" language-js"><code class="language-js"><span class="token operator">--</span><span class="token operator">-</span>title<span class="token punctuation">:</span> æ–‡ç« æ ‡é¢˜date<span class="token punctuation">:</span> <span class="token number">2018</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">09</span><span class="token punctuation">:</span><span class="token number">25</span><span class="token punctuation">:</span><span class="token number">00</span>author<span class="token punctuation">:</span> echoä¸¶è‹¥æ¢¦img<span class="token punctuation">:</span> <span class="token operator">/</span>source<span class="token operator">/</span>images<span class="token operator">/</span>xxx<span class="token punctuation">.</span>jpgtop<span class="token punctuation">:</span> <span class="token boolean">true</span>cover<span class="token punctuation">:</span> <span class="token boolean">true</span>coverImg<span class="token punctuation">:</span> <span class="token operator">/</span>images<span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">.</span>jpgpassword<span class="token punctuation">:</span> 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92toc<span class="token punctuation">:</span> <span class="token boolean">false</span>mathjax<span class="token punctuation">:</span> <span class="token boolean">false</span>summary<span class="token punctuation">:</span> è¿™æ˜¯ä½ è‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦categories<span class="token punctuation">:</span> Jstags<span class="token punctuation">:</span>  <span class="token operator">-</span> React  <span class="token operator">-</span> Dva<span class="token operator">--</span><span class="token operator">-</span></code></pre><blockquote><ul><li>Front-matter é€‰é¡¹è¯¦è§£<br>Front-matter é€‰é¡¹ä¸­çš„æ‰€æœ‰å†…å®¹å‡ä¸ºéå¿…å¡«çš„ã€‚ä½†æˆ‘ä»ç„¶å»ºè®®è‡³å°‘å¡«å†™ title å’Œ date çš„å€¼ã€‚<table><thead><tr><th>é…ç½®é€‰é¡¹</th><th align="right">é»˜è®¤å€¼</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td>title</td><td align="right">æ–‡ä»¶åï¼ˆæ ‡é¢˜ï¼‰</td><td align="center">æ–‡ç« æ ‡é¢˜ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹</td></tr><tr><td>data</td><td align="right">æ–‡ä»¶åˆ›å»ºæ—¶çš„æ—¥æœŸæ—¶é—´</td><td align="center">å‘å¸ƒæ—¶é—´ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹ï¼Œä¸”æœ€å¥½ä¿è¯å…¨å±€å”¯ä¸€</td></tr><tr><td>author</td><td align="right">æ ¹ _config.yml ä¸­çš„ autho</td><td align="center">æ–‡ç« ä½œè€…</td></tr><tr><td>img</td><td align="right">featureImages ä¸­çš„æŸä¸ªå€¼</td><td align="center">æ–‡ç« ç‰¹å¾å›¾ï¼Œæ¨èä½¿ç”¨å›¾åºŠ(è…¾è®¯äº‘ã€ä¸ƒç‰›äº‘ã€åˆæ‹äº‘ç­‰)æ¥åšå›¾ç‰‡çš„è·¯å¾„.å¦‚: <a href="http://xxx.com/xxx.jpg" target="_blank" rel="noopener">http://xxx.com/xxx.jpg</a></td></tr><tr><td>top</td><td align="right">true</td><td align="center">æ¨èæ–‡ç« ï¼ˆæ–‡ç« æ˜¯å¦ç½®é¡¶ï¼‰ï¼Œå¦‚æœ top å€¼ä¸º trueï¼Œåˆ™ä¼šä½œä¸ºé¦–é¡µæ¨èæ–‡ç« </td></tr><tr><td>cover</td><td align="right">false</td><td align="center">v1.0.2ç‰ˆæœ¬æ–°å¢ï¼Œè¡¨ç¤ºè¯¥æ–‡ç« æ˜¯å¦éœ€è¦åŠ å…¥åˆ°é¦–é¡µè½®æ’­å°é¢ä¸­</td></tr><tr><td>coverImg</td><td align="right">æ— </td><td align="center">v1.0.2ç‰ˆæœ¬æ–°å¢ï¼Œè¡¨ç¤ºè¯¥æ–‡ç« åœ¨é¦–é¡µè½®æ’­å°é¢éœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡è·¯å¾„ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™é»˜è®¤ä½¿ç”¨æ–‡ç« çš„ç‰¹è‰²å›¾ç‰‡</td></tr><tr><td>password</td><td align="right">æ— </td><td align="center">æ–‡ç« é˜…è¯»å¯†ç ï¼Œå¦‚æœè¦å¯¹æ–‡ç« è®¾ç½®é˜…è¯»éªŒè¯å¯†ç çš„è¯ï¼Œå°±å¯ä»¥è®¾ç½® password çš„å€¼ï¼Œè¯¥å€¼å¿…é¡»æ˜¯ç”¨ SHA256 åŠ å¯†åçš„å¯†ç ï¼Œé˜²æ­¢è¢«ä»–äººè¯†ç ´ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ config.yml ä¸­æ¿€æ´»äº† verifyPassword é€‰é¡¹</td></tr><tr><td>toc</td><td align="right">true</td><td align="center">æ˜¯å¦å¼€å¯ TOCï¼Œå¯ä»¥é’ˆå¯¹æŸç¯‡æ–‡ç« å•ç‹¬å…³é—­ TOC çš„åŠŸèƒ½ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ config.yml ä¸­æ¿€æ´»äº† toc é€‰é¡¹</td></tr><tr><td>mathjax</td><td align="right">false</td><td align="center">æ˜¯å¦å¼€å¯æ•°å­¦å…¬å¼æ”¯æŒ ï¼Œæœ¬æ–‡ç« æ˜¯å¦å¼€å¯ mathjaxï¼Œä¸”éœ€è¦åœ¨ä¸»é¢˜çš„ _config.yml æ–‡ä»¶ä¸­ä¹Ÿéœ€è¦å¼€å¯æ‰è¡Œ</td></tr><tr><td>summary</td><td align="right">æ— </td><td align="center">æ–‡ç« æ‘˜è¦ï¼Œè‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦</td></tr><tr><td>categories</td><td align="right">æ— </td><td align="center">æ–‡ç« åˆ†ç±»ï¼Œæœ¬ä¸»é¢˜çš„åˆ†ç±»è¡¨ç¤ºå®è§‚ä¸Šå¤§çš„åˆ†ç±»ï¼Œåªå»ºè®®ä¸€ç¯‡æ–‡ç« ä¸€ä¸ªåˆ†ç±»</td></tr><tr><td>tags</td><td align="right">æ— </td><td align="center">æ–‡ç« æ ‡ç­¾ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥å¤šä¸ªæ ‡ç­¾</td></tr><tr><td>reprintPolicy</td><td align="right">æ— </td><td align="center">æ–‡ç« è½¬è½½è§„åˆ™ï¼Œå¯ä»¥æ˜¯ cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint æˆ– pay ä¸­çš„ä¸€ä¸ª</td></tr></tbody></table></li></ul></blockquote><h3 id="æ·»åŠ 404é¡µé¢"><a href="#æ·»åŠ 404é¡µé¢" class="headerlink" title="æ·»åŠ 404é¡µé¢"></a>æ·»åŠ 404é¡µé¢</h3><p>åŸæ¥çš„ä¸»é¢˜æ²¡æœ‰404é¡µé¢ï¼Œæˆ‘ä»¬åŠ ä¸€ä¸ªã€‚é¦–å…ˆåœ¨<code>/source/</code>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª404.mdï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js">title<span class="token punctuation">:</span> <span class="token number">404</span>date<span class="token punctuation">:</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">5</span> <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">41</span><span class="token punctuation">:</span><span class="token number">10</span>type<span class="token punctuation">:</span> <span class="token string">"404"</span>layout<span class="token punctuation">:</span> <span class="token string">"404"</span>description<span class="token punctuation">:</span> <span class="token string">"Oopsï½ï¼Œæˆ‘å´©æºƒäº†ï¼æ‰¾ä¸åˆ°ä½ æƒ³è¦çš„é¡µé¢ :("</span></code></pre><p>ç„¶ååœ¨<code>/themes/matery/layout/</code>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª404.ejsæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>style type<span class="token operator">=</span><span class="token string">"text/css"</span><span class="token operator">></span>    <span class="token comment" spellcheck="true">/* don't remove. */</span>    <span class="token punctuation">.</span>about<span class="token operator">-</span>cover <span class="token punctuation">{</span>        height<span class="token punctuation">:</span> 75vh<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"bg-cover pd-header about-cover"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"row"</span><span class="token operator">></span>            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col s10 offset-s1 m8 offset-m2 l8 offset-l2"</span><span class="token operator">></span>                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"brand"</span><span class="token operator">></span>                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"title center-align"</span><span class="token operator">></span> <span class="token number">404</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"description center-align"</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">=</span> page<span class="token punctuation">.</span>description <span class="token operator">%</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span>    <span class="token comment" spellcheck="true">// éšæœºåˆ‡æ¢</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.bg-cover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background-image'</span><span class="token punctuation">,</span> <span class="token string">'url(/medias/banner/'</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.jpg)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><h3 id="å…³äºâ€é¡µé¢å¢åŠ ç®€å†ï¼ˆå¯é€‰ï¼‰"><a href="#å…³äºâ€é¡µé¢å¢åŠ ç®€å†ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="å…³äºâ€é¡µé¢å¢åŠ ç®€å†ï¼ˆå¯é€‰ï¼‰"></a>å…³äºâ€é¡µé¢å¢åŠ ç®€å†ï¼ˆå¯é€‰ï¼‰</h3><p>ä¿®æ”¹<code>/themes/matery/layout/about.ejs</code>ï¼Œæ‰¾åˆ°<code>&lt;div class=&quot;card&quot;&gt;æ ‡ç­¾ï¼Œç„¶åæ‰¾åˆ°å®ƒå¯¹åº”çš„&lt;/div&gt;</code>æ ‡ç­¾ï¼Œæ¥åœ¨åé¢æ–°å¢ä¸€ä¸ªcardï¼Œè¯­å¥å¦‚ä¸‹ï¼š</p><pre class=" language-js"><code class="language-js">    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card-content"</span><span class="token operator">></span>            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card-content article-card-content"</span><span class="token operator">></span>                <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"title center-align"</span> data<span class="token operator">-</span>aos<span class="token operator">=</span><span class="token string">"zoom-in-up"</span><span class="token operator">></span> <span class="token operator">&lt;</span>i                        <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"fa fa-address-book"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">></span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">__</span><span class="token punctuation">(</span><span class="token string">'myCV'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"articleContent"</span> data<span class="token operator">-</span>aos<span class="token operator">=</span><span class="token string">"fade-up"</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> page<span class="token punctuation">.</span>content <span class="token operator">%</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></code></pre><p>è¿™æ ·å°±ä¼šå¤šå‡ºä¸€å¼ cardï¼Œç„¶åå¯ä»¥åœ¨/source/about/index.mdä¸‹é¢å†™ä¸Šä½ çš„ç®€å†äº†ï¼Œå½“ç„¶è¿™é‡Œçš„ä½ç½®éšä½ è‡ªå·±è®¾ç½®ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠç®€å†ä½œä¸ºç¬¬ä¸€ä¸ªcard</p><h3 id="å®šåˆ¶-banner-å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾"><a href="#å®šåˆ¶-banner-å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾" class="headerlink" title="å®šåˆ¶ banner å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾"></a>å®šåˆ¶ banner å›¾å’Œæ–‡ç« ç‰¹è‰²å›¾</h3><p>ä½ å¯ä»¥ç›´æ¥åœ¨ <code>/source/medias/banner</code> æ–‡ä»¶å¤¹ä¸­æ›´æ¢ä½ å–œæ¬¢çš„ banner å›¾ç‰‡ï¼Œæ¯æ¬¡åˆ·æ–°éšæœºåˆ‡æ¢ã€‚<br>bannerå›¾ åˆ‡æ¢çš„ä»£ç ä½ç½®åœ¨ <code>/layout/_partial/bg-cover-content.ejs</code> æ–‡ä»¶çš„ <script></script> ä»£ç ä¸­ï¼šï¼ˆbanner å¦‚å›¾ç‰‡æ•°é‡ 5 å°±æ˜¯<code>Math.random()*5</code>ï¼‰</p><pre class=" language-js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.bg-cover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background-image'</span><span class="token punctuation">,</span> <span class="token string">'url(/medias/banner/'</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.jpg)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>åœ¨ <code>/source/medias/featureimages</code> æ–‡ä»¶å¤¹ä¸­é»˜è®¤æœ‰ 24 å¼ ç‰¹è‰²å›¾ç‰‡ï¼Œä½ å¯ä»¥å†å¢åŠ æˆ–è€…å‡å°‘ï¼Œå¹¶éœ€è¦åœ¨ _config.yml åšåŒæ­¥ä¿®æ”¹ã€‚</p><h3 id="å»æ‰é¦–é¡µbannerçš„èƒŒæ™¯é¢œè‰²"><a href="#å»æ‰é¦–é¡µbannerçš„èƒŒæ™¯é¢œè‰²" class="headerlink" title="å»æ‰é¦–é¡µbannerçš„èƒŒæ™¯é¢œè‰²"></a>å»æ‰é¦–é¡µbannerçš„èƒŒæ™¯é¢œè‰²</h3><p>æ‰“å¼€<code>themes/matery/source/css/matery.css</code>æ–‡ä»¶(367è¡Œï¼Œä¹Ÿå¯ä»¥å¿«é€Ÿæœç´¢.bg-cover:afterè¿›è¡Œå®šä½):<br>ç„¶åæ³¨é‡Šæ‰è¿™ä¸¤è¡Œcss</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.bg-cover</span><span class="token pseudo-element">:after</span> </span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/* -webkit-animation: rainbow 60s infinite;    animation: rainbow 60s infinite; */</span><span class="token punctuation">}</span></code></pre><h3 id="å°†åˆ†ç±»é¡µåˆå¹¶åˆ°-æ ‡ç­¾é¡µ"><a href="#å°†åˆ†ç±»é¡µåˆå¹¶åˆ°-æ ‡ç­¾é¡µ" class="headerlink" title="å°†åˆ†ç±»é¡µåˆå¹¶åˆ° æ ‡ç­¾é¡µ"></a>å°†åˆ†ç±»é¡µåˆå¹¶åˆ° æ ‡ç­¾é¡µ</h3><p>é¦–å…ˆåœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶_config.ymlä¸­æ‰¾åˆ°menué¡¹ï¼Œæ³¨é‡Šæ‰Categories</p><pre class=" language-js"><code class="language-js">  # Categories<span class="token punctuation">:</span>  #   url<span class="token punctuation">:</span> <span class="token operator">/</span>categories  #   icon<span class="token punctuation">:</span> fa<span class="token operator">-</span>bookmark</code></pre><p>æ‰“å¼€layout/categories.ejsæŠŠå†…å®¹ï¼ˆæ–‡ç« åˆ†ç±»ï¼‰å¤åˆ¶ç²˜è´´åˆ°layout/tags.ejsä¸­å»<br><code>&lt;%- partial(&#39;_widget/category-cloud&#39;) %&gt;</code><br>æ‰“å¼€layout/about.ejsæŠŠç¬¬46è¡Œï¼ˆæ–‡ç« ç»Ÿè®¡å›¾ï¼‰å‰ªåˆ‡ç²˜è´´åˆ°layout/tags.ejsä¸­å»<br><code>&lt;%- partial(&#39;_widget/post-charts&#39;) %&gt;</code><br>æ•´ç†åçš„tags.ejsæ–‡æ¡£å†…å®¹:</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/bg-cover'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span>main <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"content"</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_widget/tag-cloud'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_widget/category-cloud'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>site<span class="token punctuation">.</span>tags <span class="token operator">&amp;&amp;</span> site<span class="token punctuation">.</span>tags<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_widget/tag-wordcloud'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> æ–‡ç« åˆ†ç±»é›·è¾¾å›¾ <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>site<span class="token punctuation">.</span>categories <span class="token operator">&amp;&amp;</span> site<span class="token punctuation">.</span>categories<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_widget/category-radar'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> æ–‡ç« ç»Ÿè®¡å›¾ <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_widget/post-charts'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">></span></code></pre><h3 id="ä¿®æ”¹å¯¼èˆªæ å’Œé¡µè„šæ¸å˜è‰²"><a href="#ä¿®æ”¹å¯¼èˆªæ å’Œé¡µè„šæ¸å˜è‰²" class="headerlink" title="ä¿®æ”¹å¯¼èˆªæ å’Œé¡µè„šæ¸å˜è‰²"></a>ä¿®æ”¹å¯¼èˆªæ å’Œé¡µè„šæ¸å˜è‰²</h3><p>æ‰“å¼€<code>themes/matery/source/css/matery.css</code>æ–‡ä»¶(165è¡Œ):<br>ç„¶åæ³¨é‡Šæ‰è¿™ä¸¤è¡Œcss</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.bg-color</span> </span><span class="token punctuation">{</span>    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right, <span class="token hexcode">#bf30ac</span> <span class="token number">0%</span>, <span class="token hexcode">#0f9d58</span> <span class="token number">100%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0.9</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="ç»™åšå®¢å¢åŠ åŠ¨æ€æ ‡ç­¾"><a href="#ç»™åšå®¢å¢åŠ åŠ¨æ€æ ‡ç­¾" class="headerlink" title="ç»™åšå®¢å¢åŠ åŠ¨æ€æ ‡ç­¾"></a>ç»™åšå®¢å¢åŠ åŠ¨æ€æ ‡ç­¾</h3><p>æ‰“å¼€åšå®¢è·¯å¾„<code>themes/matery/layout/layout.ejs</code> åœ¨å‰æ·»åŠ å¦‚ä¸‹ä»£ç å³å¯</p><pre class=" language-js"><code class="language-js">    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">></span>        <span class="token keyword">var</span> OriginTitile <span class="token operator">=</span> document<span class="token punctuation">.</span>title<span class="token punctuation">,</span> st<span class="token punctuation">;</span>        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"visibilitychange"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            document<span class="token punctuation">.</span>hidden <span class="token operator">?</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"çœ‹ä¸è§æˆ‘ğŸ™ˆ~çœ‹ä¸è§æˆ‘ğŸ™ˆ~"</span><span class="token punctuation">,</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>st<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"(à¹‘â€¢Ì€ã…‚â€¢Ì) âœ§è¢«å‘ç°äº†ï½"</span><span class="token punctuation">,</span> st <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> document<span class="token punctuation">.</span>title <span class="token operator">=</span> OriginTitile <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3e3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>     <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><h3 id="å›¾ç‰‡æ‡’åŠ è½½"><a href="#å›¾ç‰‡æ‡’åŠ è½½" class="headerlink" title="å›¾ç‰‡æ‡’åŠ è½½"></a>å›¾ç‰‡æ‡’åŠ è½½</h3><p>ä¿®æ”¹<code>/themes/matery/source/js</code>ä¸­çš„<code>matery.js</code>æ–‡ä»¶</p><pre class=" language-js"><code class="language-js">        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#articleContent, #myGallery'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">lightGallery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            selector<span class="token punctuation">:</span> <span class="token string">'.img-item'</span><span class="token punctuation">,</span>            <span class="token comment" spellcheck="true">// å¯ç”¨å­—å¹•</span>            subHtmlSelectorRelative<span class="token punctuation">:</span> <span class="token boolean">true</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'img[data-original]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"href"</span><span class="token punctuation">,</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"data-original"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><ul><li>å†è£…ä¸ªæ’ä»¶<br><code>npm install hexo-lazyload-image --save</code><br>åœ¨åšå®¢æ ¹ç›®å½•é…ç½®.ymlæ–‡ä»¶åŠ å…¥å¯¹åº”å­—æ®µï¼Œå¦‚ä¸‹ï¼š<pre class=" language-js"><code class="language-js">lazyload<span class="token punctuation">:</span>enable<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment" spellcheck="true">// å¦‚æœä¸ºçœŸï¼Œåˆ™åªæœ‰æ–‡ç« æˆ–é¡µé¢ä¸­çš„å›¾åƒæ”¯æŒå»¶è¿ŸåŠ è½½ã€‚</span><span class="token comment" spellcheck="true">// å¦‚æœä¸ºå‡ï¼Œæ•´ä¸ªç½‘ç«™çš„å›¾åƒå°†ä½¿ç”¨æƒ°æ€§åŠ è½½ï¼ŒåŒ…æ‹¬æ¥è‡ªä¸»é¢˜çš„å›¾åƒï¼Œä½†ä¸åŒ…æ‹¬æ¥è‡ªCSSæ ·å¼çš„èƒŒæ™¯å›¾åƒã€‚</span>onlypost<span class="token punctuation">:</span> <span class="token boolean">true</span>loadingImg<span class="token punctuation">:</span> <span class="token operator">/</span>loading<span class="token punctuation">.</span>gif</code></pre>è¿™é‡Œçš„<code>loading.gif</code>æˆ‘æ”¾åœ¨äº†<code>/themes/matery/source</code>ç›®å½•ä¸Š<br>è¿™æ ·å°±å¯ä»¥å®ç°å›¾ç‰‡æ‡’åŠ è½½</li></ul></blockquote><h3 id="å¢åŠ åŠ¨æ€è¯—è¯"><a href="#å¢åŠ åŠ¨æ€è¯—è¯" class="headerlink" title="å¢åŠ åŠ¨æ€è¯—è¯"></a>å¢åŠ åŠ¨æ€è¯—è¯</h3><p>æˆ‘ä»¬é‡‡ç”¨ä»Šæ—¥è¯—è¯çš„æ¯æ—¥ä¸€å¥ï¼š<br>é¦–å…ˆåœ¨<code>/themes/hexo-theme-matery/layout/_partial/head.ejs</code>å¢åŠ ä»£ç ï¼š<br><code>&lt;script src=&quot;https://sdk.jinrishici.com/v2/browser/jinrishici.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</code><br>ç„¶åæ‰“å¼€<code>/themes/hexo-theme-matery/layout/_partial/bg-cover-content.ejs</code><br>æŠŠ<code>&lt;%= config.description %&gt;</code>æ”¹ä¸º<code>&lt;%- &#39;&lt;span id=&quot;jinrishici-sentence&quot;&gt;æ­£åœ¨åŠ è½½ä»Šæ—¥è¯—è¯....&lt;/span&gt;&#39; %&gt;</code><br>å¦‚æœè¦å¼ƒç”¨åŠ¨æ€è¯—è¯ï¼Œç›´æ¥æ”¹å›åŸæ–‡ä»¶å³å¯ã€‚</p><h3 id="æ·»åŠ è¯„è®ºæ’ä»¶"><a href="#æ·»åŠ è¯„è®ºæ’ä»¶" class="headerlink" title="æ·»åŠ è¯„è®ºæ’ä»¶"></a>æ·»åŠ è¯„è®ºæ’ä»¶</h3><p>ç”±äºè¿™ä¸ªä¸»é¢˜è‡ªå¸¦äº†<code>gittalk</code>ã€<code>gitment</code>ã€<code>valine</code>ç­‰è¯„è®ºæ’ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å¯¹åº”æ’ä»¶å‚æ•°å°±è¡Œäº†ï¼Œè¿™ä¸ªåšå®¢ç”¨çš„æ˜¯<code>gittalk</code></p><pre class=" language-css"><code class="language-css"><span class="token property">gitalk</span><span class="token punctuation">:</span>  <span class="token property">enable</span><span class="token punctuation">:</span> true  <span class="token property">owner</span><span class="token punctuation">:</span> ä»“åº“æ‹¥æœ‰è€…  <span class="token property">repo</span><span class="token punctuation">:</span> ä»“åº“åç§°  <span class="token property">oauth</span><span class="token punctuation">:</span>    <span class="token property">clientId</span><span class="token punctuation">:</span> Client ID    <span class="token property">clientSecret</span><span class="token punctuation">:</span> Client Secret  <span class="token property">admin</span><span class="token punctuation">:</span>  GitHub repository çš„æ‰€æœ‰è€…å’Œåˆä½œè€… </code></pre><p>å½“ç„¶ä¹Ÿå¯ä»¥ç”¨å…¶ä»–è¯„è®ºæ’ä»¶ï¼Œåªéœ€è¦é…ç½®å¯¹åº”é¡¹å°±æ˜¯äº†</p><h3 id="èƒŒæ™¯åŠ¨æ€å½©å¸¦"><a href="#èƒŒæ™¯åŠ¨æ€å½©å¸¦" class="headerlink" title="èƒŒæ™¯åŠ¨æ€å½©å¸¦"></a>èƒŒæ™¯åŠ¨æ€å½©å¸¦</h3><p>è¿™ä¸ªæ•ˆæœæ˜¯ä¸»é¢˜å¸¦æœ‰çš„åªéœ€åœ¨<code>/themes/hexo-theme-matery/_config.yml</code>æ–‡ä»¶ï¼Œå®šä½åˆ°<code>ribbon_dynamic</code></p><pre class=" language-js"><code class="language-js">ribbon_dynamic<span class="token punctuation">:</span>  enable<span class="token punctuation">:</span> <span class="token boolean">true</span></code></pre><h3 id="èƒŒæ™¯é™æ­¢å½©å¸¦"><a href="#èƒŒæ™¯é™æ­¢å½©å¸¦" class="headerlink" title="èƒŒæ™¯é™æ­¢å½©å¸¦"></a>èƒŒæ™¯é™æ­¢å½©å¸¦</h3><p>è¿™ä¸ªæ•ˆæœæ˜¯ä¸»é¢˜å¸¦æœ‰çš„åªéœ€åœ¨<code>/themes/hexo-theme-matery/_config.yml</code>æ–‡ä»¶ï¼Œå®šä½åˆ°<code>ribbon</code></p><pre class=" language-js"><code class="language-js">ribbon<span class="token punctuation">:</span>  enable<span class="token punctuation">:</span> <span class="token boolean">true</span>  size<span class="token punctuation">:</span> <span class="token number">150</span> # å½©å¸¦å¤§å°<span class="token punctuation">,</span> é»˜è®¤<span class="token punctuation">:</span> <span class="token number">90</span><span class="token punctuation">.</span>  alpha<span class="token punctuation">:</span> <span class="token number">0.6</span> # å½©å¸¦é€æ˜åº¦ <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">~</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> é»˜è®¤<span class="token punctuation">:</span> <span class="token number">0.6</span><span class="token punctuation">.</span>  zIndex<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span> # èƒŒæ™¯çš„z<span class="token operator">-</span>indexå±æ€§ï¼Œcsså±æ€§ç”¨äºæ§åˆ¶æ‰€åœ¨å±‚çš„ä½ç½®<span class="token punctuation">,</span> é»˜è®¤<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span>  click_to_change<span class="token punctuation">:</span> <span class="token boolean">false</span>  # è®¾ç½®æ˜¯å¦æ¯æ¬¡ç‚¹å‡»éƒ½æ›´æ¢å½©å¸¦<span class="token punctuation">.</span></code></pre><h3 id="èƒŒæ™¯ç²’å­"><a href="#èƒŒæ™¯ç²’å­" class="headerlink" title="èƒŒæ™¯ç²’å­"></a>èƒŒæ™¯ç²’å­</h3><p>è¿™ä¸ªæ•ˆæœæ˜¯ä¸»é¢˜å¸¦æœ‰çš„åªéœ€åœ¨<code>/themes/hexo-theme-matery/_config.yml</code>æ–‡ä»¶ï¼Œå®šä½åˆ°<code>canvas_nest</code></p><pre class=" language-js"><code class="language-js">canvas_nest<span class="token punctuation">:</span>  enable<span class="token punctuation">:</span> <span class="token boolean">true</span>  color<span class="token punctuation">:</span> <span class="token string">'78, 238, 148'</span> # çº¿æ¡é¢œè‰²<span class="token punctuation">,</span> é»˜è®¤<span class="token punctuation">:</span> <span class="token string">'0,0,0'</span> <span class="token function">ï¼›ä¸‰ä¸ªæ•°å­—åˆ†åˆ«ä¸º</span><span class="token punctuation">(</span>R<span class="token punctuation">,</span>G<span class="token punctuation">,</span>B<span class="token punctuation">)</span>ï¼Œæ³¨æ„ç”¨<span class="token punctuation">,</span>åˆ†å‰²  pointColor<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">255</span> # äº¤ç‚¹é¢œè‰²<span class="token punctuation">,</span> é»˜è®¤<span class="token punctuation">:</span> <span class="token string">'0,0,0'</span> <span class="token function">ï¼›ä¸‰ä¸ªæ•°å­—åˆ†åˆ«ä¸º</span><span class="token punctuation">(</span>R<span class="token punctuation">,</span>G<span class="token punctuation">,</span>B<span class="token punctuation">)</span>ï¼Œæ³¨æ„ç”¨<span class="token punctuation">,</span>åˆ†å‰²  opacity<span class="token punctuation">:</span> <span class="token number">0.7</span> # çº¿æ¡é€æ˜åº¦ï¼ˆ<span class="token number">0</span><span class="token operator">~</span><span class="token number">1</span>ï¼‰<span class="token punctuation">,</span> é»˜è®¤<span class="token punctuation">:</span> <span class="token number">0.5</span>  zIndex<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span> # èƒŒæ™¯çš„ z<span class="token operator">-</span>index å±æ€§ï¼Œcss å±æ€§ç”¨äºæ§åˆ¶æ‰€åœ¨å±‚çš„ä½ç½®<span class="token punctuation">,</span> é»˜è®¤<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span>  count<span class="token punctuation">:</span> <span class="token number">99</span> # çº¿æ¡çš„æ€»æ•°é‡<span class="token punctuation">,</span> é»˜è®¤<span class="token punctuation">:</span> <span class="token number">99</span></code></pre><h3 id="ç‚¹å‡»çˆ±å¿ƒ"><a href="#ç‚¹å‡»çˆ±å¿ƒ" class="headerlink" title="ç‚¹å‡»çˆ±å¿ƒ"></a>ç‚¹å‡»çˆ±å¿ƒ</h3><p>è¿™ä¸ªæ•ˆæœæ˜¯ä¸»é¢˜å¸¦æœ‰çš„åªéœ€åœ¨<code>/themes/hexo-theme-matery/_config.yml</code>æ–‡ä»¶ï¼Œå®šä½åˆ°<code>clicklove</code></p><pre class=" language-js"><code class="language-js">clicklove<span class="token punctuation">:</span>  enable<span class="token punctuation">:</span> <span class="token boolean">true</span></code></pre><p>é»˜è®¤æ˜¯å¼€å¯çŠ¶æ€</p><h3 id="æ·»åŠ åšå®¢å¤©æ°”æ’ä»¶"><a href="#æ·»åŠ åšå®¢å¤©æ°”æ’ä»¶" class="headerlink" title="æ·»åŠ åšå®¢å¤©æ°”æ’ä»¶"></a>æ·»åŠ åšå®¢å¤©æ°”æ’ä»¶</h3><p>ç‚¹å‡»<a href="https://cj.weather.com.cn/plugin/pc" target="_blank" rel="noopener">ä¸­å›½å¤©æ°”ç½‘</a><br>é€‰æ‹©è‡ªå®šä¹‰æ’ä»¶â€”&gt;è‡ªå®šä¹‰æ ·å¼â€”â€”&gt;ç”Ÿæˆä»£ç ï¼Œç„¶åä¼šç”Ÿæˆè¿™æ ·ä¸€æ®µä»£ç </p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">></span>WIDGET <span class="token operator">=</span> <span class="token punctuation">{</span>FID<span class="token punctuation">:</span> <span class="token string">'1IJzWqjceC'</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"https://apip.weatherdt.com/float/static/js/r.js?v=1111"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><p>åœ¨ <code>/themes/matery/source/layout/_widget</code> æ–°å»ºæ–‡ä»¶ weather.ejsï¼ŒæŠŠä¸Šé¢ç”Ÿæˆçš„ä»£ç æ·»åŠ è¿›å…¥,å¯ä»¥è®¾ç½®åªæœ‰æ¡Œé¢ç«¯æ˜¾ç¤º,å¦‚ä¸‹ä¿®æ”¹:</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¤©æ°”æ¥å£ <span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">></span>    WIDGET <span class="token operator">=</span> <span class="token punctuation">{</span>FID<span class="token punctuation">:</span> <span class="token string">'1IJzWqjceC'</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">></span>    <span class="token comment" spellcheck="true">//åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µå¯ç”¨ç‰¹æ•ˆ </span>    <span class="token keyword">var</span> windowWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>windowWidth <span class="token operator">></span> <span class="token number">768</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111">&lt;"/"script>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><p>ç„¶ååœ¨ <code>/themes/matery/layout/_partial/layout.ejs</code> ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-js"><code class="language-js">    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> å¤©æ°”æ¥å£æ§ä»¶ <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>weather<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_widget/weather'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">></span></code></pre><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>/themes/hexo-theme-matery/_config.yml</code>ä¸­é…ç½®:</p><pre class=" language-js"><code class="language-js"># å¤©æ°”æ¥å£æ’ä»¶weather<span class="token punctuation">:</span>  enable<span class="token punctuation">:</span> <span class="token boolean">true</span></code></pre><h3 id="æ·»åŠ é›ªèŠ±é£˜è½åŠ¨æ•ˆ"><a href="#æ·»åŠ é›ªèŠ±é£˜è½åŠ¨æ•ˆ" class="headerlink" title="æ·»åŠ é›ªèŠ±é£˜è½åŠ¨æ•ˆ"></a>æ·»åŠ é›ªèŠ±é£˜è½åŠ¨æ•ˆ</h3><p>åœ¨ <code>/themes/matery/source/js</code> æ–°å»ºæ–‡ä»¶ snow.jsï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ä»£ç <br>å¹¶å¤åˆ¶<a href="https://github.com/ght5935/HexoCode/blob/master/themes/hexo-theme-matery/source/js/snow.js" target="_blank" rel="noopener">snow.js</a>å†…å®¹åˆ°snow.js<br>ç„¶ååœ¨<code>/themes/matery/layout/layout.ejs</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-js"><code class="language-js">    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>snow<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">></span>        <span class="token keyword">var</span> windowWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>windowWidth <span class="token operator">></span> <span class="token number">768</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;script type="text/javascript" src="/js/snow.js">&lt;"/"script>'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">></span></code></pre><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>/themes/hexo-theme-matery/_config.yml</code>ä¸­é…ç½®:</p><pre class=" language-js"><code class="language-js">  # èƒŒæ™¯é›ªèŠ±æ•ˆæœ<span class="token punctuation">.</span>snow<span class="token punctuation">:</span>  enable<span class="token punctuation">:</span> <span class="token boolean">true</span></code></pre><h3 id="æ·»åŠ æ¨±èŠ±é£˜è½åŠ¨æ•ˆ"><a href="#æ·»åŠ æ¨±èŠ±é£˜è½åŠ¨æ•ˆ" class="headerlink" title="æ·»åŠ æ¨±èŠ±é£˜è½åŠ¨æ•ˆ"></a>æ·»åŠ æ¨±èŠ±é£˜è½åŠ¨æ•ˆ</h3><p>åœ¨ <code>/themes/matery/source/js</code> æ–°å»ºæ–‡ä»¶ sakura.jsï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ä»£ç <br>å¹¶å¤åˆ¶<a href="https://github.com/ght5935/HexoCode/blob/master/themes/hexo-theme-matery/source/js/sakura.js" target="_blank" rel="noopener">sakura.js</a>å†…å®¹åˆ°sakura.js<br>ç„¶ååœ¨<code>/themes/matery/layout/layout.ejs</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-js"><code class="language-js">    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>sakura<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">></span>        <span class="token comment" spellcheck="true">//åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µï¼ˆé¦–é¡µï¼‰å¯ç”¨ç‰¹æ•ˆ</span>        <span class="token keyword">var</span> windowWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">==</span> <span class="token string">'https://ght5935.github.io/'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>windowWidth <span class="token operator">></span> <span class="token number">768</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;script type="text/javascript" src="/js/sakura.js">&lt;"/"script>'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">></span></code></pre><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>/themes/hexo-theme-matery/_config.yml</code>ä¸­é…ç½®:</p><pre class=" language-js"><code class="language-js">  # èƒŒæ™¯æ¨±èŠ±é£˜è½åŠ¨æ•ˆ<span class="token punctuation">.</span>sakura<span class="token punctuation">:</span>  enable<span class="token punctuation">:</span> <span class="token boolean">true</span></code></pre><h3 id="æ·»åŠ é¼ æ ‡æ»‘è¿‡åŠ¨æ•ˆ"><a href="#æ·»åŠ é¼ æ ‡æ»‘è¿‡åŠ¨æ•ˆ" class="headerlink" title="æ·»åŠ é¼ æ ‡æ»‘è¿‡åŠ¨æ•ˆ"></a>æ·»åŠ é¼ æ ‡æ»‘è¿‡åŠ¨æ•ˆ</h3><p>åœ¨ <code>/themes/matery/source/js</code> æ–°å»ºæ–‡ä»¶ mouseSlip.jsï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ä»£ç <br>å¹¶å¤åˆ¶<a href="https://github.com/ght5935/HexoCode/blob/master/themes/hexo-theme-matery/source/js/mouseSlip.js" target="_blank" rel="noopener">sakura.js</a>å†…å®¹åˆ°mouseSlip.js<br>ç„¶ååœ¨<code>/themes/matery/layout/layout.ejs</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-js"><code class="language-js">    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>mouseSlip<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">></span>        <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"/js/mouseSlip.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">></span></code></pre><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>/themes/hexo-theme-matery/_config.yml</code>ä¸­é…ç½®:</p><pre class=" language-js"><code class="language-js">  # é¡µé¢é¼ æ ‡æ»‘è¿‡åŠ¨æ•ˆmouseSlip<span class="token punctuation">:</span>    enable<span class="token punctuation">:</span> <span class="token boolean">true</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœåŠ¡å™¨ä¸Šæ­å»ºnode</title>
      <link href="/2019/09/25/node/"/>
      <url>/2019/09/25/node/</url>
      
        <content type="html"><![CDATA[<h2 id="åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…Nodejs"><a href="#åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…Nodejs" class="headerlink" title="åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…Nodejs"></a>åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…Nodejs</h2><hr><h3 id="ä½¿ç”¨å‘½ä»¤è¡Œç™»å½•åˆ°æœåŠ¡å™¨ä¸Š"><a href="#ä½¿ç”¨å‘½ä»¤è¡Œç™»å½•åˆ°æœåŠ¡å™¨ä¸Š" class="headerlink" title="ä½¿ç”¨å‘½ä»¤è¡Œç™»å½•åˆ°æœåŠ¡å™¨ä¸Š"></a>ä½¿ç”¨å‘½ä»¤è¡Œç™»å½•åˆ°æœåŠ¡å™¨ä¸Š</h3><pre class=" language-js"><code class="language-js">ssh userName@remoteAddress          <span class="token comment" spellcheck="true">// ssh root@192.168.1.26</span></code></pre><h3 id="æŸ¥çœ‹æœåŠ¡å™¨ç³»ç»Ÿçš„ä½æ•°ä¿¡æ¯"><a href="#æŸ¥çœ‹æœåŠ¡å™¨ç³»ç»Ÿçš„ä½æ•°ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹æœåŠ¡å™¨ç³»ç»Ÿçš„ä½æ•°ä¿¡æ¯"></a>æŸ¥çœ‹æœåŠ¡å™¨ç³»ç»Ÿçš„ä½æ•°ä¿¡æ¯</h3><pre class=" language-js"><code class="language-js">uname <span class="token operator">-</span>a<span class="token comment" spellcheck="true">// Linux linux 3.13.0-65-generic #106-Ubuntu SMP Fri Oct 2 22:08:27 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux</span></code></pre><h3 id="åˆ‡æ¢ç¯å¢ƒåˆ°å®‰è£…ç›®å½•"><a href="#åˆ‡æ¢ç¯å¢ƒåˆ°å®‰è£…ç›®å½•" class="headerlink" title="åˆ‡æ¢ç¯å¢ƒåˆ°å®‰è£…ç›®å½•"></a>åˆ‡æ¢ç¯å¢ƒåˆ°å®‰è£…ç›®å½•</h3><p>è¿™é‡Œæˆ‘ä»¬åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªå«åšappçš„æ–‡ä»¶å¤¹ï¼Œå°†Nodejså®‰è£…åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œ</p><pre class=" language-js"><code class="language-js">cd <span class="token operator">/</span>    mkdir app <span class="token operator">&amp;&amp;</span> cd app </code></pre><h3 id="Nodejsçš„ä¸‹è½½ä¸å®‰è£…"><a href="#Nodejsçš„ä¸‹è½½ä¸å®‰è£…" class="headerlink" title="Nodejsçš„ä¸‹è½½ä¸å®‰è£…"></a>Nodejsçš„ä¸‹è½½ä¸å®‰è£…</h3><p>è¿›å…¥<a href="http://nodejs.cn/download/" target="_blank" rel="noopener">Nodejså®˜ç½‘</a>çš„ä¸‹è½½é¡µ<br>æ‰¾åˆ°è‡ªå·±éœ€è¦çš„Nodejsç‰ˆæœ¬æˆ‘è¿™é‡Œæ˜¯<a href="https://npm.taobao.org/mirrors/node/v8.9.3/node-v8.9.3-linux-x64.tar.xz" target="_blank" rel="noopener">Linux64ä½v8.9.3</a></p><h4 id="ä¸‹è½½NodejsÂ·"><a href="#ä¸‹è½½NodejsÂ·" class="headerlink" title="ä¸‹è½½NodejsÂ·"></a>ä¸‹è½½NodejsÂ·</h4><pre class=" language-js"><code class="language-js">wget èµ„æºé“¾æ¥åœ°å€</code></pre><h4 id="è§£å‹èµ„æºåŒ…"><a href="#è§£å‹èµ„æºåŒ…" class="headerlink" title="è§£å‹èµ„æºåŒ…"></a>è§£å‹èµ„æºåŒ…</h4><pre class=" language-js"><code class="language-js">tar <span class="token operator">-</span>xvf åˆšä¸‹è½½çš„å‹ç¼©åŒ…åç§°</code></pre><h4 id="é‡å‘½åè§£å‹åçš„èµ„æºåŒ…"><a href="#é‡å‘½åè§£å‹åçš„èµ„æºåŒ…" class="headerlink" title="é‡å‘½åè§£å‹åçš„èµ„æºåŒ…"></a>é‡å‘½åè§£å‹åçš„èµ„æºåŒ…</h4><pre class=" language-js"><code class="language-js">mv è§£å‹åçš„èµ„æºåŒ…å nodejs</code></pre><h4 id="ç¡®è®¤è¿‡ç¨‹æ— è¯¯"><a href="#ç¡®è®¤è¿‡ç¨‹æ— è¯¯" class="headerlink" title="ç¡®è®¤è¿‡ç¨‹æ— è¯¯"></a>ç¡®è®¤è¿‡ç¨‹æ— è¯¯</h4><p>ç¡®å®šnodejsçš„binç›®å½•ä¸‹ï¼Œæœ‰nodeå’Œnpmä¸¤ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œé‚£ä¹ˆè¯´æ˜æˆ‘ä»¬å‰é¢çš„æ­¥éª¤éƒ½æ²¡æœ‰é—®é¢˜ã€‚ï¼ˆæ²¡æœ‰çš„è¯è¦ä¹ˆæ˜¯ä¸‹è½½çš„èµ„æºæœ‰é—®é¢˜ï¼Œè¦ä¹ˆæ˜¯è§£å‹å‡ºç°é—®é¢˜äº†ï¼‰</p><h3 id="å»ºç«‹å…¨å±€é“¾æ¥"><a href="#å»ºç«‹å…¨å±€é“¾æ¥" class="headerlink" title="å»ºç«‹å…¨å±€é“¾æ¥"></a>å»ºç«‹å…¨å±€é“¾æ¥</h3><p>ç°åœ¨æˆ‘ä»¬çš„nodejsè™½ç„¶å·²ç»å®‰è£…æˆåŠŸäº†ï¼Œä½†æ˜¯è¿˜ä¸èƒ½å…¨å±€ä½¿ç”¨nodeå‘½ä»¤ï¼Œéœ€è¦å»ºç«‹è½¯è¿æ¥ï¼Œä½¿å…¶å˜ä¸ºå…¨</p><pre class=" language-js"><code class="language-js">ln <span class="token operator">-</span>s <span class="token operator">/</span>app<span class="token operator">/</span>nodejs<span class="token operator">/</span>bin<span class="token operator">/</span>npm <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token regex">/bin/</span>ln <span class="token operator">-</span>s <span class="token operator">/</span>app<span class="token operator">/</span>nodejs<span class="token operator">/</span>bin<span class="token operator">/</span>node <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token regex">/bin/</span></code></pre><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¤§åŠŸå‘Šæˆäº†ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡</p><pre class=" language-js"><code class="language-js">node <span class="token operator">-</span>vnpm <span class="token operator">-</span>v</code></pre><p>è¿›è¡Œæµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ</p>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo ä¸€é”®éƒ¨ç½²</title>
      <link href="/2019/09/12/hexo/"/>
      <url>/2019/09/12/hexo/</url>
      
        <content type="html"><![CDATA[<p>hexo+githubå»ºç«™åšå®¢çš„æ•™ç¨‹ç½‘ä¸Šçš„èµ„æ–™å·²ç»å¾ˆæˆç†Ÿäº†ï¼Œå¾ˆå¤šæ²¡æœ‰æœåŠ¡å™¨å°ä¼™ä¼´å¤§å¤šç”¨hexo+githubæ¥æ­å»ºåšå®¢çš„ï¼Œ ä¸ºäº†æ–¹ä¾¿éƒ¨ç½²å‘å¸ƒæ–‡ç« ï¼Œè¿™é‡Œå†™äº†ä¸€ä¸ª ä¸€é”®éƒ¨ç½²çš„è„šæœ¬</p><h3 id="hexoå¸¸ç”¨å‘½ä»¤"><a href="#hexoå¸¸ç”¨å‘½ä»¤" class="headerlink" title="hexoå¸¸ç”¨å‘½ä»¤"></a>hexoå¸¸ç”¨å‘½ä»¤</h3><blockquote><ul><li>hexo clean<br>  æ¸…é™¤ç¼“å­˜æ–‡ä»¶ db.json å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ public, ç½‘ç«™æ˜¾ç¤ºå¼‚å¸¸æ—¶å¯ä»¥æ‰§è¡Œè¿™æ¡å‘½ä»¤è¯•è¯•</li><li>hexo s<br>  å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œç”¨äºé¢„è§ˆä¸»é¢˜ã€‚é»˜è®¤åœ°å€ï¼š <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></li><li>hexo new [name]<br>  æ–°å»ºä¸€ç¯‡æ ‡é¢˜ä¸º [name] çš„æ–‡ç« ,æ–‡ä»¶ä¸€èˆ¬åœ¨source/_postæ–‡ä»¶å¤¹ä¸‹</li><li>hexo g<br>  ç”Ÿæˆç½‘ç«™é™æ€æ–‡ä»¶åˆ°é»˜è®¤è®¾ç½®çš„ public æ–‡ä»¶å¤¹</li><li>hexo d<br>  è‡ªåŠ¨ç”Ÿæˆç½‘ç«™é™æ€æ–‡ä»¶ï¼Œå¹¶éƒ¨ç½²åˆ°è®¾å®šçš„ä»“åº“ã€‚</li></ul></blockquote><h3 id="æ­£å¸¸éƒ¨ç½²"><a href="#æ­£å¸¸éƒ¨ç½²" class="headerlink" title="æ­£å¸¸éƒ¨ç½²"></a>æ­£å¸¸éƒ¨ç½²</h3><p>åœ¨é¡¹ç›®æ‰“å¼€git base here</p><pre class=" language-js"><code class="language-js"> hexo clean hexo g hexo d</code></pre><p>æˆ–è€…</p><pre class=" language-js"><code class="language-js"> hexo clean hexo g <span class="token operator">-</span>d</code></pre><h3 id="éƒ¨ç½²è„šæœ¬"><a href="#éƒ¨ç½²è„šæœ¬" class="headerlink" title="éƒ¨ç½²è„šæœ¬"></a>éƒ¨ç½²è„šæœ¬</h3><ul><li><p>æ–°å»ºä¸€ä¸ªr.shçš„æ–‡ä»¶</p></li><li><p>æŠŠä¸‹æ–¹ä»£ç å¤åˆ¶è¿›å»</p></li><li><p>åœ¨gitä¸Šæ‰§è¡Œ ./r.sh</p><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">-</span>d <span class="token string">"/public/"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>then  hexo clean  echo <span class="token string">"æ¸…é™¤å®Œæˆ"</span>  hexo g  echo <span class="token string">"ç”Ÿæˆæ¨¡æ¿"</span>  hexo d  echo <span class="token string">"éƒ¨ç½²å®Œæˆ"</span><span class="token keyword">else</span>  hexo g  echo <span class="token string">"ç”Ÿæˆæ¨¡æ¿"</span>  hexo d  echo <span class="token string">"éƒ¨ç½²å®Œæˆ"</span>fi  git add <span class="token punctuation">.</span>  git commit <span class="token operator">-</span>m <span class="token string">'è‡ªåŠ¨åŒ–æäº¤'</span>  git push</code></pre><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è¿™æ˜¯ä¸€ä¸ªç®€æ˜“ç‰ˆçš„ä¸€é”®éƒ¨ç½²æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæ¬¢è¿ç•™è¨€</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¸…é™¤æ‰€æœ‰cookieåŠå…¶ä»–æ“ä½œ</title>
      <link href="/2019/09/06/cookie/"/>
      <url>/2019/09/06/cookie/</url>
      
        <content type="html"><![CDATA[<p><code>JavaScript</code>æ˜¯è¿è¡Œåœ¨å®¢æˆ·ç«¯çš„è„šæœ¬ï¼Œå› æ­¤ä¸€èˆ¬æ˜¯ä¸èƒ½å¤Ÿè®¾ç½®<code>Session</code>çš„ï¼Œå› ä¸º<code>Session</code>æ˜¯è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„ã€‚<br>è€Œ<code>cookie</code>æ˜¯è¿è¡Œåœ¨å®¢æˆ·ç«¯çš„ï¼Œæ‰€ä»¥å¯ä»¥ç”¨JSæ¥è®¾ç½®<code>cookie</code>. </p><h3 id="è®¾ç½®cookie"><a href="#è®¾ç½®cookie" class="headerlink" title="è®¾ç½®cookie"></a>è®¾ç½®cookie</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> Days <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> exp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    exp<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span>exp<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> Days<span class="token operator">*</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">"="</span><span class="token operator">+</span> escape <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">";expires="</span> <span class="token operator">+</span> exp<span class="token punctuation">.</span><span class="token function">toGMTString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="è·å–cookie"><a href="#è·å–cookie" class="headerlink" title="è·å–cookie"></a>è·å–cookie</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getCookie</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> arr<span class="token punctuation">,</span>reg<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">"(^| )"</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">"=([^;]*)(;|$)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token operator">=</span>document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">unescape</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="åˆ é™¤cookie"><a href="#åˆ é™¤cookie" class="headerlink" title="åˆ é™¤cookie"></a>åˆ é™¤cookie</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">delCookie</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> exp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    exp<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span>exp<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> cval<span class="token operator">=</span><span class="token function">getCookie</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>cval<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        document<span class="token punctuation">.</span>cookie<span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">"="</span><span class="token operator">+</span>cval<span class="token operator">+</span><span class="token string">";expires="</span><span class="token operator">+</span>exp<span class="token punctuation">.</span><span class="token function">toGMTString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre><h3 id="æ¸…é™¤æ‰€æœ‰cookie"><a href="#æ¸…é™¤æ‰€æœ‰cookie" class="headerlink" title="æ¸…é™¤æ‰€æœ‰cookie"></a>æ¸…é™¤æ‰€æœ‰cookie</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">clearAllCookie</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> date<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    date<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> keys<span class="token operator">=</span>document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/[^ =;]+(?=\=)/g</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"éœ€è¦åˆ é™¤çš„cookieåå­—ï¼š"</span><span class="token operator">+</span>keys<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>keys<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span>  keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">)</span>            document<span class="token punctuation">.</span>cookie<span class="token operator">=</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">"=0; expire="</span><span class="token operator">+</span>date<span class="token punctuation">.</span><span class="token function">toGMTString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"; path=/"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cookie </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux åˆ¤æ–­æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶æ˜¯å¦å­˜åœ¨</title>
      <link href="/2019/09/05/linux/"/>
      <url>/2019/09/05/linux/</url>
      
        <content type="html"><![CDATA[<h3 id="æ–‡ä»¶å¤¹ä¸å­˜åœ¨åˆ™åˆ›å»º"><a href="#æ–‡ä»¶å¤¹ä¸å­˜åœ¨åˆ™åˆ›å»º" class="headerlink" title="æ–‡ä»¶å¤¹ä¸å­˜åœ¨åˆ™åˆ›å»º"></a>æ–‡ä»¶å¤¹ä¸å­˜åœ¨åˆ™åˆ›å»º</h3><pre class=" language-php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token operator">-</span>d <span class="token string">"/data/"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>thenmkdir <span class="token operator">/</span>data<span class="token keyword">else</span><span class="token keyword">echo</span> <span class="token string">"æ–‡ä»¶å¤¹å·²ç»å­˜åœ¨"</span>fi</code></pre><h3 id="æ–‡ä»¶å­˜åœ¨åˆ™åˆ é™¤"><a href="#æ–‡ä»¶å­˜åœ¨åˆ™åˆ é™¤" class="headerlink" title="æ–‡ä»¶å­˜åœ¨åˆ™åˆ é™¤"></a>æ–‡ä»¶å­˜åœ¨åˆ™åˆ é™¤</h3><pre class=" language-php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token operator">-</span>f <span class="token string">"/data/filename"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>then<span class="token keyword">echo</span> <span class="token string">"æ–‡ä»¶ä¸å­˜åœ¨"</span><span class="token keyword">else</span>rm <span class="token operator">-</span>d <span class="token operator">/</span>data<span class="token operator">/</span>filenamefi</code></pre><h3 id="åˆ¤æ–­æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨"><a href="#åˆ¤æ–­æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨" class="headerlink" title="åˆ¤æ–­æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨"></a>åˆ¤æ–­æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨</h3><pre class=" language-php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">-</span>d <span class="token string">"/data/"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>then<span class="token keyword">echo</span> <span class="token string">"æ–‡ä»¶å¤¹å­˜åœ¨"</span><span class="token keyword">else</span><span class="token keyword">echo</span> <span class="token string">"æ–‡ä»¶å¤¹ä¸å­˜åœ¨"</span>fi</code></pre><h3 id="åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨"><a href="#åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨" class="headerlink" title="åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨"></a>åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</h3><pre class=" language-php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">-</span>f <span class="token string">"/data/filename"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>then<span class="token keyword">echo</span> <span class="token string">"æ–‡ä»¶å­˜åœ¨"</span><span class="token keyword">else</span><span class="token keyword">echo</span> <span class="token string">"æ–‡ä»¶ä¸å­˜åœ¨"</span>fi</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­£æ–¹ä½“æ•ˆæœ</title>
      <link href="/2019/09/05/Demo/"/>
      <url>/2019/09/05/Demo/</url>
      
        <content type="html"><![CDATA[<h3 id="æ­£æ–¹ä½“æ•ˆæœ"><a href="#æ­£æ–¹ä½“æ•ˆæœ" class="headerlink" title="æ­£æ–¹ä½“æ•ˆæœ"></a>æ­£æ–¹ä½“æ•ˆæœ</h3><p><img src="/loading.gif" data-original="http://fech.in/static/images/cover/convert-excel-to-markdown-table.jpeg" alt="æ­£æ–¹ä½“"></p><p>ç†è®ºä¸Šã€ç°å®ä¸–ç•ŒåŠ3æ¬¡å…ƒä¸–ç•Œä¸­çš„å„ç§æœ‰è§„å¾‹çš„è¿åŠ¨æ•ˆæœéƒ½å¯ä»¥ä½¿ç”¨CSS3 transform 3Dæ–¹æ³•å®ç°ã€‚æ–‡ç« æœ€åçš„æ—‹è½¬æ•ˆæœå¯ä»¥è¯´æ˜¯å„ç±»åƒå¥‡ç™¾æ€ªæ•ˆæœä¸­çš„æ²§æµ·ä¸€ç²Ÿ<del>~</del>å…¶ä»–å„ç±»æœ‰çš„æ²¡æœ‰çš„æ•ˆæœè¿˜æ˜¯éœ€è¦å¤§å®¶è‡ªå·±çš„å¤§è„‘å»æ„æƒ³ã€‚è‡³äºå®ç°æ–¹é¢ï¼Œåªè¦ç†è§£äº†ï¼Œå…¶å®ä¹Ÿå°±éƒ½æ˜¯æ¯”è¾ƒç®€å•çš„</p><h3 id="ä»£ç åŒº"><a href="#ä»£ç åŒº" class="headerlink" title="ä»£ç åŒº"></a>ä»£ç åŒº</h3><pre class=" language-css"><code class="language-css">       <span class="token comment" spellcheck="true">/*æœ€å¤–å±‚å®¹å™¨æ ·å¼*/</span>        <span class="token selector"><span class="token class">.wrap</span> </span><span class="token punctuation">{</span>            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>            <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">150</span>px<span class="token punctuation">;</span>            <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>            <span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>            <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token property">bottom</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">/*åŒ…è£¹æ‰€æœ‰å®¹å™¨æ ·å¼*/</span>        <span class="token selector"><span class="token class">.cube</span> </span><span class="token punctuation">{</span>            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>            <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> auto<span class="token punctuation">;</span>            <span class="token property">transform-style</span><span class="token punctuation">:</span> preserve-<span class="token number">3</span>d<span class="token punctuation">;</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>-<span class="token number">30</span>deg<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>-<span class="token number">80</span>deg<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token property">animation</span><span class="token punctuation">:</span> rotate linear <span class="token number">20</span>s infinite<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token atrule"><span class="token rule">@-webkit-keyframes</span> rotate</span> <span class="token punctuation">{</span>            <span class="token selector">from </span><span class="token punctuation">{</span>                <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token number">0</span>deg<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token number">0</span>deg<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token selector">to </span><span class="token punctuation">{</span>                <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token number">360</span>deg<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token number">360</span>deg<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> div </span><span class="token punctuation">{</span>            <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span>            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span>            <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0.8</span><span class="token punctuation">;</span>            <span class="token property">transition</span><span class="token punctuation">:</span> all <span class="token number">.4</span>s<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">/*å®šä¹‰æ‰€æœ‰å›¾ç‰‡æ ·å¼*/</span>        <span class="token selector"><span class="token class">.pic</span> </span><span class="token punctuation">{</span>            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span>            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">200</span>px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.out_front</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token number">0</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">100</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.out_back</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>-<span class="token number">100</span>px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token number">180</span>deg<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.out_left</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>-<span class="token number">90</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">100</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.out_right</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token number">90</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">100</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.out_top</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token number">90</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">100</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.out_bottom</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>-<span class="token number">90</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">100</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">/*å®šä¹‰å°æ­£æ–¹ä½“æ ·å¼*/</span>        <span class="token selector"><span class="token class">.cube</span> span </span><span class="token punctuation">{</span>            <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>            <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>            <span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>            <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.in_pic</span> </span><span class="token punctuation">{</span>            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.in_front</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token number">0</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">50</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.in_back</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>-<span class="token number">50</span>px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token number">180</span>deg<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.in_left</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>-<span class="token number">90</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">50</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.in_right</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token number">90</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">50</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.in_top</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token number">90</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">50</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span> <span class="token class">.in_bottom</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>-<span class="token number">90</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">50</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">/*é¼ æ ‡ç§»å…¥åæ ·å¼*/</span>        <span class="token selector"><span class="token class">.cube</span><span class="token pseudo-class">:hover</span> <span class="token class">.out_front</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token number">0</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">200</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span><span class="token pseudo-class">:hover</span> <span class="token class">.out_back</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>-<span class="token number">200</span>px<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token number">180</span>deg<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span><span class="token pseudo-class">:hover</span> <span class="token class">.out_left</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>-<span class="token number">90</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">200</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span><span class="token pseudo-class">:hover</span> <span class="token class">.out_right</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token number">90</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">200</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span><span class="token pseudo-class">:hover</span> <span class="token class">.out_top</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token number">90</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">200</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token selector"><span class="token class">.cube</span><span class="token pseudo-class">:hover</span> <span class="token class">.out_bottom</span> </span><span class="token punctuation">{</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>-<span class="token number">90</span>deg<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token number">200</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span></code></pre><h3 id="domç»“æ„"><a href="#domç»“æ„" class="headerlink" title="domç»“æ„"></a>domç»“æ„</h3><pre class=" language-html"><code class="language-html">    <span class="token comment" spellcheck="true">&lt;!-- å¤–å±‚æœ€å¤§å®¹å™¨ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment" spellcheck="true">&lt;!--åŒ…è£¹æ‰€æœ‰å…ƒç´ çš„å®¹å™¨--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cube<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token comment" spellcheck="true">&lt;!--å‰é¢å›¾ç‰‡ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>out_front<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://fech.in/static/images/cover/write-blog-tools.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token comment" spellcheck="true">&lt;!--åé¢å›¾ç‰‡ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>out_back<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://fech.in/static/images/cover/convert-excel-to-markdown-table.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token comment" spellcheck="true">&lt;!--å·¦é¢å›¾ç‰‡ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>out_left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://fech.in/static/images/cover/pyspark-and-pandas.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token comment" spellcheck="true">&lt;!--å³é¢å›¾ç‰‡ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>out_right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://fech.in/static/images/cover/ml02-knn.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token comment" spellcheck="true">&lt;!--ä¸Šé¢å›¾ç‰‡ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>out_top<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://fech.in/static/images/cover/ml01-overview.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token comment" spellcheck="true">&lt;!--ä¸‹é¢å›¾ç‰‡ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>out_bottom<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://fech.in/static/images/cover/export-excel-use-template.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token comment" spellcheck="true">&lt;!--å°æ­£æ–¹ä½“ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>in_front<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://fech.in/static/images/cover/5-linux-command-surprised.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>in_pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>in_back<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://fech.in/static/images/cover/2017-1024.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>in_pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>in_left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://fech.in/static/images/cover/tigase-pre-research-1.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>in_pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>in_right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://fech.in/static/images/cover/javascript-dom-utils.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>in_pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>in_top<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://fech.in/static/images/cover/ml02-knn.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>in_pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>in_bottom<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://fech.in/static/images/cover/pyspark-and-pandas.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>in_pic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> </code></pre>]]></content>
      
      
      <categories>
          
          <category> ç‰¹æ•ˆdemo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Demo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoåšå®¢</title>
      <link href="/2019/09/04/hexo-first/"/>
      <url>/2019/09/04/hexo-first/</url>
      
        <content type="html"><![CDATA[<h3 id="ç”¨Hexoå†™å‡ºç¬¬ä¸€ç¯‡åšå®¢"><a href="#ç”¨Hexoå†™å‡ºç¬¬ä¸€ç¯‡åšå®¢" class="headerlink" title="ç”¨Hexoå†™å‡ºç¬¬ä¸€ç¯‡åšå®¢"></a>ç”¨Hexoå†™å‡ºç¬¬ä¸€ç¯‡åšå®¢</h3><p>ç»è¿‡ä¸€æ®µæ—¶é—´çš„æŠ˜è…¾ç»ˆäºç”¨ Hexo + GitHub æ­å»ºèµ·äº†ä¸€ä¸ªä¸ªäººåšå®¢ç«™ç‚¹ï¼Œç¬¬ä¸€æ—¶é—´è¾¹å­¦è¾¹å†™ï¼Œå¼„å‡ºäº†è¿™ç¬¬ä¸€ç¯‡åšå®¢ï¼Œå¿ƒé‡Œç”šæ˜¯æ¬¢å–œ.<br>Hexoæ˜¯ä¸€æ¬¾â€œå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶â€ï¼Œæ”¯æŒ Markdown çš„æ‰€æœ‰åŠŸèƒ½ã€‚æ‰€ä»¥ï¼Œå†™å‡ºä¸€ç¯‡åšå®¢å¿…é¡»å­¦ä¹  Hexo å’Œ Markdown çš„ä½¿ç”¨è§„åˆ™.</p><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>ç®€å•ã€æµè¡Œã€é€¼æ ¼é«˜ï¼Œæ’ç‰ˆåŠŸèƒ½è¶³å¤Ÿä½¿ç”¨</li><li>å¹¿æ³›ç”¨äºç”¨äºåŠå…¬ã€æ–‡å­—å·¥ä½œè€…ã€ç¨‹åºå‘˜ç­‰äººå‘˜æ—¥å¸¸æ–‡æ¡£çš„å†™ä½œæ’ç‰ˆ</li><li>ç®€å•ç²—æš´</li></ul><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>å¤ªç®€å•ï¼Œå¾ˆå¤šå¤æ‚çš„ä¸“ä¸šæ’ç‰ˆæ ·å¼åŠŸèƒ½æ— æ³•å®ç°ï¼Œåªé€‚ç”¨äºè¦æ±‚ä¸é«˜çš„æ–‡å­—æ’ç‰ˆåœºåˆ</li><li>ç®€å•ç²—æš´</li></ul><h3 id="markDownè¯­æ³•"><a href="#markDownè¯­æ³•" class="headerlink" title="markDownè¯­æ³•"></a>markDownè¯­æ³•</h3><p>Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ã€‚<a href="https://www.runoob.com/markdown/md-tutorial.html" target="_blank" rel="noopener">åŸºæœ¬è¯­æ³•</a>,<br>å¯ä»¥å°è¯•<a href="https://c.runoob.com/front-end/712" target="_blank" rel="noopener">åœ¨çº¿ç¼–è¾‘</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¢ç¢å¿µ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
